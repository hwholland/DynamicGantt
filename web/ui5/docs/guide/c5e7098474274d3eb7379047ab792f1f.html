<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>





<meta name="abstract" content="The SAPUI5 application index (the index in the following) provides an indexing and caching mechanism for information related to apps, components, and libraries in the SAPUI5 ABAP repository and related to components and libraries in the SAPUI5 distribution layer."/>
<meta name="description" content="The SAPUI5 application index (the index in the following) provides an indexing and caching mechanism for information related to apps, components, and libraries in the SAPUI5 ABAP repository and related to components and libraries in the SAPUI5 distribution layer."/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=29327004079381935"/>
<title>SAPUI5 Application Index</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->

  <script src="../../resources/sap/ui/thirdparty/jquery.js"></script>
    <script src="../../resources/sap/ui/demokit/js/highlight-query-terms.js"></script>
    <script src="../../resources/sap/ui/demokit/js/framewrapper.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/run_prettify.js"></script>
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/lang-css.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
  </head>
<body class="" id="loioc5e7098474274d3eb7379047ab792f1f">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1"><span class="ph pname">SAPUI5</span> Application Index</h1>

	
	<div class="body conbody"><p class="shortdesc">The <span class="ph pname">SAPUI5</span> application index
		(the <span class="ph uicontrol">index</span> in the following) provides an indexing and caching
		mechanism for information related to apps, components, and libraries in the <span class="ph pname">SAPUI5</span> ABAP repository and related to
		components and libraries in the <span class="ph pname">SAPUI5</span> distribution
		layer.</p>

		<div class="note note"><span class="notetitle">Note</span> 
			<p class="p">The index is used by several different services (such as the SAP Fiori launchpad and cache
				buster), which means you have to define the execution of the report
					<samp class="ph codeph">/UI5/APP_INDEX_CALCULATE</samp> as a background job. Descriptor and
				component IDs used in single <span class="ph pname">SAPUI5</span> repositories have to
				be unique and valid. For more information, see below.</p>

		</div>

		<p class="p">The index makes it possible to retrieve and find this information significantly faster than
			when carrying out the calculations each time it's requested. The index is also required,
			for example, for finding the paths to SAP Fiori libraries.</p>

		<div class="p">The index contains the following:<ul class="ul" id="loioc5e7098474274d3eb7379047ab792f1f__ul_sgq_lb2_1t">
				<li class="li">
					<p class="p">Cache busting information on the level of single and multiple application
						resources</p>

				</li>

				<li class="li">
					<p class="p">Certain properties or attributes (for example, component ID, used library, or
						dependencies) stored in the descriptor for apps, components, and
						libraries</p>

					<p class="p">For more information, see <a class="xref" href="be0cf40f61184b358b5faedaec98b2da.html" title="The descriptor for applications, components, and libraries is inspired by the Web Application Manifest concept introduced by the W3C. The descriptor provides a central, machine-readable and easy-to-access location for storing metadata associated with an application, an application component, or a library.">Descriptor for Applications, Components, and Libraries</a>.</p>

				</li>

			</ul>

		</div>

		<div class="section collapsible"><div class="section_title">How is the Index Calculated?</div><div type="How is the Index Calculated?">
			
			<p class="p">The index is empty initially and needs to be calculated from scratch. It is calculated by the
				report <span class="ph uicontrol">Calculation of SAPUI5 Application Index for SAPUI5
					Repositories</span> (<samp class="ph codeph">/UI5/APP_INDEX_CALCULATE</samp>). This
				report replaces the report <samp class="ph codeph">/UI5/UPDATE_CACHEBUSTER</samp> used in the user
				interface add-on 1.0 for SAP NetWeaver. The report
					<samp class="ph codeph">/UI5/APP_INDEX_CALCULATE</samp> has to be executed in every system
				whenever the content of the <span class="ph pname">SAPUI5</span> ABAP repository has
				changed. There are several scenarios in which the update of the calculation is
				performed automatically, but this isn’t ensured in every case. To be on the safe
				side, we recommend that you schedule an execution of the report every 30 minutes
				with the default settings (see below).</p>

			<p class="p">The report allows you to specify the basis for the calculation of the index. Here’s
				what you can choose from:</p>

			<div class="p">
				<ul class="ul" id="loioc5e7098474274d3eb7379047ab792f1f__ul_pkr_xch_f5">
					<li class="li">
						<p class="p">Full update of all <span class="ph pname">SAPUI5</span>
							repositories and the distribution layer regardless of any expiration
							dates</p>

						<p class="p">This mode is active when you use the provided variant
								<samp class="ph codeph">SAP&amp;ALL</samp>.</p>

					</li>

					<li class="li">
						<p class="p">Calculation for those repositories and the distribution layer for which
							either the expiration period you specified (in hours and minutes) has
							expired or where a transport changed the content of the repositories and
							the distribution layer since the last update</p>

						<div class="p">
							<div class="note note"><span class="notetitle">Note</span> 
								<p class="p">This is the default mode with an expiration period of 24 hours. We recommend that you run
									the report with this option and schedule a periodic execution
									every 30 minutes.</p>

							</div>

						</div>

					</li>

					<li class="li">
						<p class="p">A single repository</p>

					</li>

					<li class="li">
						<p class="p">The <span class="ph pname">SAPUI5</span>
							distribution layer only</p>

					</li>

				</ul>

			</div>

			
			
			
			
			
			
			
			
			
			
			
		</div></div>

		<div class="section collapsible"><div class="section_title">When and How Do I Schedule the Calculation Report?</div><div type="When and How Do I Schedule the Calculation Report?"><p class="p">Changes to the content of the <span class="ph pname">SAPUI5</span> ABAP repository
				require the index to be updated using the calculation report
					<samp class="ph codeph">/UI5/APP_INDEX_CALCULATE</samp>. In general there are two scenarios
				where content is changed:</p>
<ul class="ul" id="loioc5e7098474274d3eb7379047ab792f1f__ul_msk_mdh_f5">
				<li class="li">
					<p class="p">Scenario 1: The content is changed, for example, by uploads from development
						tools like SAP Web IDE or Eclipse, the available <span class="ph pname">SAPUI5</span> repository
						upload and download reports, the implementation of an SAP Note, or manual
						changes using transaction <samp class="ph codeph">SE80</samp> (the latter is not supported
						and therefore not recommended at all). This scenario usually happens in
						development systems.</p>

				</li>

				<li class="li">
					<p class="p">Scenario 2: New content is transported to the repository. This scenario
						usually happens in test and production systems.</p>

				</li>

			</ul>
<p class="p"><span class="ph emphasis emphasis">Scenario 1</span></p>
<p class="p">In the first scenario, the index update is
				in most cases triggered automatically. Exceptions: implementation of SAP Notes,
				changes to texts in the text repository with ABAP translation tools, and manual
				changes using transaction <samp class="ph codeph">SE80</samp> (not supported and therefore not
				recommended). In these cases, you have to trigger an update for the applications in
				question manually or schedule a full index calculation of the index with a
				reasonable time interval. Here’s an overview:</p>
<div class="p">
				
<div class="table-wrapper tablenoborder"><table summary="" id="loioc5e7098474274d3eb7379047ab792f1f__table_afq_xdh_f5" class="table" frame="border" border="1" rules="all">
<colgroup><col width="50%"/><col width="50%"/></colgroup>

						
						
						<thead class="thead" align="left">
							<tr class="row">
								<th class="entry" valign="top" width="50%" id="d11045150e204">
									<p class="p">Type of change to the <span class="ph pname">SAPUI5</span> ABAP repository</p>

								</th>

								<th class="entry" valign="top" width="50%" id="d11045150e213">
									<p class="p">Report Run Required?</p>

								</th>

							</tr>

						</thead>

						<tbody class="tbody">
							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Deployment with SAP Web IDE</p>

								</td>

								<td class="entry" rowspan="4" valign="top" width="50%" headers="d11045150e213 ">
									<p class="p">No, the update is performed automatically.</p>

								</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Upload with report
										<samp class="ph codeph">/UI5/UI5_REPOSITORY_LOAD</samp></p>

								</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Synchronization from Eclipse using the team repository
										provider (version 1.30.x or higher)</p>

								</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Installation of a new version of the SAPUI5 distribution
										layer</p>

									<p class="p">(SAP Note 2209229 is applied in the system for user interface
										add-on for SAP NetWeaver 2.0 SP01.)</p>

								</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Synchronization from Eclipse using the team repository
										provider (version 1.28.x or below)</p>

								</td>

								<td class="entry" rowspan="5" valign="top" width="50%" headers="d11045150e213 ">
									<p class="p">Yes, perform the update manually for the app or distribution
										layer in question.</p>

								</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Implementation of an SAP Note containing changes for an
											<span class="ph pname">SAPUI5</span> app</p>

								</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Installation of a new version of the <span class="ph pname">SAPUI5</span> distribution layer</p>

									<p class="p">(SAP Note 2209229 is not applied in the system for user
										interface add-on for SAP NetWeaver 2.0 SP00.) </p>

								</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="50%" headers="d11045150e204 ">
									<p class="p">Manual changes using transaction <samp class="ph codeph">SE80</samp> (not
										supported and therefore not recommended)</p>

								</td>

							</tr>

						</tbody>

					</table>
</div>

			</div>
<p class="p"><span class="ph emphasis emphasis">Scenario 2</span></p>
<p class="p">In the second scenario, the system performs
				an automatic update of the index after transports have been imported into the system
				under certain conditions, for example, which version of the user interface add-on
				for SAP NetWeaver is installed and whether the Business Add-In (BAdI)
				CTS_IMPORT_FEEDBACK is called after an import. For more information, see SAP Note
				2253480.</p>
<p class="p">If you are unsure whether the BAdI is called, you can verify this in
				the import log of a transport. The BAdI is called if the import log contains a
					<span class="ph uicontrol">Feedback after import or export</span> entry (there might be one
				after import and one after export entry) and the after import entry contains the
				following logs:</p>
<ul class="ul" id="loioc5e7098474274d3eb7379047ab792f1f__ul_kyq_qfh_f5">
				<li class="li">
					<p class="p"><span class="ph uicontrol">Start: Executing method FEEDBACK_AFTER_IMPORT for business add-on
							CTS_IMPORT_FEEDBACK</span></p>

				</li>

				<li class="li">
					<p class="p"><span class="ph uicontrol">Scheduled index update after finished import of
							transports</span></p>

				</li>

			</ul>
<p class="p">Here’s how you can decide whether you need to schedule the report:</p>
<img class="image" id="loioc5e7098474274d3eb7379047ab792f1f__image_jxk_tqm_f5" src="loio35e150c63be3484581ad5adc349860ad_LowRes.png"/><p class="p">If the
				version of the user interface add-on for SAP NetWeaver is lower than 2.0 SP02, the
				report is not triggered automatically and you have to schedule it manually. If the
				version is 2.0 SP02 or higher and the import is triggered by ABAP, the report is
				triggered automatically. If the import is triggered by OS command line (not by ABAP)
				and the NetWeaver version is lower than 7.42, the report is not triggered
				automatically. If the NetWeaver version is 7.42 or higher and the profile parameter
				is set, the report is triggered automatically. If the profile parameter is not set,
				the report is not triggered automatically.</p>
<p class="p">If you have to schedule the report,
				there are three options for this:</p>
<ul class="ul" id="loioc5e7098474274d3eb7379047ab792f1f__ul_vfj_wfh_f5">
				<li class="li">
					<p class="p">With a periodic time interval</p>

					<p class="p">This is the easiest way. However, it has the small disadvantage that some
						time might elapse between the import of a transport and the start of the
						update depending on the interval you choose.</p>

				</li>

				<li class="li">
					<p class="p">Starting after event <samp class="ph codeph">SAP_IMPORT_STO</samp></p>

					<p class="p">This triggers the report automatically after all transports of the import
						queue have been imported. However it doesn’t trigger the report in cases
						where you perform a special import of a single transport.</p>

				</li>

				<li class="li">
					<p class="p">Schedule the report in both ways</p>

					<p class="p">This is the most secure and fast way to ensure the index is up-to-date. The
						report ensures that no problems occur in cases where multiple executions are
						triggered in parallel.</p>

				</li>

			</ul>
</div></div>

		<div class="section collapsible"><div class="section_title">ATC Consistency Check</div><div type="ATC Consistency Check">
			
			<p class="p">The component IDs used in single repositories have to be unique and valid. Unique means that
				the same component ID must not be contained in more than one single repository.
				Valid means that the component ID fulfills the following rules:</p>

			<ul class="ul" id="loioc5e7098474274d3eb7379047ab792f1f__ul_oq2_gg2_4s">
				<li class="li">Consists only of alphanumeric characters</li>

				<li class="li">Contains only lowercase letters in all segments except the last segment; the
					last segment may contain camel case letters</li>

				<li class="li">Does not begin with a number</li>

				<li class="li">Does not contain special characters</li>

				<li class="li">Contains a dot (.) as a separator of the namespace</li>

				<li class="li">Is no longer than 70 characters; each individual segment is no longer than 40 characters
					(separated by a dot)</li>

			</ul>

			<p class="p">To check whether a component ID is unique and valid, you can use the ATC check
					<span class="ph sap-technical-name sap-technical-name">UI5 Component Consistency Check</span>
				(UI5_COMP). To check a component manually, select it in ABAP Workbench (transaction
					<samp class="ph codeph">SE80</samp>) and choose <span class="ph menucascade"><img src="images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">Check</span> <img src="images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">ABAB Test Cockpit with…</span> <img src="images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span> from the context menu. Choose the <span class="ph uicontrol">Checks</span> tab
				and under <span class="ph uicontrol">Functionality</span> select <span class="ph sap-technical-name sap-technical-name">UI5
					Component Consistency Check</span>. Choose <span class="ph uicontrol">Execute
					Checks</span> (<kbd class="key">F8</kbd>).</p>

			<div class="note note"><span class="notetitle">Note</span> 
				<p class="p">We recommend that your administrator defines the <samp class="ph codeph">UI5_COMP</samp> check
					as a default check for all transports to the <span class="ph pname">SAPUI5</span> ABAP
					repository.</p>

			</div>

			<p class="p">The <samp class="ph codeph">UI5_COMP</samp> check also indicates any errors that occurred when the
				manifest.json file was parsed.</p>

		</div></div>

		<div class="section collapsible"><div class="section_title">Application Log</div><div type="Application Log">
			
			<p class="p">Any issues during the recalculation of the index are written as the following messages to the
				application log:</p>

			
<div class="table-wrapper tablenoborder"><table summary="" id="loioc5e7098474274d3eb7379047ab792f1f__table_udd_kdb_nr" class="table" frame="border" border="1" rules="all">
<colgroup><col width="33.333333333333336%"/><col width="33.333333333333336%"/><col width="33.333333333333336%"/></colgroup>

					
					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="33.33333333333333%" id="d11045150e501">
								<p class="p">Message Type</p>

							</th>

							<th class="entry" valign="top" width="33.33333333333333%" id="d11045150e507">
								<p class="p">Classification</p>

							</th>

							<th class="entry" valign="top" width="33.33333333333333%" id="d11045150e513">
								<p class="p">What's the Issue?</p>

							</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e501 ">
								<p class="p">Error</p>

							</td>

							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e507 ">
								<p class="p">Very high</p>

							</td>

							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e513 ">
								<p class="p">Exception because manifest.json file is not valid or cache buster
									token could not be calculated</p>

							</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e501 ">
								<p class="p">Error</p>

							</td>

							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e507 ">
								<p class="p">High</p>

							</td>

							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e513 ">
								<p class="p">Component ID occurs or is used more than once</p>

							</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e501 ">
								<p class="p">Warning</p>

							</td>

							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e507 ">
								<p class="p">Medium</p>

							</td>

							<td class="entry" valign="top" width="33.33333333333333%" headers="d11045150e513 ">
								<p class="p">Component ID is potentially not valid</p>

							</td>

						</tr>

					</tbody>

				</table>
</div>

			<p class="p">To access the application log, choose <span class="ph uicontrol">View … Logs</span> in the
				report <samp class="ph codeph">/UI5/APP_INDEX_CALCULATE</samp>. The application log is also
				persisted in client 000 by default and can be analyzed using transaction
					<samp class="ph codeph">SLG1</samp>.</p>

			<p class="p">Technically, the application log is referenced by the object
					<samp class="ph codeph">/UI5/APPIDX</samp>. This object has the following subobjects:</p>

			
<div class="table-wrapper tablenoborder"><table summary="" id="loioc5e7098474274d3eb7379047ab792f1f__table_n3m_nmn_kr" class="table" frame="border" border="1" rules="all">
<colgroup><col width="50%"/><col width="50%"/></colgroup>

					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="50%" id="d11045150e620">
								<p class="p">Subobject</p>

							</th>

							<th class="entry" valign="top" width="50%" id="d11045150e626">
								<p class="p">What Does It Contain?</p>

							</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d11045150e620 ">
								<p class="p">GENERAL</p>

							</td>

							<td class="entry" valign="top" width="50%" headers="d11045150e626 ">
								<p class="p">General information like time and duration of the last calculation of the index, number
									of single repositories, and number of updated table entries</p>

							</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d11045150e620 ">
								<p class="p">UI5REP</p>

							</td>

							<td class="entry" valign="top" width="50%" headers="d11045150e626 ">
								<p class="p">Error messages that occurred when a single repository was processed</p>

								<p class="p">The external ID is the name of the single repository.</p>

							</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d11045150e620 ">
								<p class="p">UI5COMP</p>

							</td>

							<td class="entry" valign="top" width="50%" headers="d11045150e626 ">
								<p class="p">Component-related messages from a consistency check carried out at the end of the
									calculation of the index</p>

								<p class="p">The consistency check includes the following:</p>

								<ul class="ul" id="loioc5e7098474274d3eb7379047ab792f1f__ul_nbd_5mn_kr">
									<li class="li">
										<p class="p">Whether the same component ID is contained in more than one repository</p>

									</li>

									<li class="li">
										<p class="p">Whether the component ID is valid</p>

									</li>

									<li class="li">
										<p class="p">Whether a reuse component defined in the dependencies is not contained in the
											application index</p>

									</li>

								</ul>

								<p class="p">The external ID is the component ID.</p>

							</td>

						</tr>

					</tbody>

				</table>
</div>

			<p class="p">The application log contains only entries of the last run of the report
					<samp class="ph codeph">/UI5/APP_INDEX_CALCULATE</samp> and any older entries are removed
				automatically. For more information, see SAP Library for <span class="ph pname">SAP NetWeaver</span> at
					<span class="ph filepath">http://help.sap.com/nw_platform</span>. Under
					<span class="ph uicontrol">Application Help</span>, open <span class="ph uicontrol">SAP NetWeaver Business
					Warehouse</span> and search for <kbd class="ph userinput">Analyze Logs</kbd>.</p>

		</div></div>

		<div class="section collapsible"><div class="section_title">Monitoring Background Jobs and Application Logs</div><div type="Monitoring Background Jobs and Application Logs">
			
			<p class="p">To monitor the execution of background jobs, you can use Computing Center Management
				System (CCMS). For example, you can set up alerts for the report
					<samp class="ph codeph">/UI5/APP_INDEX_CALCULATE</samp> by using the data collection method
					<samp class="ph codeph">CCMS_BATCH_MONITORING</samp> and the analysis method
					<samp class="ph codeph">CCMS_BP_MON_ANALYZE</samp>.</p>

			<div class="note note"><span class="notetitle">Note</span> 
				<p class="p">This monitoring refers only to the executions of the job itself. It does not
					detect any application log entries with problems created by the report.</p>

			</div>

			<p class="p">For more information, see SAP Library for <span class="ph pname">SAP NetWeaver</span> at
					<span class="ph filepath">http://help.sap.com/nw_platform</span>. Under
					<span class="ph uicontrol">Application Help</span>, open <span class="ph uicontrol">SAP NetWeaver Business
					Warehouse</span> and search for <kbd class="ph userinput">Monitoring Jobs with the Alert
					Monitor</kbd> and <kbd class="ph userinput">Setting Up the Monitoring of Jobs with the
					Alert Monitor</kbd>.</p>

			<p class="p">To monitor the calculation results, you might want to build CCMS methods that
				evaluate the application logs for the object <samp class="ph codeph">/UI5/APPIDX</samp> and the
				subobjects <samp class="ph codeph">GENERAL</samp>, <samp class="ph codeph">UI5REP</samp>, and
					<samp class="ph codeph">UI5COMP</samp>. For more information, see SAP Library for <span class="ph pname">SAP NetWeaver</span> on SAP Help Portal at
					<span class="ph filepath">http://help.sap.com/nw_platform</span>. Under
					<span class="ph uicontrol">Application Help</span>, open <span class="ph uicontrol">SAP NetWeaver Business
					Warehouse</span> and search for <kbd class="ph userinput">Creating a Data Supplier for the
					CCMS Alert Monitor</kbd> and <kbd class="ph userinput">Application Log
					(BC-SRV-BAL)</kbd>.</p>

		</div></div>

	</div>

</div></div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="SAPUI5 Application Index";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>