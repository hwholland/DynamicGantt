<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>





<meta name="abstract" content=""/>
<meta name="description" content=""/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=5726114792855262"/>
<title>Preparing UI Annotations</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->

  <script src="../../resources/sap/ui/thirdparty/jquery.js"></script>
    <script src="../../resources/sap/ui/demokit/js/highlight-query-terms.js"></script>
    <script src="../../resources/sap/ui/demokit/js/framewrapper.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/themes/base/highlight-query-terms.css" />
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/run_prettify.js"></script>
    <script src="../../resources/sap/ui/demokit/js/google-code-prettify/lang-css.js"></script>
    <link rel="stylesheet" type="text/css" href="../../resources/sap/ui/demokit/js/google-code-prettify/prettify.css" />
  </head>
<body class="" id="loio83c89ccef12f48ab98f6c3811bd025b3">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Preparing UI Annotations</h1>

	
	<div class="body conbody"><p class="shortdesc"/>

		<div class="p">Vocabularies and annotations allow you to extend OData services by adding information
			about how to interpret the OData service and its data. For a general introduction to
			vocabularies and annotations, see the following links:<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_p5d_bjr_qt">
				<li class="li">
					<p class="p"><a class="xref" href="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations" alt="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations" title="http://scn.sap.com/community/gateway/blog/2013/10/07/vocabulary-based-annotations">Vocabulary Based Annotations</a></p>

				</li>

				<li class="li"><a class="xref" href="http://www.odata.org/vocabularies/" alt="http://www.odata.org/vocabularies/" title="http://www.odata.org/vocabularies/">Vocabularies</a></li>

			</ul>

		</div>

		<p class="p">On the <span class="ph pname">SAP Gateway</span> front-end
			server, you can find SAP-specific vocabularies in the <span class="ph pname">SAP Gateway</span> Service Builder
			(transaction <samp class="ph codeph">SEGW</samp>) under <span class="ph menucascade"><img src="images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">Extras</span> <img src="images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Vocabulary Repository</span> <img src="images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>.</p>

		<div class="p">The following types of vocabulary-based annotations are available:<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_k3f_qgr_lt">
				<li class="li">
					<p class="p">In-place: They are part of the metadata document of the service.</p>

				</li>

				<li class="li">
					<p class="p">Ex-place: They are composed of an Annotation Provider Class (APC) outside the metadata
						document. The APC is bound to the service using a registration in
						transaction <samp class="ph codeph">/IWBEP/REG_VOCAN</samp>.</p>

				</li>

			</ul>
</div>

		<p class="p">These annotations are available using a query to the <span class="ph pname">SAP Gateway</span> catalog
				service,<samp class="ph codeph"> /sap/opu/odata/IWFND/CATALOGSERVICE;v=2/</samp>. Entity Set:
			‚Annotations‘.</p>

		<div class="section"><div class="section_title">Reusability</div><div type="Reusability">
			
			<div class="p">If the OData service is editable instead of read-only, annotation elements must be
				added as required to activate or control the draft infrastructure. Existing
				read-only OData services that are annotated, for example fact sheets, are reusable
				for the smart templates under the following circumstances:<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_bkt_1xh_55">
					<li class="li">
						<p class="p">The annotations should be stored in the back-end system and have the life cycle of the data
							model in the back-end system except in the case of the definition of
							facet texts which must take place in a front-end file after
							generation.</p>

					</li>

					<li class="li">
						<p class="p">The OData service model (entity sets and entity types) are derived from
							CDS views. The CDS entities are the primary artifact for the data model.
							Based on annotations the transactional runtime model (based on the BOPF)
							is generated.</p>

					</li>

					<li class="li">The UI annotations are attached to CDS views using the tags as defined by
						the <a class="xref" href="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" alt="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" title="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm">SAP - ABAP Programming Model for SAP Fiori</a>.</li>

					<li class="li">In the front end, CDS UI annotations are exposed generically and dynamically through <span class="ph pname">SAP Gateway</span> APIs (APC)
						as separately addressable OData Version 4.0 annotation documents.</li>

				</ul>
<ul class="ul" id="loio83c89ccef12f48ab98f6c3811bd025b3__ul_txl_dhr_lt">
					<li class="li">
						<p class="p">Although the smart templates can consume any source of annotations, the
							recommended way is to use CDS annotations at CDS consumption views, and
							to expose them using <span class="ph pname">SAP Gateway</span> and
							SADL. The exposure will then generate OData annotations (XML format)
							from the CDS annotations. In the following sections we will explain
							which OData annotation is controlling each UI element. </p>

						<p class="p">For more information, see also the <a class="xref" href="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" alt="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm" title="http://help.sap.com/saphelp_nw75/helpdata/en/d9/bc687d35fa42ccbb0b9256ce786d51/frameset.htm">SAP - ABAP Programming Model for SAP Fiori</a>. </p>

					</li>

				</ul>
</div>

		</div></div>

		<div class="section"><div class="section_title">Actions</div><div type="Actions">
			
			<p class="p">The smart templates provide general actions for draft-enabled documents (edit, save,
				cancel/discard) but allow you to define further actions using annotations.</p>

			<p class="p">The draft-handling actions are handled by the <a class="xref" href="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm" alt="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm" title="http://help.sap.com/saphelp_nw75/helpdata/en/31/d2958acf714f4e9aeb42d85c517523/frameset.htm">Business Object Processing Framework
					(BOPF</a> ), whereas you must back up the application-specific actions using
				an implementation in the OData service. For more information about setting up
				application-specific actions in your annotations, see <a class="xref" href="8ba009d7b8434dc1a4948c9211e30c40.html">Actions in List Report View</a> and <a class="xref" href="5fe439613f9c4e259015951594c423dc.html">Actions in Object Page Header</a>.</p>

			<p class="p">Each action corresponds to an OData function import.</p>

		</div></div>

		<div class="section"><div class="section_title">Field Control</div><div type="Field Control"><p class="p">You can use field control to display a UI field as a
				mandatory input, a read-only field, or to hide the field. The field control
				information is based on is partly static and valid for all business document
				instances. However, most use cases are dynamic and reflect the state of the UI
				application, business document, or user context and must be controlled by the
				business logic.</p>
<p class="p">As business logic is implemented in the OData service, the
				OData service also has to provide the relevant field control information. This is
				valid for static information, which is contained in the service metadata, as well as
				for dynamic information, which is part of the entity data. There is a specification
				for an SAP extension of the OData protocol based on annotations for OData Version
				2.0, which covers also field control. For more information, see <a class="extlink" href="http://help.sap.com/disclaimer?site=http://scn.sap.com/docs/DOC-44986" alt="http://scn.sap.com/docs/DOC-44986" title="http://scn.sap.com/docs/DOC-44986">SAP Annotations for
					OData Version 2.0<img src="images/sap_link.png" class="link-sap" alt="Information published on SAP site" title="Information published on SAP site" border="0"/></a>.</p>
<p class="p">The controls interpret and apply field control information provided by the OData service
				automatically. When using a smart field it is sufficient to bind the control’s
					<span class="ph uicontrol">value-Property</span> to a property in the OData model in order
				to achieve field control as defined by the OData service. Field control of the OData
				service may be overruled by setting more restrictive properties for the smart
				field.</p>
<div class="note sap-samplecodeblock samplecode"><span class="samplecodetitle">Sample Code</span> Snippet of XML-View
				definition<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">
... 

&lt;!-- Field-control as defined in OData service --&gt;   

&lt;SmartField value="{Description}" /&gt;

     

&lt;!-- Overrule field-control of OData service - read-only here --&gt;    

&lt;SmartField value="{Name}" editable="false" /&gt;

...
</pre></div>
</div>
</div></div>

	</div>

<div class="related-links"> 
</div>
</div></div>

<SCRIPT LANGUAGE="JavaScript"><!--
 var page_title="Preparing UI Annotations";

        if (page_title !='' &&
        parent.document.title != null) {
 parent.document.title =
          page_title;
 } 
 var
        anchor = document.getElementById(location.hash.substring(+1)); if (typeof (anchor)
        !='undefined' && anchor !=null){
        var top = anchor.getBoundingClientRect().top; } 
//-->
</SCRIPT>
</body>
</html>