sap.ui.define(["sap/ui/base/Object"],function(B){"use strict";function g(c,C){var h;var e=[];function a(){var R=c.getModel("i18n").getResourceBundle();return{dataLoadFailedTitle:R.getText("ST_GENERIC_ERROR_LOAD_DATA_TITLE"),dataLoadFailedText:R.getText("ST_GENERIC_ERROR_LOAD_DATA_TEXT")};}function A(t,E,i){if(typeof i!=="function"){throw new Error("Event handler must be a function");}e.push({template:t,event:E,handler:i});}function d(t,E,l){for(var i=e.length;i--;){if(e[i].handler===l&&e[i].event===E&&e[i].template===t){e.splice(i,1);}}}function f(t,E,o){for(var i=0;i<e.length;i++){if(e[i].event===E&&e[i].template===t){e[i].handler(o);}}}function b(o){return o.getMetadata().getName();}function F(o){h.then(function(i){if(i&&!o.outdated){o.promise.then(function(){var v=c.getAggregation("rootControl");f(b(v.getController()),"PageDataLoaded",{context:i});});}});}function D(H){if(C.isActive){C.oApplication.setBusyReason(H,true,false);}}function j(H,E){var o=E.getParameter("data");if(!o){var i=a();var n=c.getAppComponent().getNavigationController();n.navigateToMessagePage({title:i.dataLoadFailedTitle,text:i.dataLoadFailedText});}C.oApplication.setBusyReason(H,false);}function k(R,E){R(E.getSource().getBoundContext());}function r(s){var p={};var o=c.getComponentData();if(o&&o.preprocessorsData&&o.preprocessorsData.rootContextExpand&&o.preprocessorsData.rootContextExpand.length){p.expand=o.preprocessorsData.rootContextExpand.join(",");}var H="HeaderRequest::"+c.getId()+"::"+s;h=new Promise(function(R){c.getComponentContainer().bindElement({path:s,events:{dataRequested:D.bind(null,H),dataReceived:j.bind(null,H),change:k.bind(null,R)},parameters:p,batchGroupId:"Changes",changeSetId:"Changes"});});}return{setEditableNDC:function(i){C.oApplication.setEditableNDC(i);},getEditableNDC:function(){return C.oApplication.getEditableNDC();},getCreateMode:function(s){var E;var m=c.getModel();if(s){if(m){E=m.getProperty(s);}}else{var o=c.getBindingContext();if(o){E=o.getObject();}}return!!(E&&E.__metadata&&E.__metadata.created);},attach:function(o,E,i){A(b(o),E,i);},detach:function(o,E,i){d(b(o),E,i);},fire:function(o,E,i){f(b(o),E,i);},addDataForNextPage:function(o){C.oApplication.addDataForNextPage(o);},getCurrentDisplayObject:function(){return C.oApplication.getCurrentDisplayObject();},rebindHeaderData:r,bindComponent:function(s){if(s){var o=c.getComponentContainer();if(o){var S=o.getSettings();if(S.routeConfig&&S.routeConfig.component&&S.routeConfig.component.list){var n=o.getSettings().routeConfig.navigationProperty;var i=s.substring(0,s.lastIndexOf("/"+n));if(i){s=i;}}if(C.utils.getCreateMode(s)){o.unbindElement();o.setBindingContext(o.getModel().getContext(s));}else{var l=C.oApplication.getCurrentDisplayObject();var E=o.getElementBinding();if(E&&E.getPath()===s){F(l);return false;}r(s);var u=c.getModel("ui");u.setProperty("/enabled",false);u.setProperty("/editable",false);F(l);}}}}};}return B.extend("sap.suite.ui.generic.template.lib.ComponentUtils.js",{constructor:function(c,C){jQuery.extend(this,g(c,C));}});});
