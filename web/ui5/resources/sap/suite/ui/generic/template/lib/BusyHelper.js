sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/lib/MessageUtils"],function(B,M){"use strict";function g(t){var b={};var i=false;var a=false;var c=0;var d=t.oNavContainer.getBusyIndicatorDelay();var A;function f(I){i=c!==0||!jQuery.isEmptyObject(b);if(i||I){a=false;if(i!==t.oNavContainer.getBusy()){t.oNavContainer.setBusy(i);if(!i){t.oNavContainer.setBusyIndicatorDelay(d);if(t.hasView()){M.handleTransientMessages(t.getDialogFragment);}}}}else{t.oApplication.getCurrentDisplayObject().promise.then(A);}}A=f.bind(null,true);function e(I){if(I){t.oNavContainer.setBusyIndicatorDelay(0);f();}else if(!a){a=true;setTimeout(f,0);}}function h(){c--;if(!c){e(false);}}function s(r,I,k){if(I){i=true;b[r]=true;}else{delete b[r];}e(k);}function j(o,I){c++;i=true;if(I){t.oNavContainer.setBusyIndicatorDelay(0);}o.then(h,h);e(I);}return{setBusyReason:s,setBusy:j,isBusy:function(){return i;}};}return B.extend("sap.suite.ui.generic.template.lib.BusyHelper",{constructor:function(t){jQuery.extend(this,g(t));}});});
