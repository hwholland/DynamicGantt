sap.ui.require.preload({
	"web/ui5/resources/sap/ushell/components/factsheet/Component-dbg.js": "jQuery.sap.declare(\"sap.ushell.components.factsheet.Component\"),jQuery.sap.require(\"sap.ui.core.UIComponent\"),sap.ui.core.UIComponent.extend(\"sap.ushell.components.factsheet.Component\",{oMainView:null,metadata:{version:\"1.38.26\",library:\"sap.ushell.components.factsheet\",includes:[\"css/custom.css\"],dependencies:{libs:[\"sap.m\",\"sap.ui.vbm\",\"sap.suite.ui.commons\",\"sap.ui.layout\",\"sap.viz\"],components:[]}},createContent:function(){var e=this.getComponentData(),t=e&&e.startupParameters||{};return this.oMainView=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.factsheet.views.ThingViewer\",viewData:t,height:\"100%\"}).addStyleClass(\"ThingViewer\"),this.oMainView},exit:function(){window.console.log(\"On Exit of factsheet Component.js called : this.getView().getId()\"+this.getId())},onExit:function(){window.console.log(\"On Exit of factsheet Component.js called : this.getView().getId()\"+this.getId())}}),jQuery.sap.setObject(\"factsheet.Component\",sap.ushell.components.factsheet.Component);",
	"web/ui5/resources/sap/ushell/components/factsheet/Component.js": "jQuery.sap.declare(\"sap.ushell.components.factsheet.Component\"),jQuery.sap.require(\"sap.ui.core.UIComponent\"),sap.ui.core.UIComponent.extend(\"sap.ushell.components.factsheet.Component\",{oMainView:null,metadata:{version:\"1.38.26\",library:\"sap.ushell.components.factsheet\",includes:[\"css/custom.css\"],dependencies:{libs:[\"sap.m\",\"sap.ui.vbm\",\"sap.suite.ui.commons\",\"sap.ui.layout\",\"sap.viz\"],components:[]}},createContent:function(){var e=this.getComponentData(),t=e&&e.startupParameters||{};return this.oMainView=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.factsheet.views.ThingViewer\",viewData:t,height:\"100%\"}).addStyleClass(\"ThingViewer\"),this.oMainView},exit:function(){window.console.log(\"On Exit of factsheet Component.js called : this.getView().getId()\"+this.getId())},onExit:function(){window.console.log(\"On Exit of factsheet Component.js called : this.getView().getId()\"+this.getId())}}),jQuery.sap.setObject(\"factsheet.Component\",sap.ushell.components.factsheet.Component);",
	"web/ui5/resources/sap/ushell/components/factsheet/annotation/Mapping-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.factsheet.annotation.Mapping\"),sap.ushell.components.factsheet.annotation.Mapping={},sap.ushell.components.factsheet.annotation.Mapping.initialized=[],sap.ushell.components.factsheet.annotation.Mapping.parse=function(e,t){var n,a,o,r,s,i,l,p,d,c,u,f,h,g,m,N,x,y,A,T,b,P,v,S,O,D,R,V,E,C,w,M,U,I,L,X,_,j,z,F,Q,k,H,G,Y,q,B,J,K,W={},Z={},$={},ee={},te={},ne=\"\";if(W=sap.ui.Device.browser.internet_explorer?{setNameSpace:function(e){return e.setProperty(\"SelectionNamespaces\",'xmlns:edmx=\"http://docs.oasis-open.org/odata/ns/edmx\" xmlns:d=\"http://docs.oasis-open.org/odata/ns/edm\"'),e.setProperty(\"SelectionLanguage\",\"XPath\"),e},selectNodes:function(e,t,n){return n.selectNodes(t)},nextNode:function(e){return e.nextNode()},getNodeText:function(e){return e.text}}:{setNameSpace:function(e){return e},nsResolver:function(e){return{edmx:\"http://docs.oasis-open.org/odata/ns/edmx\",d:\"http://docs.oasis-open.org/odata/ns/edm\"}[e]||null},selectNodes:function(e,t,n){var a=e.evaluate(t,n,this.nsResolver,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);return a.length=a.snapshotLength,a},nextNode:function(e,t){return e.snapshotItem(t)},getNodeText:function(e){return e.textContent}},n=function(e){var t;return sap.ui.Device.browser.internet_explorer?((t=new ActiveXObject(\"Microsoft.XMLHTTP\")).open(\"GET\",e,!1),t.send(null),t.responseXML):(t=jQuery.sap.sjax({url:e,dataType:\"xml\"})).success?t.data:void 0},a=function(e){var t,n,a,o,r,s,i,l,p,d,c,u,f,h={},g={},m={},N=!1,x={},y={},A={},T=!1;for(t=e.dataServices.schema.length-1;t>=0;t-=1)if((h=e.dataServices.schema[t]).entityType)for(r in n=h.namespace,a=h.entityType,o=h.complexType,a)if(a.hasOwnProperty(r)){if(A={},(x=a[r]).hasStream&&\"true\"===x.hasStream)continue;for(l in y={},x.property)if((s=x.property[l]).type.substring(0,n.length)===n){for(i in o)if(o[i].name===s.type.substring(n.length+1))for(l in o[i].property)p=o[i].property[l],y[o[i].name+\"/\"+p.name]=p.type}else{for(f in d=s.name,c=s.type,s.extensions)\"display-format\"===(u=s.extensions[f]).name&&\"Date\"===u.value?c=\"Edm.Date\":(T=!0,A[d]||(A[d]={}),u.namespace&&!A[d][u.namespace]&&(A[d][u.namespace]={}),A[d][u.namespace][u.name]=u.value);y[d]=c}g[n+\".\"+x.name]||(g[n+\".\"+x.name]={}),g[n+\".\"+x.name]=y,T&&(m[n+\".\"+x.name]||(N=!0),m[n+\".\"+x.name]={},m[n+\".\"+x.name]=A)}return N?{types:g,extensions:m}:{types:g}},o=function(e,t,n,a){var s,i,l=\"\";for(s in e)if(e.hasOwnProperty(s)&&e[s]){if((i=e[s]).Value&&i.Value.Path){(l=r(i.Value.Path,t,n,a))&&(e[s].EdmType=l);continue}if(i.Path){(l=r(i.Path,t,n,a))&&(e[s].EdmType=l);continue}if(i.Facets){e[s].Facets=o(i.Facets,t,n,a);continue}if(i.Data){e[s].Data=o(i.Data,t,n,a);continue}if(\"Data\"===s){e.Data=o(i,t,n,a);continue}if(i.Value&&i.Value.Apply){e[s].Value.Apply.Parameters=o(i.Value.Apply.Parameters,t,n,a);continue}i.Value&&i.Type&&\"Path\"===i.Type&&(l=r(i.Value,t,n,a))&&(e[s].EdmType=l)}return e},r=function(e,t,n,a){var o;for(o in\"@\"===e.charAt(0)&&1===e.indexOf(a.Alias)&&(e=e.slice(a.Alias.length+2)),e.indexOf(\"/\")>=0&&t[e.slice(0,e.indexOf(\"/\"))]&&(n=e.slice(0,e.indexOf(\"/\")),e=e.slice(e.indexOf(\"/\")+1)),t[n])if(t[n].hasOwnProperty(o)&&e===o)return t[n][o]},s=function(e){var t,n=\"\",a=\"\",o={};for(t=0;t<e.attributes.length;t+=1)\"Property\"!==e.attributes[t].name&&\"Term\"!==e.attributes[t].name&&(n=e.attributes[t].name,a=e.attributes[t].value);return n.length>0&&(o[n]=i(a)),o},l=function(e,t){var n,a,o,r,s,i,l={};return t.hasChildNodes()&&((n=W.selectNodes(e,\"./d:String\",t)).length>0?(a=W.nextNode(n,0),l.String=W.getNodeText(a)):(o=W.selectNodes(e,\"./d:Path\",t)).length>0?(r=W.nextNode(o,0),l.Path=W.getNodeText(r)):(s=W.selectNodes(e,\"./d:Apply\",t)).length>0&&(i=W.nextNode(s,0),l.Apply=c(e,i))),l},p=function(e,t,n){var a,o,r,p,c,u,f,h,g,m,N,x,y={},A={};if(t.hasChildNodes())if((a=W.selectNodes(e,\"./d:Record | ./d:Collection/d:Record | ./d:Collection/d:If/d:Record\",t)).length)for(o=0,r=0;r<a.length;r+=1)p=W.nextNode(a,r),c=d(e,p,n),p.getAttribute(\"Type\")&&(c.RecordType=i(p.getAttribute(\"Type\"))),0===o?p.nextElementSibling||\"Collection\"===p.parentNode.nodeName||\"If\"===p.parentNode.nodeName?(y=[]).push(c):y=c:y.push(c),o+=1;else if((u=W.selectNodes(e,\"./d:UrlRef\",t)).length>0)for(r=0;r<u.length;r+=1)f=W.nextNode(u,r),y.UrlRef=l(e,f);else if((u=W.selectNodes(e,\"./d:Url\",t)).length>0)for(r=0;r<u.length;r+=1)f=W.nextNode(u,r),y.Url=l(e,f);else if((x=W.selectNodes(e,\"./d:Collection/d:AnnotationPath | ./d:Collection/d:PropertyPath\",t)).length>0)for(y=[],r=0;r<x.length;r+=1)(A={})[(h=W.nextNode(x,r)).nodeName]=W.getNodeText(h),y.push(A);else for(y=s(t),g=W.selectNodes(e,\"./d:Annotation\",t),m={},N=0;N<g.length;N+=1)!1===(m=W.nextNode(g,N)).hasChildNodes()&&(y[i(m.getAttribute(\"Term\"))]=s(m));else y=s(t);return y},d=function(e,t,n){var a,o,r,l,d,u,f,h,g,m={},N={};for(a=W.selectNodes(e,\"./d:Annotation\",t),o=0;o<a.length;o+=1)!1===(N=W.nextNode(a,o)).hasChildNodes()&&(m[i(N.getAttribute(\"Term\"))]=s(N));if((r=W.selectNodes(e,\"./d:PropertyValue\",t)).length>0)for(l=0;l<r.length;l+=1)for(m[u=(d=W.nextNode(r,l)).getAttribute(\"Property\")]=p(e,d,n),f=W.selectNodes(e,\"./d:Apply\",d),h=null,g=0;g<f.length;g+=1)(h=W.nextNode(f,g))&&(m[u]={},m[u].Apply=c(e,h));else m=p(e,t,n);return m},c=function(e,t){var n,a,o={},r=null,s=[];for(n=W.selectNodes(e,\"./d:*\",t),a=0;a<n.length;a+=1)switch((r=W.nextNode(n,a)).nodeName){case\"Apply\":s.push({Type:\"Apply\",Value:c(e,r)});break;case\"LabeledElement\":s.push({Name:r.getAttribute(\"Name\"),Value:l(e,r)});break;default:s.push({Type:r.nodeName,Value:W.getNodeText(r)})}return o.Name=t.getAttribute(\"Function\"),o.Parameters=s,o},u=function(t,n,a){var o,r,s,i,l,p;for(r=e.dataServices.schema.length-1;r>=0;r-=1)if((o=e.dataServices.schema[r]).entityType)for(s=o.namespace+\".\",p=(i=o.entityType).length-1;p>=0;p-=1)if(s+i[p].name===t&&i[p].navigationProperty)for(l=0;l<i[p].navigationProperty.length;l+=1)if(i[p].navigationProperty[l].name===n)return!0;return!1},i=function(e){for(f in ee)if(ee.hasOwnProperty(f)&&e.indexOf(f+\".\")>=0)return e=e.replace(f+\".\",ee[f]+\".\");return e},this.initialized[t])return this.initialized[t];for(h=n(t),h=W.setNameSpace(h),g=W.selectNodes(h,\"//d:Schema\",h),m=0;m<g.length;m+=1)N=W.nextNode(g,m),$.Alias=N.getAttribute(\"Alias\"),$.Namespace=N.getAttribute(\"Namespace\");for(x=W.selectNodes(h,\"//edmx:Reference\",h),m=0;m<x.length;m+=1)if(y=W.nextNode(x,m),(A=W.selectNodes(h,\"./edmx:Include\",y))&&A.length>0&&((T=W.nextNode(A,0)).getAttribute(\"Alias\")?ee[T.getAttribute(\"Alias\")]=T.getAttribute(\"Namespace\"):ee[T.getAttribute(\"Namespace\")]=T.getAttribute(\"Namespace\")),(b=W.selectNodes(h,\"./edmx:IncludeAnnotations\",y)).length>0)for(C=0;C<b.length;C+=1)(P=W.nextNode(b,C)).getAttribute(\"TargetNamespace\")?(te[ne=P.getAttribute(\"TargetNamespace\")]||(te[ne]={}),te[ne][P.getAttribute(\"TermNamespace\")]=y.getAttribute(\"Uri\")):te[P.getAttribute(\"TermNamespace\")]=y.getAttribute(\"Uri\");if(te&&(Z.annotationReferences=te),Z.aliasDefinitions=ee,(v=W.selectNodes(h,\"//d:Term\",h)).length>0){for(S={},O=0;O<v.length;O+=1)D=W.nextNode(v,O),R=i(D.getAttribute(\"Type\")),S[\"@\"+$.Alias+\".\"+D.getAttribute(\"Name\")]=R;Z.termDefinitions=S}for((V=a(e)).extensions&&(Z.propertyExtensions=V.extensions),E=W.selectNodes(h,\"//d:Annotations \",h),O=0;O<E.length;O+=1)if(!1!==(w=W.nextNode(E,O)).hasChildNodes()){if((U=(M=w.getAttribute(\"Target\")).split(\".\")[0])&&ee[U]&&(M=M.replace(new RegExp(U,\"\"),ee[U])),I=M,L=null,M.indexOf(\"/\")>0&&(I=M.split(\"/\")[0],L=M.replace(I+\"/\",\"\")),Z[I]||(Z[I]={}),L)for(Z.propertyAnnotations||(Z.propertyAnnotations={}),Z.propertyAnnotations[I]||(Z.propertyAnnotations[I]={}),Z.propertyAnnotations[I][L]={},X=W.selectNodes(h,\"./d:Annotation\",w),j=0;j<X.length;j+=1)!1===(_=W.nextNode(X,j)).hasChildNodes()&&(z=i(_.getAttribute(\"Term\")),Z.propertyAnnotations[I][L][z]=s(_));else{for(Q=I.replace(ee[U],U),X=W.selectNodes(h,\"./d:Annotation\",w),F=0;F<X.length;F+=1)k=(_=W.nextNode(X,F)).getAttribute(\"Qualifier\"),H=i(_.getAttribute(\"Term\")),k&&(H+=\"#\"+k),G=p(h,_,Q),G=o(G,V.types,I,$),Z[I][H]=G;for(Y=W.selectNodes(h,\"//d:Annotations[contains(@Target, '\"+Q+\"')]//d:PropertyValue[contains(@Path, '/')]//@Path\",h),m=0;m<Y.length;m+=1)B=(q=W.nextNode(Y,m)).value,Z.propertyAnnotations&&Z.propertyAnnotations[I]&&Z.propertyAnnotations[I][B]||u(I,(J=B.split(\"/\"))[0])&&(Z.expand||(Z.expand={}),Z.expand[I]||(Z.expand[I]={}),Z.expand[I][J[0]]=J[0]);for(K=W.selectNodes(h,\"//d:Annotations[contains(@Target, '\"+Q+\"')]//d:Path[contains(., '/')]\",h),m=0;m<K.length;m+=1)q=W.nextNode(K,m),B=W.getNodeText(q),Z.propertyAnnotations[I]&&Z.propertyAnnotations[I][B]||(Z.expand||(Z.expand={}),Z.expand[I]||(Z.expand[I]={}),u(I,(J=B.split(\"/\"))[0])&&(Z.expand||(Z.expand={}),Z.expand[I]||(Z.expand[I]={}),Z.expand[I][J[0]]=J[0]))}this.initialized[t]=Z}return Z}}();",
	"web/ui5/resources/sap/ushell/components/factsheet/annotation/Mapping.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.factsheet.annotation.Mapping\"),sap.ushell.components.factsheet.annotation.Mapping={},sap.ushell.components.factsheet.annotation.Mapping.initialized=[],sap.ushell.components.factsheet.annotation.Mapping.parse=function(e,t){var n,a,o,r,s,i,l,p,d,c,u,f,h,g,m,N,x,y,A,T,b,P,v,S,O,D,R,V,E,C,w,M,U,I,L,X,_,j,z,F,Q,k,H,G,Y,q,B,J,K,W={},Z={},$={},ee={},te={},ne=\"\";if(W=sap.ui.Device.browser.internet_explorer?{setNameSpace:function(e){return e.setProperty(\"SelectionNamespaces\",'xmlns:edmx=\"http://docs.oasis-open.org/odata/ns/edmx\" xmlns:d=\"http://docs.oasis-open.org/odata/ns/edm\"'),e.setProperty(\"SelectionLanguage\",\"XPath\"),e},selectNodes:function(e,t,n){return n.selectNodes(t)},nextNode:function(e){return e.nextNode()},getNodeText:function(e){return e.text}}:{setNameSpace:function(e){return e},nsResolver:function(e){return{edmx:\"http://docs.oasis-open.org/odata/ns/edmx\",d:\"http://docs.oasis-open.org/odata/ns/edm\"}[e]||null},selectNodes:function(e,t,n){var a=e.evaluate(t,n,this.nsResolver,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);return a.length=a.snapshotLength,a},nextNode:function(e,t){return e.snapshotItem(t)},getNodeText:function(e){return e.textContent}},n=function(e){var t;return sap.ui.Device.browser.internet_explorer?((t=new ActiveXObject(\"Microsoft.XMLHTTP\")).open(\"GET\",e,!1),t.send(null),t.responseXML):(t=jQuery.sap.sjax({url:e,dataType:\"xml\"})).success?t.data:void 0},a=function(e){var t,n,a,o,r,s,i,l,p,d,c,u,f,h={},g={},m={},N=!1,x={},y={},A={},T=!1;for(t=e.dataServices.schema.length-1;t>=0;t-=1)if((h=e.dataServices.schema[t]).entityType)for(r in n=h.namespace,a=h.entityType,o=h.complexType,a)if(a.hasOwnProperty(r)){if(A={},(x=a[r]).hasStream&&\"true\"===x.hasStream)continue;for(l in y={},x.property)if((s=x.property[l]).type.substring(0,n.length)===n){for(i in o)if(o[i].name===s.type.substring(n.length+1))for(l in o[i].property)p=o[i].property[l],y[o[i].name+\"/\"+p.name]=p.type}else{for(f in d=s.name,c=s.type,s.extensions)\"display-format\"===(u=s.extensions[f]).name&&\"Date\"===u.value?c=\"Edm.Date\":(T=!0,A[d]||(A[d]={}),u.namespace&&!A[d][u.namespace]&&(A[d][u.namespace]={}),A[d][u.namespace][u.name]=u.value);y[d]=c}g[n+\".\"+x.name]||(g[n+\".\"+x.name]={}),g[n+\".\"+x.name]=y,T&&(m[n+\".\"+x.name]||(N=!0),m[n+\".\"+x.name]={},m[n+\".\"+x.name]=A)}return N?{types:g,extensions:m}:{types:g}},o=function(e,t,n,a){var s,i,l=\"\";for(s in e)if(e.hasOwnProperty(s)&&e[s]){if((i=e[s]).Value&&i.Value.Path){(l=r(i.Value.Path,t,n,a))&&(e[s].EdmType=l);continue}if(i.Path){(l=r(i.Path,t,n,a))&&(e[s].EdmType=l);continue}if(i.Facets){e[s].Facets=o(i.Facets,t,n,a);continue}if(i.Data){e[s].Data=o(i.Data,t,n,a);continue}if(\"Data\"===s){e.Data=o(i,t,n,a);continue}if(i.Value&&i.Value.Apply){e[s].Value.Apply.Parameters=o(i.Value.Apply.Parameters,t,n,a);continue}i.Value&&i.Type&&\"Path\"===i.Type&&(l=r(i.Value,t,n,a))&&(e[s].EdmType=l)}return e},r=function(e,t,n,a){var o;for(o in\"@\"===e.charAt(0)&&1===e.indexOf(a.Alias)&&(e=e.slice(a.Alias.length+2)),e.indexOf(\"/\")>=0&&t[e.slice(0,e.indexOf(\"/\"))]&&(n=e.slice(0,e.indexOf(\"/\")),e=e.slice(e.indexOf(\"/\")+1)),t[n])if(t[n].hasOwnProperty(o)&&e===o)return t[n][o]},s=function(e){var t,n=\"\",a=\"\",o={};for(t=0;t<e.attributes.length;t+=1)\"Property\"!==e.attributes[t].name&&\"Term\"!==e.attributes[t].name&&(n=e.attributes[t].name,a=e.attributes[t].value);return n.length>0&&(o[n]=i(a)),o},l=function(e,t){var n,a,o,r,s,i,l={};return t.hasChildNodes()&&((n=W.selectNodes(e,\"./d:String\",t)).length>0?(a=W.nextNode(n,0),l.String=W.getNodeText(a)):(o=W.selectNodes(e,\"./d:Path\",t)).length>0?(r=W.nextNode(o,0),l.Path=W.getNodeText(r)):(s=W.selectNodes(e,\"./d:Apply\",t)).length>0&&(i=W.nextNode(s,0),l.Apply=c(e,i))),l},p=function(e,t,n){var a,o,r,p,c,u,f,h,g,m,N,x,y={},A={};if(t.hasChildNodes())if((a=W.selectNodes(e,\"./d:Record | ./d:Collection/d:Record | ./d:Collection/d:If/d:Record\",t)).length)for(o=0,r=0;r<a.length;r+=1)p=W.nextNode(a,r),c=d(e,p,n),p.getAttribute(\"Type\")&&(c.RecordType=i(p.getAttribute(\"Type\"))),0===o?p.nextElementSibling||\"Collection\"===p.parentNode.nodeName||\"If\"===p.parentNode.nodeName?(y=[]).push(c):y=c:y.push(c),o+=1;else if((u=W.selectNodes(e,\"./d:UrlRef\",t)).length>0)for(r=0;r<u.length;r+=1)f=W.nextNode(u,r),y.UrlRef=l(e,f);else if((u=W.selectNodes(e,\"./d:Url\",t)).length>0)for(r=0;r<u.length;r+=1)f=W.nextNode(u,r),y.Url=l(e,f);else if((x=W.selectNodes(e,\"./d:Collection/d:AnnotationPath | ./d:Collection/d:PropertyPath\",t)).length>0)for(y=[],r=0;r<x.length;r+=1)(A={})[(h=W.nextNode(x,r)).nodeName]=W.getNodeText(h),y.push(A);else for(y=s(t),g=W.selectNodes(e,\"./d:Annotation\",t),m={},N=0;N<g.length;N+=1)!1===(m=W.nextNode(g,N)).hasChildNodes()&&(y[i(m.getAttribute(\"Term\"))]=s(m));else y=s(t);return y},d=function(e,t,n){var a,o,r,l,d,u,f,h,g,m={},N={};for(a=W.selectNodes(e,\"./d:Annotation\",t),o=0;o<a.length;o+=1)!1===(N=W.nextNode(a,o)).hasChildNodes()&&(m[i(N.getAttribute(\"Term\"))]=s(N));if((r=W.selectNodes(e,\"./d:PropertyValue\",t)).length>0)for(l=0;l<r.length;l+=1)for(m[u=(d=W.nextNode(r,l)).getAttribute(\"Property\")]=p(e,d,n),f=W.selectNodes(e,\"./d:Apply\",d),h=null,g=0;g<f.length;g+=1)(h=W.nextNode(f,g))&&(m[u]={},m[u].Apply=c(e,h));else m=p(e,t,n);return m},c=function(e,t){var n,a,o={},r=null,s=[];for(n=W.selectNodes(e,\"./d:*\",t),a=0;a<n.length;a+=1)switch((r=W.nextNode(n,a)).nodeName){case\"Apply\":s.push({Type:\"Apply\",Value:c(e,r)});break;case\"LabeledElement\":s.push({Name:r.getAttribute(\"Name\"),Value:l(e,r)});break;default:s.push({Type:r.nodeName,Value:W.getNodeText(r)})}return o.Name=t.getAttribute(\"Function\"),o.Parameters=s,o},u=function(t,n,a){var o,r,s,i,l,p;for(r=e.dataServices.schema.length-1;r>=0;r-=1)if((o=e.dataServices.schema[r]).entityType)for(s=o.namespace+\".\",p=(i=o.entityType).length-1;p>=0;p-=1)if(s+i[p].name===t&&i[p].navigationProperty)for(l=0;l<i[p].navigationProperty.length;l+=1)if(i[p].navigationProperty[l].name===n)return!0;return!1},i=function(e){for(f in ee)if(ee.hasOwnProperty(f)&&e.indexOf(f+\".\")>=0)return e=e.replace(f+\".\",ee[f]+\".\");return e},this.initialized[t])return this.initialized[t];for(h=n(t),h=W.setNameSpace(h),g=W.selectNodes(h,\"//d:Schema\",h),m=0;m<g.length;m+=1)N=W.nextNode(g,m),$.Alias=N.getAttribute(\"Alias\"),$.Namespace=N.getAttribute(\"Namespace\");for(x=W.selectNodes(h,\"//edmx:Reference\",h),m=0;m<x.length;m+=1)if(y=W.nextNode(x,m),(A=W.selectNodes(h,\"./edmx:Include\",y))&&A.length>0&&((T=W.nextNode(A,0)).getAttribute(\"Alias\")?ee[T.getAttribute(\"Alias\")]=T.getAttribute(\"Namespace\"):ee[T.getAttribute(\"Namespace\")]=T.getAttribute(\"Namespace\")),(b=W.selectNodes(h,\"./edmx:IncludeAnnotations\",y)).length>0)for(C=0;C<b.length;C+=1)(P=W.nextNode(b,C)).getAttribute(\"TargetNamespace\")?(te[ne=P.getAttribute(\"TargetNamespace\")]||(te[ne]={}),te[ne][P.getAttribute(\"TermNamespace\")]=y.getAttribute(\"Uri\")):te[P.getAttribute(\"TermNamespace\")]=y.getAttribute(\"Uri\");if(te&&(Z.annotationReferences=te),Z.aliasDefinitions=ee,(v=W.selectNodes(h,\"//d:Term\",h)).length>0){for(S={},O=0;O<v.length;O+=1)D=W.nextNode(v,O),R=i(D.getAttribute(\"Type\")),S[\"@\"+$.Alias+\".\"+D.getAttribute(\"Name\")]=R;Z.termDefinitions=S}for((V=a(e)).extensions&&(Z.propertyExtensions=V.extensions),E=W.selectNodes(h,\"//d:Annotations \",h),O=0;O<E.length;O+=1)if(!1!==(w=W.nextNode(E,O)).hasChildNodes()){if((U=(M=w.getAttribute(\"Target\")).split(\".\")[0])&&ee[U]&&(M=M.replace(new RegExp(U,\"\"),ee[U])),I=M,L=null,M.indexOf(\"/\")>0&&(I=M.split(\"/\")[0],L=M.replace(I+\"/\",\"\")),Z[I]||(Z[I]={}),L)for(Z.propertyAnnotations||(Z.propertyAnnotations={}),Z.propertyAnnotations[I]||(Z.propertyAnnotations[I]={}),Z.propertyAnnotations[I][L]={},X=W.selectNodes(h,\"./d:Annotation\",w),j=0;j<X.length;j+=1)!1===(_=W.nextNode(X,j)).hasChildNodes()&&(z=i(_.getAttribute(\"Term\")),Z.propertyAnnotations[I][L][z]=s(_));else{for(Q=I.replace(ee[U],U),X=W.selectNodes(h,\"./d:Annotation\",w),F=0;F<X.length;F+=1)k=(_=W.nextNode(X,F)).getAttribute(\"Qualifier\"),H=i(_.getAttribute(\"Term\")),k&&(H+=\"#\"+k),G=p(h,_,Q),G=o(G,V.types,I,$),Z[I][H]=G;for(Y=W.selectNodes(h,\"//d:Annotations[contains(@Target, '\"+Q+\"')]//d:PropertyValue[contains(@Path, '/')]//@Path\",h),m=0;m<Y.length;m+=1)B=(q=W.nextNode(Y,m)).value,Z.propertyAnnotations&&Z.propertyAnnotations[I]&&Z.propertyAnnotations[I][B]||u(I,(J=B.split(\"/\"))[0])&&(Z.expand||(Z.expand={}),Z.expand[I]||(Z.expand[I]={}),Z.expand[I][J[0]]=J[0]);for(K=W.selectNodes(h,\"//d:Annotations[contains(@Target, '\"+Q+\"')]//d:Path[contains(., '/')]\",h),m=0;m<K.length;m+=1)q=W.nextNode(K,m),B=W.getNodeText(q),Z.propertyAnnotations[I]&&Z.propertyAnnotations[I][B]||(Z.expand||(Z.expand={}),Z.expand[I]||(Z.expand[I]={}),u(I,(J=B.split(\"/\"))[0])&&(Z.expand||(Z.expand={}),Z.expand[I]||(Z.expand[I]={}),Z.expand[I][J[0]]=J[0]))}this.initialized[t]=Z}return Z}}();",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureTile-dbg.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureTile\"),jQuery.sap.require(\"sap.ushell.library\"),jQuery.sap.require(\"sap.m.CustomTile\"),sap.m.CustomTile.extend(\"sap.ushell.components.factsheet.controls.PictureTile\",{metadata:{deprecated:!0,library:\"sap.ushell\",properties:{height:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"32px\"},width:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"32px\"}},associations:{tileContent:{type:\"sap.ushell.components.factsheet.controls.PictureViewerItem\",multiple:!1}},events:{pictureDelete:{}}}}),sap.ushell.components.factsheet.controls.PictureTile.M_EVENTS={pictureDelete:\"pictureDelete\"},sap.ushell.components.factsheet.controls.PictureTile.prototype.init=function(e){this._oDeletePictureButton=new sap.m.Button({icon:\"sap-icon://sys-cancel\",press:jQuery.proxy(this._deletePictureRequestHandler,this),type:sap.m.ButtonType.Transparent}).addStyleClass(\"sapCaUiPTDeleteButton\"),sap.ui.Device.system.desktop||(this.attachPress(this._tilePressedHandler),this.attachBrowserEvent(\"swipe\",jQuery.proxy(this._tileSwipedHandler,this)),this._oDeletePictureButton.addStyleClass(\"hide\"))},sap.ushell.components.factsheet.controls.PictureTile.prototype.setTileContent=function(e){if(this.setContent(null),e){var t=e.getImage();this.setContent(t)}else this.setContent(null);this.setAssociation(\"tileContent\",e)},sap.ushell.components.factsheet.controls.PictureTile.prototype.setSize=function(e,t){this._width=e,this._height=t;var s=this.$();s&&(s.css({width:e+\"px\",height:t+\"px\"}),jQuery.sap.byId(this.getId()+\"-wrapper\").addClass(\"sapCaUiPTWrapper\"))},sap.ushell.components.factsheet.controls.PictureTile.prototype._tilePressedHandler=function(e){this.switchVisibility()},sap.ushell.components.factsheet.controls.PictureTile.prototype.switchVisibility=function(e){var t=this._oDeletePictureButton.$();void 0===e?t.toggleClass(\"hide\"):t.toggleClass(\"hide\",!e)},sap.ushell.components.factsheet.controls.PictureTile.prototype._tileSwipedHandler=function(e){var t=this._oDeletePictureButton.$();t&&!t.hasClass(\"hide\")&&t.addClass(\"hide\")},sap.ushell.components.factsheet.controls.PictureTile.prototype._deletePictureRequestHandler=function(){this.firePictureDelete()};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureTile.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureTile\"),jQuery.sap.require(\"sap.ushell.library\"),jQuery.sap.require(\"sap.m.CustomTile\"),sap.m.CustomTile.extend(\"sap.ushell.components.factsheet.controls.PictureTile\",{metadata:{deprecated:!0,library:\"sap.ushell\",properties:{height:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"32px\"},width:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"32px\"}},associations:{tileContent:{type:\"sap.ushell.components.factsheet.controls.PictureViewerItem\",multiple:!1}},events:{pictureDelete:{}}}}),sap.ushell.components.factsheet.controls.PictureTile.M_EVENTS={pictureDelete:\"pictureDelete\"},sap.ushell.components.factsheet.controls.PictureTile.prototype.init=function(e){this._oDeletePictureButton=new sap.m.Button({icon:\"sap-icon://sys-cancel\",press:jQuery.proxy(this._deletePictureRequestHandler,this),type:sap.m.ButtonType.Transparent}).addStyleClass(\"sapCaUiPTDeleteButton\"),sap.ui.Device.system.desktop||(this.attachPress(this._tilePressedHandler),this.attachBrowserEvent(\"swipe\",jQuery.proxy(this._tileSwipedHandler,this)),this._oDeletePictureButton.addStyleClass(\"hide\"))},sap.ushell.components.factsheet.controls.PictureTile.prototype.setTileContent=function(e){if(this.setContent(null),e){var t=e.getImage();this.setContent(t)}else this.setContent(null);this.setAssociation(\"tileContent\",e)},sap.ushell.components.factsheet.controls.PictureTile.prototype.setSize=function(e,t){this._width=e,this._height=t;var s=this.$();s&&(s.css({width:e+\"px\",height:t+\"px\"}),jQuery.sap.byId(this.getId()+\"-wrapper\").addClass(\"sapCaUiPTWrapper\"))},sap.ushell.components.factsheet.controls.PictureTile.prototype._tilePressedHandler=function(e){this.switchVisibility()},sap.ushell.components.factsheet.controls.PictureTile.prototype.switchVisibility=function(e){var t=this._oDeletePictureButton.$();void 0===e?t.toggleClass(\"hide\"):t.toggleClass(\"hide\",!e)},sap.ushell.components.factsheet.controls.PictureTile.prototype._tileSwipedHandler=function(e){var t=this._oDeletePictureButton.$();t&&!t.hasClass(\"hide\")&&t.addClass(\"hide\")},sap.ushell.components.factsheet.controls.PictureTile.prototype._deletePictureRequestHandler=function(){this.firePictureDelete()};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureTileRenderer-dbg.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n*/\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureTileRenderer\"),jQuery.sap.require(\"sap.m.CustomTileRenderer\"),sap.ushell.components.factsheet.controls.PictureTileRenderer=sap.ui.core.Renderer.extend(sap.m.CustomTileRenderer),sap.ushell.components.factsheet.controls.PictureTileRenderer.render=function(e,r){jQuery.sap.log.debug(\"PictureTileRenderer :: begin rendering\"),e.write(\"<div \"),e.writeControlData(r),e.addClass(\"sapCaUiPictureTile\"),e.writeClasses(),e.write(\">\"),e.write(\"<div\"),e.addClass(\"sapCaUiPictureTileContent\"),e.writeClasses(),e.write(\">\"),e.write(\"<div id='\"+r.getId()+\"-wrapper'>\"),e.renderControl(r._oDeletePictureButton),this._renderContent(e,r),e.write(\"</div>\"),e.write(\"</div></div>\")},sap.ushell.components.factsheet.controls.PictureTileRenderer._renderContent=function(e,r){e.renderControl(r.getContent())};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureTileRenderer.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n*/\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureTileRenderer\"),jQuery.sap.require(\"sap.m.CustomTileRenderer\"),sap.ushell.components.factsheet.controls.PictureTileRenderer=sap.ui.core.Renderer.extend(sap.m.CustomTileRenderer),sap.ushell.components.factsheet.controls.PictureTileRenderer.render=function(e,r){jQuery.sap.log.debug(\"PictureTileRenderer :: begin rendering\"),e.write(\"<div \"),e.writeControlData(r),e.addClass(\"sapCaUiPictureTile\"),e.writeClasses(),e.write(\">\"),e.write(\"<div\"),e.addClass(\"sapCaUiPictureTileContent\"),e.writeClasses(),e.write(\">\"),e.write(\"<div id='\"+r.getId()+\"-wrapper'>\"),e.renderControl(r._oDeletePictureButton),this._renderContent(e,r),e.write(\"</div>\"),e.write(\"</div></div>\")},sap.ushell.components.factsheet.controls.PictureTileRenderer._renderContent=function(e,r){e.renderControl(r.getContent())};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureViewer-dbg.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewer\"),jQuery.sap.require(\"sap.ushell.library\"),jQuery.sap.require(\"sap.m.TileContainer\"),sap.m.TileContainer.extend(\"sap.ushell.components.factsheet.controls.PictureViewer\",{metadata:{deprecated:!0,library:\"sap.ushell\",properties:{tileScaling:{type:\"float\",group:\"Misc\",defaultValue:.95},removable:{type:\"boolean\",group:\"Misc\",defaultValue:!1}},defaultAggregation:\"items\",aggregations:{items:{type:\"sap.ushell.components.factsheet.controls.PictureViewerItem\",multiple:!0,singularName:\"item\"}},events:{pictureDeleted:{}}}}),sap.ushell.components.factsheet.controls.PictureViewer.M_EVENTS={pictureDeleted:\"pictureDeleted\"},jQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewer\"),jQuery.sap.require(\"sap.ui.core.ResizeHandler\"),jQuery.sap.require(\"sap.m.TileContainer\"),sap.ushell.components.factsheet.controls.PictureViewer.prototype.init=function(){if(sap.m.TileContainer.prototype.init.apply(this),this.setEditable(!1),sap.ui.getCore().isMobile()){jQuery(window).bind(\"tap\",jQuery.proxy(this._reset,this));var e=sap.ui.getCore().getStaticAreaRef();this.$blocker=jQuery(\"<div class='sapCaPVBly sapUiBLy'></div>\").css(\"visibility\",\"hidden\"),jQuery(e).append(this.$blocker)}sap.ui.getCore().isMobile()||jQuery(window).bind(\"resize\",jQuery.proxy(this._resize,this)),this.addStyleClass(\"sapCaPW\"),this.addStyleClass(\"sapCaPWRendering\")},sap.ushell.components.factsheet.controls.PictureViewer.prototype._resize=function(){this._oDragSession||(setTimeout(jQuery.proxy(function(){this._applyDimension(),this._update(!1),delete this._iInitialResizeTimeout},this),this._iInitialResizeTimeout),this._iInitialResizeTimeout=0)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.exit=function(){this.$blocker.remove(),sap.ui.getCore().isMobile()||jQuery(window).unbind(\"resize\",jQuery.proxy(this._resize,this)),sap.m.TileContainer.prototype.exit.apply(this),sap.ui.Device.system.desktop||jQuery(window).unbind(\"tap\",jQuery.proxy(this._reset,this))},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setTileScaling=function(e){(e<0||e>1)&&(e=.75,jQuery.sap.log.error(\"Tile Scaling should be a float value between 0 and 1 and not \"+e+\". Setting it to 0.75 by default.\")),this.setProperty(\"tileScaling\",e)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.addItem=function(e){this.insertItem(e,this.getItems().length)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.insertItem=function(e,t){var i=new sap.ushell.components.factsheet.controls.PictureTile({tileContent:e});return i.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this)),this.insertTile(i,t),this.insertAggregation(\"items\",e,t),this},sap.ushell.components.factsheet.controls.PictureViewer.prototype.insertTile=function(e,t){e.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this)),sap.m.TileContainer.prototype.insertTile.apply(this,arguments)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.deleteTile=function(e){sap.m.TileContainer.prototype.deleteTile.apply(this,arguments),e.destroy()},sap.ushell.components.factsheet.controls.PictureViewer.prototype.deletePicture=function(e){var t,i,s;return s=this.getTiles().length,(t=\"number\"!=typeof e||e<0||e>=s?this.getPageFirstTileIndex():e)>-1?((i=this.getTiles()[t]).detachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this)),this.deleteTile(i),this.removeAggregation(\"items\",t,!0)):jQuery.sap.log.warning(\"Cannot find and delete a picture at index : \"+e),this},sap.ushell.components.factsheet.controls.PictureViewer.prototype.selectPicture=function(e){var t=this.getTiles().length;return\"number\"!=typeof e?e=0:e<0?e=0:e>=t&&(e=t-1),this._bRendered&&this.addStyleClass(\"sapCaPWRendering\"),this._selectedIndex=e,this},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setSelectedIndex=function(e){this.selectPicture(e)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.getCurrentPictureIndex=function(){return this.getPageFirstTileIndex()},sap.ushell.components.factsheet.controls.PictureViewer.prototype._deletePictureRequestHandler=function(e){var t=this.indexOfTile(e.getSource());this.deleteTile(e.getSource()),this.firePictureDeleted({index:t})},sap.ushell.components.factsheet.controls.PictureViewer.prototype._reset=function(e){var t=this.getCurrentPictureIndex(),i=this.getTiles();if(t>-1&&i&&i.length>t){var s=i[t];if(s){var r=jQuery(e.target);if(this.$().length>0&&r.length>0)0===r.closest(this.$()).length&&s.switchVisibility(!1)}}},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setRemovable=function(e){this.setProperty(\"removable\",e,!0),this.toggleStyleClass(\"sapCaPWEditable\",e)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setEditable=function(e){sap.m.TileContainer.prototype.setEditable.call(this,!1)},sap.ushell.components.factsheet.controls.PictureViewer.prototype._getTileDimension=function(){if(this._bRendered){var e=jQuery.sap.byId(this.getId()+\"-scrl\");return{width:e.width(),height:e.height()}}},sap.ushell.components.factsheet.controls.PictureViewer.prototype.onBeforeRendering=function(){this.addStyleClass(\"sapCaPWRendering\")},sap.ushell.components.factsheet.controls.PictureViewer.prototype.onAfterRendering=function(){var e=this;if(this._bRendered=!0,this._applyDimension(),this.$().toggleClass(\"sapCaPWEditable\",!0===this.getRemovable()),this._sInitialResizeTimeoutId=setTimeout(function(){e.addStyleClass(\"sapCaPWRendering\"),e._applyPageStartIndex(e._selectedIndex),e._update(!1)},this._iInitialResizeTimeout),sap.ui.Device.system.desktop){var t=this.getTiles()[0],i=this._iInitialResizeTimeout;t&&setTimeout(jQuery.proxy(function(){this._findTile(t.$()).focus()},this),i)}},sap.ushell.components.factsheet.controls.PictureViewer.prototype._update=function(e){if(sap.m.TileContainer.prototype._update.apply(this,arguments),this.removeStyleClass(\"sapCaPWRendering\"),sap.ui.getCore().isMobile()){var t=this,i=this.$blocker;setTimeout(jQuery.proxy(function(){i.fadeOut(200,function(){t.css(\"visibility\",\"hidden\").css(\"z-index\",0)})},this),250)}},sap.ushell.components.factsheet.controls.PictureViewer.prototype._applyDimension=function(){var e,t,i,s=this._getContainerDimension(),r=this.getId(),o=this.$(),n=10,l=jQuery.sap.byId(r+\"-cnt\"),a=jQuery.sap.byId(r+\"-pager\").outerHeight();jQuery.sap.byId(r+\"-scrl\").css({width:s.outerwidth+\"px\",height:s.outerheight-a+\"px\"}),l.css({height:s.outerheight-a+\"px\",visibility:\"visible\"}),o.css(\"visibility\",\"visible\"),e=o.position(),t=l.position(),i=l.outerHeight(),jQuery.device.is.phone?n=2:sap.ui.Device.system.desktop&&(n=0),jQuery.sap.byId(r+\"-blind\").css({top:t.top+n+\"px\",left:t.left+n+\"px\",width:l.outerWidth()-n+\"px\",height:i-n+\"px\"}),jQuery.sap.byId(r+\"-rightedge\").css({top:e.top+n+60+\"px\",right:n+\"px\",height:i-n-60+\"px\"}),jQuery.sap.byId(r+\"-leftedge\").css({top:e.top+n+60+\"px\",left:e.left+n+\"px\",height:i-n-60+\"px\"})},sap.ushell.components.factsheet.controls.PictureViewer.prototype.showBlockerLayer=function(e){if(sap.ui.getCore().isMobile()){var t=20;jQuery(sap.ui.getCore().getStaticAreaRef()).children().each(function(e,i){var s=parseInt(jQuery(i).css(\"z-index\"),10);isNaN(s)||(t=Math.max(t,s))}),jQuery.sap.log.debug(\"blocker layer z-index calculated : \"+t+1),this.$blocker.css(\"z-index\",t+1).css(\"visibility\",\"visible\").fadeIn(200,function(){e&&e.call()})}else e&&e.call()};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureViewer.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewer\"),jQuery.sap.require(\"sap.ushell.library\"),jQuery.sap.require(\"sap.m.TileContainer\"),sap.m.TileContainer.extend(\"sap.ushell.components.factsheet.controls.PictureViewer\",{metadata:{deprecated:!0,library:\"sap.ushell\",properties:{tileScaling:{type:\"float\",group:\"Misc\",defaultValue:.95},removable:{type:\"boolean\",group:\"Misc\",defaultValue:!1}},defaultAggregation:\"items\",aggregations:{items:{type:\"sap.ushell.components.factsheet.controls.PictureViewerItem\",multiple:!0,singularName:\"item\"}},events:{pictureDeleted:{}}}}),sap.ushell.components.factsheet.controls.PictureViewer.M_EVENTS={pictureDeleted:\"pictureDeleted\"},jQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewer\"),jQuery.sap.require(\"sap.ui.core.ResizeHandler\"),jQuery.sap.require(\"sap.m.TileContainer\"),sap.ushell.components.factsheet.controls.PictureViewer.prototype.init=function(){if(sap.m.TileContainer.prototype.init.apply(this),this.setEditable(!1),sap.ui.getCore().isMobile()){jQuery(window).bind(\"tap\",jQuery.proxy(this._reset,this));var e=sap.ui.getCore().getStaticAreaRef();this.$blocker=jQuery(\"<div class='sapCaPVBly sapUiBLy'></div>\").css(\"visibility\",\"hidden\"),jQuery(e).append(this.$blocker)}sap.ui.getCore().isMobile()||jQuery(window).bind(\"resize\",jQuery.proxy(this._resize,this)),this.addStyleClass(\"sapCaPW\"),this.addStyleClass(\"sapCaPWRendering\")},sap.ushell.components.factsheet.controls.PictureViewer.prototype._resize=function(){this._oDragSession||(setTimeout(jQuery.proxy(function(){this._applyDimension(),this._update(!1),delete this._iInitialResizeTimeout},this),this._iInitialResizeTimeout),this._iInitialResizeTimeout=0)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.exit=function(){this.$blocker.remove(),sap.ui.getCore().isMobile()||jQuery(window).unbind(\"resize\",jQuery.proxy(this._resize,this)),sap.m.TileContainer.prototype.exit.apply(this),sap.ui.Device.system.desktop||jQuery(window).unbind(\"tap\",jQuery.proxy(this._reset,this))},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setTileScaling=function(e){(e<0||e>1)&&(e=.75,jQuery.sap.log.error(\"Tile Scaling should be a float value between 0 and 1 and not \"+e+\". Setting it to 0.75 by default.\")),this.setProperty(\"tileScaling\",e)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.addItem=function(e){this.insertItem(e,this.getItems().length)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.insertItem=function(e,t){var i=new sap.ushell.components.factsheet.controls.PictureTile({tileContent:e});return i.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this)),this.insertTile(i,t),this.insertAggregation(\"items\",e,t),this},sap.ushell.components.factsheet.controls.PictureViewer.prototype.insertTile=function(e,t){e.attachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this)),sap.m.TileContainer.prototype.insertTile.apply(this,arguments)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.deleteTile=function(e){sap.m.TileContainer.prototype.deleteTile.apply(this,arguments),e.destroy()},sap.ushell.components.factsheet.controls.PictureViewer.prototype.deletePicture=function(e){var t,i,s;return s=this.getTiles().length,(t=\"number\"!=typeof e||e<0||e>=s?this.getPageFirstTileIndex():e)>-1?((i=this.getTiles()[t]).detachPictureDelete(jQuery.proxy(this._deletePictureRequestHandler,this)),this.deleteTile(i),this.removeAggregation(\"items\",t,!0)):jQuery.sap.log.warning(\"Cannot find and delete a picture at index : \"+e),this},sap.ushell.components.factsheet.controls.PictureViewer.prototype.selectPicture=function(e){var t=this.getTiles().length;return\"number\"!=typeof e?e=0:e<0?e=0:e>=t&&(e=t-1),this._bRendered&&this.addStyleClass(\"sapCaPWRendering\"),this._selectedIndex=e,this},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setSelectedIndex=function(e){this.selectPicture(e)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.getCurrentPictureIndex=function(){return this.getPageFirstTileIndex()},sap.ushell.components.factsheet.controls.PictureViewer.prototype._deletePictureRequestHandler=function(e){var t=this.indexOfTile(e.getSource());this.deleteTile(e.getSource()),this.firePictureDeleted({index:t})},sap.ushell.components.factsheet.controls.PictureViewer.prototype._reset=function(e){var t=this.getCurrentPictureIndex(),i=this.getTiles();if(t>-1&&i&&i.length>t){var s=i[t];if(s){var r=jQuery(e.target);if(this.$().length>0&&r.length>0)0===r.closest(this.$()).length&&s.switchVisibility(!1)}}},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setRemovable=function(e){this.setProperty(\"removable\",e,!0),this.toggleStyleClass(\"sapCaPWEditable\",e)},sap.ushell.components.factsheet.controls.PictureViewer.prototype.setEditable=function(e){sap.m.TileContainer.prototype.setEditable.call(this,!1)},sap.ushell.components.factsheet.controls.PictureViewer.prototype._getTileDimension=function(){if(this._bRendered){var e=jQuery.sap.byId(this.getId()+\"-scrl\");return{width:e.width(),height:e.height()}}},sap.ushell.components.factsheet.controls.PictureViewer.prototype.onBeforeRendering=function(){this.addStyleClass(\"sapCaPWRendering\")},sap.ushell.components.factsheet.controls.PictureViewer.prototype.onAfterRendering=function(){var e=this;if(this._bRendered=!0,this._applyDimension(),this.$().toggleClass(\"sapCaPWEditable\",!0===this.getRemovable()),this._sInitialResizeTimeoutId=setTimeout(function(){e.addStyleClass(\"sapCaPWRendering\"),e._applyPageStartIndex(e._selectedIndex),e._update(!1)},this._iInitialResizeTimeout),sap.ui.Device.system.desktop){var t=this.getTiles()[0],i=this._iInitialResizeTimeout;t&&setTimeout(jQuery.proxy(function(){this._findTile(t.$()).focus()},this),i)}},sap.ushell.components.factsheet.controls.PictureViewer.prototype._update=function(e){if(sap.m.TileContainer.prototype._update.apply(this,arguments),this.removeStyleClass(\"sapCaPWRendering\"),sap.ui.getCore().isMobile()){var t=this,i=this.$blocker;setTimeout(jQuery.proxy(function(){i.fadeOut(200,function(){t.css(\"visibility\",\"hidden\").css(\"z-index\",0)})},this),250)}},sap.ushell.components.factsheet.controls.PictureViewer.prototype._applyDimension=function(){var e,t,i,s=this._getContainerDimension(),r=this.getId(),o=this.$(),n=10,l=jQuery.sap.byId(r+\"-cnt\"),a=jQuery.sap.byId(r+\"-pager\").outerHeight();jQuery.sap.byId(r+\"-scrl\").css({width:s.outerwidth+\"px\",height:s.outerheight-a+\"px\"}),l.css({height:s.outerheight-a+\"px\",visibility:\"visible\"}),o.css(\"visibility\",\"visible\"),e=o.position(),t=l.position(),i=l.outerHeight(),jQuery.device.is.phone?n=2:sap.ui.Device.system.desktop&&(n=0),jQuery.sap.byId(r+\"-blind\").css({top:t.top+n+\"px\",left:t.left+n+\"px\",width:l.outerWidth()-n+\"px\",height:i-n+\"px\"}),jQuery.sap.byId(r+\"-rightedge\").css({top:e.top+n+60+\"px\",right:n+\"px\",height:i-n-60+\"px\"}),jQuery.sap.byId(r+\"-leftedge\").css({top:e.top+n+60+\"px\",left:e.left+n+\"px\",height:i-n-60+\"px\"})},sap.ushell.components.factsheet.controls.PictureViewer.prototype.showBlockerLayer=function(e){if(sap.ui.getCore().isMobile()){var t=20;jQuery(sap.ui.getCore().getStaticAreaRef()).children().each(function(e,i){var s=parseInt(jQuery(i).css(\"z-index\"),10);isNaN(s)||(t=Math.max(t,s))}),jQuery.sap.log.debug(\"blocker layer z-index calculated : \"+t+1),this.$blocker.css(\"z-index\",t+1).css(\"visibility\",\"visible\").fadeIn(200,function(){e&&e.call()})}else e&&e.call()};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureViewerItem-dbg.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewerItem\"),jQuery.sap.require(\"sap.ushell.library\"),jQuery.sap.require(\"sap.ui.core.Control\"),sap.ui.core.Control.extend(\"sap.ushell.components.factsheet.controls.PictureViewerItem\",{metadata:{deprecated:!0,library:\"sap.ushell\",properties:{src:{type:\"string\",group:\"Misc\",defaultValue:null}},aggregations:{image:{type:\"sap.m.Image\",multiple:!1}}}}),\n/*!\n * @copyright@\n*/\nsap.ushell.components.factsheet.controls.PictureViewerItem.prototype.setSrc=function(e){this.setProperty(\"src\",e);var t=this.getImage();return null==t&&(t=new sap.m.Image),t.setSrc(e),this.setImage(t),this},sap.ushell.components.factsheet.controls.PictureViewerItem.prototype.exit=function(){var e=this.getImage();e&&e.destroy()};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureViewerItem.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n */\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewerItem\"),jQuery.sap.require(\"sap.ushell.library\"),jQuery.sap.require(\"sap.ui.core.Control\"),sap.ui.core.Control.extend(\"sap.ushell.components.factsheet.controls.PictureViewerItem\",{metadata:{deprecated:!0,library:\"sap.ushell\",properties:{src:{type:\"string\",group:\"Misc\",defaultValue:null}},aggregations:{image:{type:\"sap.m.Image\",multiple:!1}}}}),\n/*!\n * @copyright@\n*/\nsap.ushell.components.factsheet.controls.PictureViewerItem.prototype.setSrc=function(e){this.setProperty(\"src\",e);var t=this.getImage();return null==t&&(t=new sap.m.Image),t.setSrc(e),this.setImage(t),this},sap.ushell.components.factsheet.controls.PictureViewerItem.prototype.exit=function(){var e=this.getImage();e&&e.destroy()};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureViewerRenderer-dbg.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n*/\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewerRenderer\"),jQuery.sap.require(\"sap.m.TileContainerRenderer\"),sap.ushell.components.factsheet.controls.PictureViewerRenderer={},sap.ushell.components.factsheet.controls.PictureViewerRenderer.render=function(e,r){jQuery.sap.log.debug(\"PictureViewerRenderer :: begin rendering\"),sap.m.TileContainerRenderer.render(e,r),jQuery.sap.log.debug(\"PictureViewerRenderer :: end rendering\")};",
	"web/ui5/resources/sap/ushell/components/factsheet/controls/PictureViewerRenderer.js": "/*!\n * Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n*/\njQuery.sap.declare(\"sap.ushell.components.factsheet.controls.PictureViewerRenderer\"),jQuery.sap.require(\"sap.m.TileContainerRenderer\"),sap.ushell.components.factsheet.controls.PictureViewerRenderer={},sap.ushell.components.factsheet.controls.PictureViewerRenderer.render=function(e,r){jQuery.sap.log.debug(\"PictureViewerRenderer :: begin rendering\"),sap.m.TileContainerRenderer.render(e,r),jQuery.sap.log.debug(\"PictureViewerRenderer :: end rendering\")};",
	"web/ui5/resources/sap/ushell/components/factsheet/factory/ThingInspector-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.factsheet.factory.ThingInspector\"),sap.ushell.components.factsheet.factory=function(){jQuery.sap.require(\"sap.suite.ui.commons.UnifiedThingInspector\"),jQuery.sap.require(\"sap.ushell.components.factsheet.annotation.Mapping\"),jQuery.sap.require(\"sap.ui.vbm.library\");var e,t,a,n,i,s,o,r,l,p,c,u,d,m,g,h,f,y,T,b,S,v,P,I,C,w,x,E,O,F,A,L,V,U,D,N={},H=[],M={},B={};function _(e,t){var a,n,i,s;return e?(n=new RegExp(sap.ui.core.format.NumberFormat.oDefaultFloatFormat.groupingSeparator,\"g\"),t>=0?(t=parseInt(t,10),s=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:t,maxFractionDigits:t},E)):s=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:0,maxFractionDigits:99},E),(i=(a=s.format(e)).replace(/[\\D]/g,\"\"))&&i.length>6?function(e){var t=Number(e).toFixed(0);return function(e){return e<0}(e)&&(t=-1*Number(t)),t}(e=e.replace(n,\"\"))<1e3?sap.ui.core.format.NumberFormat.getIntegerInstance().format(e):(s=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:1,maxFractionDigits:1,style:\"short\"},E)).format(e):a):\"\"}function k(){var e,t,a,n,i,s,o,r,l,p,c=\"\";for(a=this.getElementBinding().sPath.split(\"/\")[1],n=this.getModel(),i=this.mBindingInfos.value.parameters,s=this.mBindingInfos.value.parts,o=0;o<i.length;o+=1)c+=i[o].string;for(r=0;r<s.length;r+=1)p=\"{\"+(e=s[r].path)+\"}\",t=n.oData[a][e],c=c.replace(p,t);l=m(c),$.isNumeric(l)&&(l=_(l,this.mBindingInfos.value.parts.filter(function(t){return t.path===e})[0].type.oFormatOptions.maxFractionDigits),this.setDoubleFontSize(!0)),this.setValue(l),this.getElementBinding().detachChange(k)}return jQuery.sap.require(\"sap.ui.base.Object\"),jQuery.sap.require(\"sap.ui.core.format.NumberFormat\"),E=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),\"ZH\"===sap.ui.getCore().getConfiguration().getLanguage()&&(E=new sap.ui.core.Locale(\"zh_CN\")),V=function(){var t=\"\";return e.getName()&&e.getDescription()?t=e.getName()+\", \"+e.getDescription():e.getName()&&!e.getDescription()?t=e.getName():!e.getName()&&e.getDescription()&&(t=e.getDescription()),t},i=function(e){var t,a,n;for(t=e.slice(1).split(\"/\"),a=\"/\",n=0;n<t.length&&!(t[n].indexOf(\"(\")>0&&t[n].indexOf(\"sid(\")<0);n+=1)a+=t[n]+\"/\";return a},s=function(e,t){var a,n,i,s;return(n=e.slice(t.sServiceUrl.length+1)).indexOf(\"/\")>=0?(s=(i=n.split(\"/\"))[i.length],(a=i[i.length-1]).indexOf(\"(\")>=0&&(a=a.slice(a.indexOf(\"(\"))),a=this.getNavEntitySet(a,s,t.getMetadata())):a=n.indexOf(\"(\")>=0?n.slice(0,n.indexOf(\"(\")):n.indexOf(\"?\")>=0?n.slice(0,n.indexOf(\"?\")):n,a},f=function(e,t){var a,n,i,o=\"\";return(a=e.slice(t.sServiceUrl.length+1)).indexOf(\"(\")>=0&&(o=a.slice(a.indexOf(\"(\")+1,a.indexOf(\")\"))).indexOf(\"=\")<=0&&(n=t.getServiceMetadata(),i=r(s(e,t),n),o=y(i,n)+\"=\"+o),o},y=function(e,t){var a,n,i;for(a=t.dataServices.schema.length-1;a>=0;a-=1)if((n=t.dataServices.schema[a]).namespace===e.slice(0,e.lastIndexOf(\".\")))for(i=0;i<n.entityType.length;i+=1)if(n.entityType[i].name===e.slice(e.lastIndexOf(\".\")+1))return n.entityType[i].key.propertyRef[0].name},o=function(e,t){var a,n,i,s;for(a=t.dataServices.schema.length-1;a>=0;a-=1)if((n=t.dataServices.schema[a]).entityContainer)for(s=(i=n.entityContainer[0].entitySet).length-1;s>=0;s-=1)if(i[s].entityType===e)return i[s].name},r=function(e,t,a){var n,i,s,o;for(n=t.dataServices.schema.length-1;n>=0;n-=1)if((i=t.dataServices.schema[n]).entityContainer)for(o=(s=i.entityContainer[0].entitySet).length-1;o>=0;o-=1)if(s[o].name===e)return a?s[o].entityType.slice(i.namespace.length+1):s[o].entityType},l=function(e,t,a){var n,i,s,o,r,l,p;for(n=e.split(\".\"),i=a.dataServices.schema.length-1;i>=0;i-=1){if(s=a.dataServices.schema[i],o=n[0],n.length>2)for(r=1;r<n.length-1;r+=1)o+=\".\"+n[r];if(s.namespace===o)for(l=0;l<s.entityType.length;l+=1)if(s.entityType[l].name===n[n.length-1]&&s.entityType[l].navigationProperty)for(r=0;r<s.entityType[l].navigationProperty.length;r+=1)if(s.entityType[l].navigationProperty[r].name===t)return{name:(p=s.entityType[l].navigationProperty[r]).relationship,toRole:p.toRole}}},p=function(e,t,a){var n,i,s,p,c,u,d,m;if(n=r(e,a),\"@\"===t.charAt(0)){if(N.termDefinitions&&N.termDefinitions[t])return(i=N.termDefinitions[t]).indexOf(\"Collection\")>=0&&(i=i.slice(i.indexOf(\"(\")+1,i.indexOf(\")\"))),o(i,a)}else if(s=l(n,t,a))for(p=a.dataServices.schema.length-1;p>=0;p-=1)if((c=a.dataServices.schema[p]).entityContainer&&c.entityContainer[0].associationSet)for(u=c.entityContainer[0].associationSet.length-1;u>=0;u-=1)if((d=c.entityContainer[0].associationSet[u]).association===s.name)for(m=0;m<d.end.length;m+=1)if(d.end[m].role===s.toRole)return d.end[m].entitySet},c=function(e,t,a){var n,i,s,o,p,c,u,d,m;if(d=(n=r(e,a)).split(\".\")[n.split(\".\").length-1],!(i=l(n,t,a)))return jQuery.sap.log.error('\"'+t+\"\\\" wasn't found in the metadata document. Check whether the corresponding search connector is active.\"),0;for(s=a.dataServices.schema.length-1;s>=0;s-=1){for(o=a.dataServices.schema[s],p=0;p<o.entityType.length&&!m;p+=1)if(o.entityType[p].name===d)for(u=0;u<o.entityType[p].navigationProperty.length;u+=1)if(o.entityType[p].navigationProperty[u].name===t){m=o.entityType[p].navigationProperty[u].toRole;break}for(p=o.association.length-1;p>=0;p-=1)if(c=o.association[p],o.namespace+\".\"+c.name===i.name)for(u=0;u<c.end.length;u+=1)if(c.end[u].role===m)return c.end[u].multiplicity}},u=function(e,t){var a,n,i,s;if(a={},N.expand&&N.expand[r(e,t)]){for(s in i=[],n=N.expand[r(e,t)])n.hasOwnProperty(s)&&i.push(n[s]);a.expand=i.join(\", \")}return a},D=function(e,t,a){var n,i,s,o,r,l;for(n=a.dataServices.schema.length-1;n>=0;n-=1)for(i=a.dataServices.schema[n],s=0;s<i.entityType.length;s+=1)if(i.entityType[s].name===t.split(\".\")[t.split(\".\").length-1])for(o=0;o<i.entityType[s].navigationProperty.length;o+=1)if(i.entityType[s].navigationProperty[o].name===e)for(r=0;r<i.association.length;r+=1)for(l=i.association[r].end.length-1;l>=0;l-=1)if(i.association[r].end[l].role===i.entityType[s].navigationProperty[o].toRole)return i.association[r].end[l].type},d=function(e,t){var a,n={};for(n.parts=[],n.parameters=[],a=e.length-1;a>=0;a-=1)if(\"Path\"===e[a].Type)if(e[a].EdmType)switch(e[a].EdmType){case\"Edm.DateTimeOffset\":case\"Edm.DateTime\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.DateTime({UTC:!0})});break;case\"Edm.Time\":n.parts.push({path:e[a].Value+\"/ms\",type:new sap.ui.model.type.Time({source:{pattern:\"timestamp\"},UTC:!0})});break;case\"Edm.Date\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.Date({UTC:!0})});break;case\"Edm.Decimal\":case\"Edm.Double\":case\"Edm.Single\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.Float});break;case\"Edm.Int16\":case\"Edm.Int32\":case\"Edm.Int64\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.Integer});break;default:n.parts.push({path:e[a].Value})}else n.parts.push({path:e[a].Value});else\"String\"===e[a].Type&&n.parameters.unshift({string:e[a].Value});return n.formatter=function(){var a,n,i,s,o=\"\",r=\"\",l=!1,p=0,c=0;if(arguments&&arguments.length>=1){for(a=arguments.length-1,i=\"\",s=0,e&&e[0]&&\"String\"===e[0].Type&&\"#\"===e[0].Value.substr(0,1)&&(l=!0),n=0;n<e.length;n+=1)\"Path\"===e[n].Type?((i=arguments[a])&&0!==i.length?(l&&(i=encodeURIComponent(i)),o+=i,p+=1):o.length>s&&(o.indexOf(\"(\")>s?o=o.substr(0,s):i=o=o.substr(0,s)),a-=1,s=o.length):(s=o.length,-1!==(r=e[n].Value).indexOf(\"(\")&&(c+=1),i&&i.length>0||-1!==r.indexOf(\"(\")||r&&\"#\"===r.substr(0,1)?o+=e[n].Value:r=\"\");return t&&(o=t(o)),o=o.trim(),1===p&&c>0&&\"(\"===o.substr(0,1)&&\")\"===o.substr(-1)&&(o=o.substr(1,o.length-2)),o.trim()}},n},P=function(e,t){var a;for(a in e)if(e.hasOwnProperty(a)){if(\"__metadata\"===a)continue;if(a===t)return e[a];if(\"object\"==typeof e[a])return P(e[a],t)}},m=function(e){var t,a,n,i,s={};return t=e.lastIndexOf(\"/\"),a=e.slice(0,t),n=e.slice(t+1),B[e]?s=B[e]:((s=new sap.ui.model.json.JSONModel).loadData(a,null,!1),B[e]=s.getData()),B[e]&&B[e].d&&(i=B[e].d[n]?B[e].d[n]:P(B[e].d,n)),i},g=function(e,t,a,n){var i,s,o,r,l,p,c,u;return i=new sap.ui.core.Control,s=I(e.Value,e.EdmType,t),e.Value&&e.Value[\"com.sap.vocabularies.UI.v1.IsImageURL\"]?(i=new sap.m.Image({height:\"50px\"}),s.BindingInfo?i.bindProperty(\"src\",s.BindingInfo):i.setProperty(\"src\",s.String)):(e.UrlRef||e.Url||e.Target&&e.Target.Path?i=new sap.m.Link({wrapping:!0}):(i=new sap.m.Text,\"Edm.Decimal\"!==e.EdmType&&\"Edm.Double\"!==e.EdmType&&\"Edm.Single\"!==e.EdmType&&\"Edm.Int16\"!==e.EdmType&&\"Edm.Int32\"!==e.EdmType&&\"Edm.Int64\"!==e.EdmType||i.setTextAlign(sap.ui.core.TextAlign.End)),i.addStyleClass(\"sapFactsheetUtiDataField\"),s.BindingInfo?i.bindProperty(\"text\",s.BindingInfo):i.setProperty(\"text\",s.String)),\"com.sap.vocabularies.UI.v1.DataFieldWithNavigation\"===e.RecordType&&a&&(o=e.Target.Path,N[t][o.slice(1)]&&\"@\"===o.charAt(0)&&(r=o.indexOf(\"/\")<0?N[t][o.slice(1)].UrlRef:N[t][o.slice(1,o.indexOf(\"/\"))].UrlRef,i.bindProperty(\"href\",T(r))),i.attachPress(function(e){return!1})),\"com.sap.vocabularies.UI.v1.DataFieldWithUrl\"===e.RecordType&&(e.Url.String?i.setHref(e.Url.String):(i.bindProperty(\"href\",T(e.Url)),l=new sap.m.Text({wrapping:!0}),s.BindingInfo?l.bindProperty(\"text\",s.BindingInfo):l.setProperty(\"text\",s.String),i.setVisible(!1),(p=new sap.ui.layout.VerticalLayout).addContent(i),p.addContent(l),H[H.indexOf(n)].Links||(H[H.indexOf(n)].Links=[]),e.Url.Apply&&(c=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf(\"#\")+1,e.Url.Apply.Parameters[0].Value.indexOf(\"-\")),u=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf(\"#\")+1,e.Url.Apply.Parameters[0].Value.indexOf(\"?\"))),H[H.indexOf(n)].Links.push({sSemanticObject:c,sIntend:u,oVL:p}))),p||i},h=function(e,t,a,n){var i,s,o,r,l,p=\"\",c=\"\";if((i=new sap.m.Label(t)).addStyleClass(\"sapFactsheetUtiLabel\"),n&&(p=\":\"),e.Label)e.Label.String?(i.setText(e.Label.String.trim()+p),i.setTooltip(e.Label.String.trim())):e.Label.Path&&(i.bindProperty(\"text\",e.Label.Path),i.bindProperty(\"tooltip\",e.Label.Path));else if(e.Value){if(e.Value.Path&&a){for(o in s=a[e.Value.Path])if(s.hasOwnProperty(o)&&\"http://www.sap.com/Protocols/SAPData\"===o&&s[o].label){c=s[o].label;break}}else if(e.Value.Apply&&\"odata.concat\"===e.Value.Apply.Name)for(r in e.Value.Apply.Parameters)if(e.Value.Apply.Parameters.hasOwnProperty(r)&&\"Path\"===(l=e.Value.Apply.Parameters[r]).Type){for(o in s=a[l.Value])if(s.hasOwnProperty(o)&&\"http://www.sap.com/Protocols/SAPData\"===o&&s[o].label){c=s[o].label;break}break}i.setText(c+p),i.setTooltip(c)}return i},I=function(e,t,a){var n,i,s,o,r,l,p,c,u,g,h,f,y,T={},b=[],S=[],v=[];if(y=function(e,t,a){var n,i={};return(n=N.propertyAnnotations[e])&&n[t]&&n[t][a]&&(n[t][a].Path?(i.Type=\"Path\",i.Value=n[t][a].Path):(i.Type=\"String\",i.Value=n[t][a].String)),i},!e)return!1;if(e.Apply){if(\"odata.concat\"===e.Apply.Name)if(a&&N.propertyAnnotations&&N.propertyAnnotations[a]){for(i=e.Apply.Parameters,s=0;s<i.length;s+=1)b.push(i[s]),\"Path\"===i[s].Type&&(n=y(a,i[s].Value,\"Org.OData.Measures.V1.ISOCurrency\"),$.isEmptyObject(n)||(b.push({Type:\"String\",Value:\" \"}),b.push({Type:n.Type,Value:n.Value})),n=y(a,i[s].Value,\"Org.OData.Measures.V1.Unit\"),$.isEmptyObject(n)||(b.push({Type:\"String\",Value:\" \"}),b.push({Type:n.Type,Value:n.Value})));T.BindingInfo=d(b)}else T.BindingInfo=d(e.Apply.Parameters)}else if(e.Path)if(\"@\"===e.Path.charAt(0))if(o=N[a][e.Path.slice(1,e.Path.indexOf(\"/\"))].UrlRef,r=e.Path.slice(e.Path.indexOf(\"/\")+1),o&&o.Apply){switch(l=o.Apply.Parameters,o.Apply.Name){case\"odata.concat\":(S=l).push({Type:\"String\",Value:\"/\"+r});break;case\"odata.fillUriTemplate\":for(c in p=l[0].Value.split(\"{\"))if(p.hasOwnProperty(c))if(p[c].indexOf(\"}\")<0)S.push({Type:\"String\",Value:p[c]});else{for(u=p[c].split(\"}\"),s=1;s<l.length;s+=1)l[s].Name===u[0]&&((g=l[s].Value).Path?S.push({Type:\"Path\",Value:g.Path}):g.Apply&&g.Apply.Name&&\"odata.uriencode\"===g.Apply.Name.toLowerCase()&&(h=g.Apply.Parameters[0],S.push({Type:h.Type,Value:encodeURIComponent(h.Value)}),S.push({Type:\"String\",Value:\"{\"+encodeURIComponent(h.Value)+\"}\"})));S.push({Type:\"String\",Value:u[1]})}S.push({Type:\"String\",Value:\"/\"+r}),T.fnChange=k}T.BindingInfo=d(S,m)}else o&&o.Path?(S.push({Type:\"Path\",Value:o.Path},{Type:\"String\",Value:\"/\"+r}),T.BindingInfo=d(S,m)):o&&o.String&&(T.String=m(o.String+\"/\"+r));else switch(T.BindingInfo={},t){case\"Edm.DateTimeOffset\":case\"Edm.DateTime\":T.BindingInfo={path:e.Path,type:new sap.ui.model.type.DateTime({UTC:!0})};break;case\"Edm.Time\":T.BindingInfo={path:e.Path+\"/ms\",type:new sap.ui.model.type.Time({source:{pattern:\"timestamp\"},UTC:!0})};break;case\"Edm.Date\":T.BindingInfo={path:e.Path,type:new sap.ui.model.type.Date({UTC:!0})};break;case\"Edm.Decimal\":case\"Edm.Double\":case\"Edm.Single\":case\"Edm.Int16\":case\"Edm.Int32\":case\"Edm.Int64\":\"Edm.Decimal\"===t||\"Edm.Double\"===t||\"Edm.Single\"===t?f=new sap.ui.model.type.Float:\"Edm.Int16\"!==t&&\"Edm.Int32\"!==t&&\"Edm.Int64\"!==t||(f=new sap.ui.model.type.Integer),N.propertyAnnotations?(v.push({Type:\"Path\",Value:e.Path,EdmType:t},{Type:\"String\",Value:\" \"}),n=y(a,e.Path,\"Org.OData.Measures.V1.ISOCurrency\"),$.isEmptyObject(n)||v.push({Type:n.Type,Value:n.Value}),n=y(a,e.Path,\"Org.OData.Measures.V1.Unit\"),$.isEmptyObject(n)||v.push({Type:n.Type,Value:n.Value}),T.BindingInfo=d(v)):T.BindingInfo={path:e.Path,type:f};break;default:T.BindingInfo={path:e.Path}}else e.String&&(T.String=e.String);return T},T=function(e){var t,a,n,i,s,o,r,l=[],p={};if(e&&e.Apply)switch(t=e.Apply.Parameters,e.Apply.Name){case\"odata.fillUriTemplate\":for(t[0].Value=t[0].Value.trim(),a=t[0].Value.split(\"{\"),n=0;n<a.length;n+=1)if(a[n].indexOf(\"}\")<0)l.push({Value:a[n],Type:\"String\"});else{for(i=a[n].split(\"}\"),(p={}).Value=i[0],p.Type=\"Path\",n=1;n<t.length;n+=1)if(t[n].Name===p.Value){(s=t[n].Value).Path?p.Value=s.Path:s.Apply&&s.Apply.Name&&\"odata.uriencode\"===s.Apply.Name.toLowerCase()&&(p.Value=s.Apply.Parameters[0].Value);break}l.push(p),l.push({Value:i[1],Type:\"String\"})}(o=sap.ushell.Container.getService(\"NavTargetResolution\").getCurrentResolution())&&o.url&&(r=jQuery.sap.getUriParameters(o.url).get(\"sap-system\"))&&l.push({Type:\"String\",Value:\"&sap-system=\"+r})}return d(l)},b=function(e){var t=sap.ui.core.TextAlign.Begin;return\"Edm.Decimal\"!==e.EdmType&&\"Edm.Double\"!==e.EdmType&&\"Edm.Single\"!==e.EdmType&&\"Edm.Int16\"!==e.EdmType&&\"Edm.Int32\"!==e.EdmType&&\"Edm.Int64\"!==e.EdmType||(t=sap.ui.core.TextAlign.End),t},C=function(e,t,a,n,i,s){var o,l,p,c,u,d,m,f=0,y=0,T=0,b=0;for(i||(i=e.getServiceMetadata()),a||(a=[]),o=r(t,i),m=new sap.ui.layout.form.SimpleForm({labelMinWidth:150,maxContainerCols:2}),l=N.propertyExtensions?N.propertyExtensions[o]:[],n&&n.High&&(y=n.High),n&&n.Medium&&(T=n.Medium),n&&n.Low&&(b=n.Low),c=0;c<a.length;c+=1){if(p=U(a[c]),n&&\"High\"===p){if(!y)continue;y-=1}else if(n&&\"Medium\"===p){if(!T)continue;T-=1}else if(n&&\"Low\"===p){if(!b)continue;b-=1}if(n&&n.Total&&f>=n.Total)break;f+=1,u=(new sap.ui.core.Control).setModel(e),(d=h(a[c],{textAlign:sap.ui.core.TextAlign.End},l,!1)).addStyleClass(\"sapFactsheetUtiFormPadding\"),(u=g(a[c],o,i,s)).addStyleClass(\"sapFactsheetUtiFormPadding\"),u.setTextAlign&&u.setTextAlign(sap.ui.core.TextAlign.Begin),m.addContent(d),m.addContent(u)}return m.addStyleClass(\"sapFactsheetUtiFormLayout\"),m},w=function(e,t,a,n,i){var s,o,l,u,d,m,g,h,f,y,T,b,v,P,I,E=\"\",O=[];switch(s=e.getServiceMetadata(),a.RecordType){case\"com.sap.vocabularies.UI.v1.ReferenceFacet\":switch(o=new sap.suite.ui.commons.UnifiedThingGroup,a.Label&&a.Label.String&&o.setTitle(a.Label.String),u=(l=a.Target.AnnotationPath).substring(l.lastIndexOf(\"@\")+1),(l=l.substring(0,l.lastIndexOf(\"@\")-1))&&(E=c(t,l,s)),(d=u.split(\"#\"))[0]){case\"com.sap.vocabularies.UI.v1.LineItem\":case\"com.sap.vocabularies.UI.v1.Chart\":case\"com.sap.vocabularies.UI.v1.Badge\":case\"com.sap.vocabularies.UI.v1.Identification\":l?(m=p(t,l,s),v=r(m,s)):v=r(t,s),\"com.sap.vocabularies.UI.v1.Chart\"===d[0]&&(u=\"com.sap.vocabularies.UI.v1.LineItem\"),P=N[v][u],N.propertyExtensions&&(I=N.propertyExtensions[v]),\"*\"===E&&\"com.sap.vocabularies.UI.v1.Identification\"!==d[0]&&(g=x(e,P,v,s,n+\"/\"+l,a,I,i),o.setContent(g)),\"com.sap.vocabularies.UI.v1.Identification\"===d[0]&&(h=N[v][\"com.sap.vocabularies.UI.v1.Identification\"],f=new sap.ui.layout.VerticalLayout({width:\"100%\"}).setModel(e),l?(f.addContent(C(e,m,h,null,null,i)).addStyleClass(\"sapFactsheetUtiPanel\"),f.bindElement(n+\"/\"+l)):f.addContent(C(e,t,h,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\")),o.setContent(f));break;case\"com.sap.vocabularies.UI.v1.StatusInfo\":l?(m=p(t,l,s),y=N[r(m,s)][\"com.sap.vocabularies.UI.v1.StatusInfo\"],o.setContent(C(e,m,y,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\").bindElement(n+\"/\"+l))):(y=N[r(t,s)][\"com.sap.vocabularies.UI.v1.StatusInfo\"],o.setContent(C(e,t,y,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\")));break;case\"com.sap.vocabularies.UI.v1.FieldGroup\":(T=N[r(t,s)][u])&&(o.getTitle()&&\"\"!==o.getTitle()||T.Label&&(T.Label.String?o.setTitle(T.Label.String):T.Label.Path&&o.bindProperty(\"title\",T.Label.Path)),l?(m=p(t,l,s),o.setContent(C(e,m,T.Data,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\").bindElement(n+\"/\"+l))):o.setContent(C(e,t,T.Data,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\")))}return o;case\"com.sap.vocabularies.UI.v1.ReferenceURLFacet\":return(o=new sap.ui.ux3.ThingGroup({title:a.Label.String})).setContent(S(a)),o;case\"com.sap.vocabularies.UI.v1.CollectionFacet\":for(b=0;b<a.Facets.length;b+=1)O.push(w(e,t,a.Facets[b],n,i));return O}},S=function(e){var t,a;switch(e.UrlContentType.String){case\"image/png\":case\"image/jpeg\":case\"image/gif\":return t=new sap.m.Image({width:\"100%\"}),e.Url.String&&t.setSrc(e.Url.String),t;default:return a=new sap.ui.core.HTML,e.Url.String?a.setContent(\"<iframe src = '\"+e.Url.String+\"' width='100%' height='250px' frameborder='0'></iframe>\"):e.Url.Path&&a.bindProperty(\"content\",{path:e.Url.Path,formatter:function(t){return\"<iframe src = '\"+e.Url.Path+\"' width='100%' height='250px' frameborder='0'></iframe>\"}}),a}},x=function(a,n,i,s,o,r,l,p){var c,u,d,m,f,y,T,S,v,P,I,C,w,x,E,O,F,A,L,D,M,B,_,k,R,j,Q,G=[],z=[],W=[],$=[],J=[],K=[],q=!1;for(R=sap.ui.getCore().getLibraryResourceBundle(\"sap.suite.ui.commons\"),s||(s=a.getServiceMetadata()),c=N.propertyExtensions?N.propertyExtensions[i]:[],u=6,jQuery.device.is.tablet&&jQuery.device.is.landscape?u=5:jQuery.device.is.tablet&&jQuery.device.is.portrait?u=4:jQuery.device.is.phone&&jQuery.device.is.landscape?u=3:jQuery.device.is.phone&&jQuery.device.is.portrait&&(u=2),d=0,m=0,y=0;y<n.length;y+=1)\"High\"===(f=U(n[y]))&&(d+=1);for(u>d?m=u-d:u<d&&(d=u),z.push(new sap.m.Column({visible:!1})),G.push((new sap.m.Text).bindText(\"__metadata/uri\")),y=0;y<n.length;y+=1){if(Q=\"\",P=new sap.ui.core.Control,f=U(n[y]),P=g(n[y],i,s,p),S=h(n[y],null,c),n[y].Value.Path)F=n[y].Value.Path,l&&l[F]&&l[F][\"http://www.sap.com/Protocols/SAPData\"]&&l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable?(S.data(\"IsSortable\",l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable),\"true\"===l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable&&(q=!0)):(S.data(\"IsSortable\",\"true\"),q=!0),l&&l[F]&&l[F][\"http://www.sap.com/Protocols/SAPData\"]&&l[F][\"http://www.sap.com/Protocols/SAPData\"].filterable?(S.data(\"IsFilterable\",l[F][\"http://www.sap.com/Protocols/SAPData\"].filterable),\"true\"===l[F][\"http://www.sap.com/Protocols/SAPData\"].filterable&&(q=!0)):(S.data(\"IsFilterable\",\"true\"),q=!0);else{for(j=!0,T=0;T<n[y].Value.Apply.Parameters.length;T+=1)if(\"Path\"===n[y].Value.Apply.Parameters[T].Type){if(l[F=n[y].Value.Apply.Parameters[T].Value]&&l[F][\"http://www.sap.com/Protocols/SAPData\"]&&l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable&&\"false\"===l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable){j=!1,Q=\"\";break}Q&&(Q+=\";\"),Q+=F}F=Q,!1===j?S.data(\"IsSortable\",\"false\"):(S.data(\"IsSortable\",\"true\"),q=!0),S.data(\"IsFilterable\",\"false\")}n[y].EdmType&&S.data(\"EdmType\",n[y].EdmType),S.data(\"ColumnName\",F),W.push(S),$.push(P),\"High\"===f?d>0?(v=!0,d-=1):v=!1:\"Medium\"===f&&m>0?(v=!0,m-=1):v=!1,z.push(new sap.m.Column({header:S,hAlign:b(n[y]),visible:v})),G.push(P)}for(I=new sap.m.ColumnListItem({type:sap.m.ListType.Navigation,unread:!1,cells:G}),r&&(C=r.Label.String),I.attachPress({aColumns:n,aLabels:W,aControls:$,sTitle:C},function(a,i){var s,o,r,l,c,u,d;for(s=a.getSource().getCells()[0].getText().substr(a.getSource().getCells()[0].getText().lastIndexOf(\"/\")),(o=new sap.m.Table({backgroundDesign:sap.m.BackgroundDesign.Transparent,showSeparators:sap.m.ListSeparators.None,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.End}),new sap.m.Column]})).addStyleClass(\"sapFactsheetUtiPanel\"),o.addStyleClass(\"sapFactsheetUtiTilePadding\"),o.addStyleClass(\"sapFactsheetUtiTableNoTopBorder\"),o.bindElement(s),l=0;l<n.length;l+=1)(r=W[l].clone()).setText(r.getText()+\":\"),d=$[l].clone(),r.setLabelFor(d),o.addItem(new sap.m.ColumnListItem({cells:[r,d]}));c=new sap.suite.ui.commons.UnifiedThingGroup({content:o,title:C,description:V()}),u=new sap.m.Page({title:e.getTitle(),showNavButton:!0,content:[c]}),e.navigateToPage(u,!0),e.attachAfterNavigate(o,function(e){var a;e.getParameters().getParameters().toId.indexOf(\"__page\")>=0&&((a=o.getItems()).length>0&&H.indexOf(p)>=0&&(H[H.indexOf(p)].bLoaded=!0,H[H.indexOf(p)].bProcessed=!1,H[H.indexOf(p)].bIsTable=!0,H[H.indexOf(p)].oTableItems=a,t(H.indexOf(p))))})}),(w=new sap.m.Table({growing:!0,columns:z})).setModel(a),w.bindItems({path:o,template:I}),L=new sap.m.VBox({items:[new sap.m.Input({placeholder:R.getText(\"USHELL_FACTSHEET_ENTER_YOUR_FILTER\"),change:function(e){var t,a,n,i;for(t=e.getSource().getParent().getParent().getId(),a=sap.ui.getCore().byId(t.substr(0,t.indexOf(\"-\"))).getFilterItems(),i=0;i<a.length;i+=1)if(a[i]instanceof sap.m.ViewSettingsCustomItem&&a[i].getKey()===this.oParent.data(\"ColumnName\")){n=a[i];break}n&&(void 0===e.getParameter(\"newValue\")||\"\"===e.getParameter(\"newValue\")?(n.setSelected(!1),n.setFilterCount(0)):(n.setSelected(!0),n.setFilterCount(1)))}}).addStyleClass(\"sapFactsheetUtiFilterInput\")]}),D=new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:!0,items:[new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_GREATER_THEN\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_EQUALS\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_LESS_THEN\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.LT)]}),new sap.m.Input({placeholder:R.getText(\"USHELL_FACTSHEET_ENTER_YOUR_FILTER\"),change:function(e){var t,a,n,i;for(t=e.getSource().getParent().getParent().getId(),a=sap.ui.getCore().byId(t.substr(0,t.indexOf(\"-\"))).getFilterItems(),i=0;i<a.length;i+=1)if(a[i]instanceof sap.m.ViewSettingsCustomItem&&a[i].getKey()===this.oParent.data(\"ColumnName\")){n=a[i];break}n&&(void 0===e.getParameter(\"newValue\")||\"\"===e.getParameter(\"newValue\")?(n.setSelected(!1),n.setFilterCount(0)):(n.setSelected(!0),n.setFilterCount(1)))}}).addStyleClass(\"sapFactsheetUtiFilterInput\")]}),new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:!0,items:[new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_AFTER\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_AT\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_BEFORE\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.LT)]}),new sap.m.DateTimeInput({type:sap.m.DateTimeInputType.Date,valueFormat:new sap.ui.model.type.DateTime({pattern:\"yyyy/MM/dd HH:mm:ss UTC+00:00\"}).getOutputPattern(),placeholder:R.getText(\"USHELL_FACTSHEET_ENTER_YOUR_FILTER\"),change:function(e){var t,a,n,i;for(t=e.getSource().getParent().getParent().getId(),a=sap.ui.getCore().byId(t.substr(0,t.indexOf(\"-\"))).getFilterItems(),i=0;i<a.length;i+=1)if(a[i]instanceof sap.m.ViewSettingsCustomItem&&a[i].getKey()===this.oParent.data(\"ColumnName\")){n=a[i];break}void 0===e.getParameter(\"newValue\")||\"\"===e.getParameter(\"newValue\")?(n.setSelected(!1),n.setFilterCount(0)):(n.setSelected(!0),n.setFilterCount(1))}}).addStyleClass(\"sapFactsheetUtiFilterInput\")]}),M=function(e){var t,a,n,i=[],s=e.getItems();if(\"Edm.String\"===s[0].getParent().data(\"EdmType\")&&s[0].getValue())i.push(new sap.ui.model.Filter(s[0].getParent().data(\"ColumnName\"),sap.ui.model.FilterOperator.Contains,s[0].getValue()));else if(\"Edm.Decimal\"===s[0].getParent().data(\"EdmType\")&&s[1].getValue()){for(t=0;t<s[0].getItems().length;t+=1)if(!0===s[0].getItems()[t].getSelected()){a=s[0].getItems()[t].data(\"FilterOperator\");break}for(t=(n=s[1].getValue()).length-1;t>0;t-=1)if(\",\"===n[t]){n=n.replace(n[t],\".\");break}i.push(new sap.ui.model.Filter(s[1].getParent().data(\"ColumnName\"),a,n))}else if(\"Edm.Date\"===s[0].getParent().data(\"EdmType\")&&s[1].getValue()){for(t=0;t<s[0].getItems().length;t+=1)if(!0===s[0].getItems()[t].getSelected()){a=s[0].getItems()[t].data(\"FilterOperator\");break}i.push(new sap.ui.model.Filter(s[1].getParent().data(\"ColumnName\"),a,s[1].getValue()))}else i.push(new sap.ui.model.Filter(s[0].getParent().data(\"ColumnName\"),sap.ui.model.FilterOperator.EQ,s[0].getValue()));return i},_=B=function(e){var t,a,n,i=e.getSource().getFilterItems();for(a=0;a<i.length;a+=1)if(i[a]&&i[a]instanceof sap.m.ViewSettingsCustomItem)for(i[a].setSelected(!1),i[a].setFilterCount(0),t=i[a].getCustomControl().getItems(),n=0;n<t.length;n+=1)(t[n]instanceof sap.m.Input||t[n]instanceof sap.m.DateTimeInput)&&t[n].setValue(\"\"),t[n]instanceof sap.m.List&&null!==t[n].getSelectedItem()&&t[n].removeSelections()},y=0;y<z.length;y+=1)z[y+1]&&((S=W[y].clone()).getText()&&\"true\"===S.data(\"IsSortable\")&&z[y+1].getVisible()&&(E=new sap.m.ViewSettingsItem({text:S.getText(),key:S.data(\"ColumnName\")}),0===y&&E.setSelected(!0),E.Sort=S.Sort,J.push(E)),S.getText()&&\"true\"===S.data(\"IsFilterable\")&&(\"Edm.String\"===S.data(\"EdmType\")?k=L.clone().data(\"ColumnName\",S.data(\"ColumnName\")).data(\"EdmType\",S.data(\"EdmType\")):\"Edm.Decimal\"===S.data(\"EdmType\")&&(k=D.clone().data(\"ColumnName\",S.data(\"ColumnName\")).data(\"EdmType\",S.data(\"EdmType\"))),\"Edm.String\"!==S.data(\"EdmType\")&&\"Edm.Decimal\"!==S.data(\"EdmType\")||(A=new sap.m.ViewSettingsCustomItem({key:S.data(\"ColumnName\"),text:S.getText(),customControl:k,customData:new sap.ui.core.CustomData({key:\"callback\",value:M})}),K.push(A))));return O=new sap.m.ViewSettingsDialog({sortItems:J,filterItems:K,cancel:_,resetFilters:B,confirm:function(e){var t,a,n,i,s,o,r=[],l=[],p=[],c=[];if(t=e.getParameters(),a=w.getBinding(\"items\"),t.sortItem){if(n=t.sortItem.getKey(),i=t.sortDescending,n.indexOf(\";\")>0)for(l=n.split(\";\"),o=0;o<l.length;o+=1)r.push(new sap.ui.model.Sorter(l[o],i));else n&&r.push(new sap.ui.model.Sorter(n,i));a.sort(r)}for(s=t,o=0;o<s.filterItems.length;o+=1)s.filterItems[o]instanceof sap.m.ViewSettingsCustomItem?(p=s.filterItems[o].getCustomData()[0].getValue().apply(this,[s.filterItems[o].getCustomControl()]))&&(Array.isArray(p)||(p=[p]),c=c.concat(p)):s.filterItems[o]instanceof sap.m.ViewSettingsItem&&(p=s.filterItems[o].getCustomData()[0].getValue())&&(Array.isArray(p)||(p=[p]),c=c.concat(p));a.filter(c)}}),!0===q&&(J.length>0||K.length>0)&&w.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label,new sap.m.ToolbarSpacer,new sap.m.Button({icon:\"sap-icon://drop-down-list\",press:function(e){O.open()},tooltip:sap.ui.getCore().getLibraryResourceBundle(\"sap.m\").getText(\"P13NDIALOG_VIEW_SETTINGS\")})]})),w.setNoDataText(sap.ui.getCore().getLibraryResourceBundle(\"sap.m\").getText(\"PULL2REFRESH_LOADING_LONG\")),x=function(e){return function(a){var n=this.getItems();0===n.length?this.setNoDataText(R.getText(\"FACETOVERVIEW_NO_CONTENT_TEXT\")):this.setNoDataText(sap.ui.getCore().getLibraryResourceBundle(\"sap.m\").getText(\"PULL2REFRESH_LOADING_LONG\")),n.length>0&&H.indexOf(e)>=0&&(H[H.indexOf(e)].bLoaded=!0,H[H.indexOf(e)].bProcessed=!1,H[H.indexOf(e)].bIsTable=!0,H[H.indexOf(e)].oTableItems=n),t(H.indexOf(e))}}(p),w.attachUpdateFinished(x),w},O=function(e,t,a,n){var i;switch(e){case\"com.sap.vocabularies.UI.v1.ChartType/Area\":i=new sap.viz.ui5.Area({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Bar\":i=new sap.viz.ui5.Bar({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Bubble\":i=new sap.viz.ui5.Bubble({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Column\":i=new sap.viz.ui5.Column({});break;case\"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked\":i=new sap.viz.ui5.StackedColumn({});break;case\"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100\":i=new sap.viz.ui5.StackedColumn100({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Donut\":i=new sap.viz.ui5.Donut({});break;case\"com.sap.vocabularies.UI.v1.ChartType/HeatMap\":i=new sap.viz.ui5.Heatmap({});break;case\"com.sap.vocabularies.UI.v1.ChartType/HorizontalArea\":i=new sap.viz.ui5.HorizontalArea({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Line\":i=new sap.viz.ui5.Line({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Pie\":i=new sap.viz.ui5.Pie({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Scatter\":i=new sap.viz.ui5.Scatter({});break;case\"com.sap.vocabularies.UI.v1.ChartType/TreeMap\":i=new sap.viz.ui5.Treemap({})}return i?(t&&t.String&&i.setTitle(new sap.viz.ui5.types.Title({visible:!0,text:t.String})),a&&a.String&&i.setTooltip(a.String),i.setWidth(\"100%\"),i.setHeight(\"17rem\"),i.setDataset(n)):i=new sap.m.Text({}),i},F=function(e){return e=e||1,jQuery.device.is.phone?7*e+\"rem\":11*e-1+\"rem\"},A=function(e){var t,a,n=0,i=0,s=0;for(t=0;t<e.length;t+=1)if(a=U(e[t]))switch(a){case\"High\":n+=1;break;case\"Medium\":i+=1;break;case\"Low\":s+=1}return{High:n,Medium:i,Low:s}},U=function(e){var t=\"\";return e.Importance?t=e.Importance.EnumMember:e[\"com.sap.vocabularies.UI.v1.Importance\"]&&(t=e[\"com.sap.vocabularies.UI.v1.Importance\"].EnumMember),t.substr(t.indexOf(\"/\")+1)},L=function(e,t,a,n){var i,s,o,r,l=!1;return i=new sap.suite.ui.commons.KpiTile({doubleFontSize:!1}),t.ValueFormat&&(s=t.ValueFormat.NumberOfFractionalDigits.Int),t.Title&&t.Title.String?i.setDescription(t.Title.String):t.Title&&t.Title.Path&&i.bindProperty(\"description\",{path:t.Title.Path}),t.Value&&t.Value.String?i.setValue(t.Value.String):t.Value&&t.Value.Path&&((o=I(t.Value,t.Value.EdmType,a)).fnChange&&(i.setModel(e),i.bindElement(n),i.getElementBinding().attachChange(o.fnChange,i)),o.String?$.isNumeric(o.String)?(l=!0,i.setValue(_(o.String,s))):i.setValue(o.String):o.BindingInfo&&((r=o.BindingInfo).parts&&2===r.parts.length?(i.bindProperty(\"valueUnit\",r.parts[0]),r.parts[1].type=void 0,r.parts[1].formatter=function(e){return _(e,s)},i.bindProperty(\"value\",r.parts[1])):r.parts&&1===r.parts.length?(r.parts[0].type=void 0,r.parts[0].formatter=function(e){return _(e,s)},i.bindProperty(\"value\",r)):i.bindProperty(\"value\",r))),\"Edm.Decimal\"!==t.Value.EdmType&&\"Edm.Double\"!==t.Value.EdmType&&\"Edm.Single\"!==t.Value.EdmType&&\"Edm.Int16\"!==t.Value.EdmType&&\"Edm.Int32\"!==t.Value.EdmType&&\"Edm.Int64\"!==t.Value.EdmType&&!0!==l||i.setDoubleFontSize(!0),i},n=function(e){var t,a,n,i,s,o=[],r=[];for(s in a=function(e){if(!1===n(e)){if(e.constructor===Array)for(i=0;i<e.length;i+=1)n(e[i]);if(e.constructor===Object)for(s in e)e.hasOwnProperty(s)&&e[s].constructor!==String&&a(e[s])}},n=function(e){return!(!e.RecordType||\"com.sap.vocabularies.UI.v1.DataFieldWithUrl\"!==e.RecordType)&&(e.Url&&e.Url.Apply?(t=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf(\"#\")+1,e.Url.Apply.Parameters[0].Value.indexOf(\"-\")),o.indexOf(t)<0&&o.push(t),!0):void 0)},N)N.hasOwnProperty(s)&&s.indexOf(e.dataServices.schema[0].namespace)>=0&&a(N[s]);for(i=0;i<o.length;i+=1)M.hasOwnProperty(o[i])||r.push(o[i]);return r},a=function(e){var a,n,i,s;if(e.length>0){for(n=new sap.ui.model.json.JSONModel,i=\"/sap/opu/odata/UI2/INTEROP/SemanticObjects?$expand=Links&$format=json\",s=\"&$filter=id%20eq%20%27\",a=0;a<e.length;a+=1)s.length>22?s+=\"%20or%20id%20eq%20%27\"+e[a]+\"%27\":s+=e[a]+\"%27\";i+=i+s,n.loadData(i),n.attachRequestCompleted(function(){var e,a,n,i=[];if(this.getData().d&&this.getData().d.results)for(n=this.getData().d.results,e=0;e<n.length;e+=1)for(M[n[e].id]=\"\",i=n[e].Links.results,a=0;a<i.length;a+=1)M[i[a].id.slice(0,i[a].id.indexOf(\"~\"))]=\"\";M.InteropCompleted=!0,t()})}else M.InteropCompleted=!0},t=function(e){var t,a,n,i,s,o,r;if(!0===M.InteropCompleted)for(t=0;t<H.length;t+=1)if(H[t].bLoaded&&!H[t].bProcessed&&H[t].Links)for(r=H[t].Links,a=0;a<r.length;a+=1){if(!0===M.hasOwnProperty(r[a].sIntend))if(!0===H[t].bIsTable){if(H[t].oTableItems)for(s=H[t].oTableItems,n=0;n<s.length;n+=1)for(o=s[n].getCells(),i=0;i<o.length;i+=1)o[i]instanceof sap.ui.layout.VerticalLayout&&o[i].getContent()[0].getBindingInfo(\"href\").parts===r[a].oVL.getContent()[0].getBindingInfo(\"href\").parts&&o[i].getContent()[1].getBindingInfo(\"text\").parts===r[a].oVL.getContent()[1].getBindingInfo(\"text\").parts&&(o[i].getContent()[0].setVisible(!0),o[i].getContent()[1].setVisible(!1))}else r[a].oVL.getContent()[0].setVisible(!0),r[a].oVL.getContent()[1].setVisible(!1);else!1===H[t].bIsTable&&r[a].oVL.getContent()[1].setText(r[a].oVL.getContent()[0].getText());H[t].bProcessed=!0}if(e>=0&&H[e].bLoaded&&!H[e].bProcessed&&H[e].Links)for(r=H[e].Links,a=0;a<r.length;a+=1)!1===H[e].bIsTable&&r[a].oVL.getContent()[1].setText(r[a].oVL.getContent()[0].getText())},v=function(e,o,l){var d,m,y,T,b,S,v,P,x,E,B,_,k,R,j,Q,G,z,W,J,K,q,X,Y,Z,ee,te,ae,ne,ie,se,oe,re,le,pe,ce,ue,de,me,ge,he,fe,ye,Te,be,Se,ve,Pe,Ie,Ce,we,xe,Ee={},Oe=0,Fe=0,Ae=[],Le=0;for(be in d=i(e),z=o.substring(0,o.substring(0,o.lastIndexOf(\"/\")).lastIndexOf(\"/\")),W=o.substring(o.substring(0,o.lastIndexOf(\"/\")).lastIndexOf(\"/\")),-1===window.location.search.indexOf(\"cbn_keep_anno_case%3Dtrue\")&&(W=W.toLowerCase()),(m=new sap.ui.model.odata.ODataModel(d,{annotationURI:z+W,loadAnnotationsJoined:!0,loadMetadataAsync:!1,json:!0})).setCountSupported(!1),l.setModel(m),y=s(e,m),T=\"/\"+e.slice(d.length),b=m.getServiceMetadata(),N=m.getServiceAnnotations(),S=r(y,b),v=N[S][\"com.sap.vocabularies.UI.v1.HeaderInfo\"],P=N[S][\"com.sap.vocabularies.UI.v1.Facets\"],l.bindElement(T,u(y,b)),J=sap.ui.getCore().getLibraryResourceBundle(\"sap.suite.ui.commons\"),M.InteropCompleted=!1,a(n(b)),l.addStyleClass(\"sapFactsheetUtiThingType\"+y.replace(/\\s/g,\"\")),v.TypeName.String?l.setTitle(v.TypeName.String):v.TypeName.Path&&l.bindProperty(\"title\",{path:v.TypeName.Path}),v.ImageUrl&&v.ImageUrl.String?l.setIcon(v.ImageUrl.String):v.ImageUrl&&v.ImageUrl.Path?l.bindProperty(\"icon\",{path:v.ImageUrl.Path}):v.TypeImageUrl&&v.TypeImageUrl.String?l.setIcon(v.TypeImageUrl.String):v.TypeImageUrl&&v.TypeImageUrl.Path&&l.bindProperty(\"icon\",{path:v.TypeImageUrl.Path}),v.Title.Value.String?l.setName(v.Title.Value.String):l.bindProperty(\"name\",I(v.Title.Value,v.Title.EdmType,S).BindingInfo),v.Description&&v.Description.Value&&(v.Description.Value.String?l.setDescription(v.Description.Value.String):l.bindProperty(\"description\",I(v.Description.Value,v.Description.EdmType,S).BindingInfo)),N[S])if(N[S].hasOwnProperty(be)&&(-1!==be.search(\"com.sap.vocabularies.UI.v1.DataPoint\")&&(Se=N[S][be])&&(l.addKpi(L(m,Se,S,T)),Le+=1),Le>=3))break;for(x=0;x<P.length;x+=1)if(P[x][\"com.sap.vocabularies.UI.v1.IsSummary\"]){j=P[x];break}if(j){for(K=15,R=0;R<j.Facets.length;R+=1)for(q=j.Facets[R].Target.AnnotationPath.substring(j.Facets[R].Target.AnnotationPath.lastIndexOf(\"@\")+1),E=(E=j.Facets[R].Target.AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1),j.Facets[R].NavPath=E,X=p(y,E,b),j.Facets[R].NavEntitySet=X,Y=X||y,j.Facets[R].EntitySet=Y,Z=r(X,b)||S,j.Facets[R].EntityType=Z,ee=[],N[Z][q].length?ee=N[Z][q]:N[Z][q].Data.length&&(ee=N[Z][q].Data),j.Facets[R].Content=ee,x=0;x<ee.length;x+=1)\"High\"===(te=U(ee[x]))?Oe+=1:\"Medium\"===te&&(Fe+=1);for(Oe>=K?(Oe=K,Fe=0):Oe+Fe>K&&(Fe=K-Oe)<0&&(Fe=0),jQuery.device.is.phone&&(Fe=0),ie=K-Oe-Fe,de=new sap.suite.ui.commons.FacetOverview({title:J.getText(\"UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT\")}),(H=[]).push(de),H[0].bLoaded=!1,H[0].bProcessed=!1,H[0].bIsTable=!1,se=[],re=Fe+Oe,R=0;R<j.Facets.length&&(le=C(m,j.Facets[R].EntitySet,j.Facets[R].Content,{High:Oe,Medium:Fe,Low:0},null,de).addStyleClass(\"sapFactsheetUtiTilePadding\"),R>0&&le.addStyleClass(\"sapFactsheetUtiPaddingTop\"),j.Facets[R].NavPath&&le.bindElement(T+\"/\"+j.Facets[R].NavPath),Oe-=(oe=A(j.Facets[R].Content)).High,Fe-=oe.Medium,(oe.High>0&&Oe+oe.High>0||oe.Medium>0&&Fe+oe.Medium>0)&&(se.push(le),R>0&&(ie>0?ie-=1:Fe>0?Fe-=1:Oe>0&&(Oe-=1))),!(Oe<1&&Fe<1));R+=1);Oe<0&&(Oe=0),Fe<0&&(Fe=0),Ee=new sap.ui.layout.VerticalLayout({content:se,width:\"100%\"}),pe=F(),ue=1,re>3&&re<=9?(pe=F(2),ue=2):re>9&&(pe=F(3),ue=3),de.setContent(Ee),de.setRowSpan(ue),jQuery.device.is.phone?de.setHeightType(sap.suite.ui.commons.FacetOverviewHeight.Auto):de.setHeight(pe),de.addStyleClass(\"sapFactsheetUtiGeneralInformationOverviewFacet\"),de.attachPress({facets:j},function(e,a){var n,i,s,o,r;for(l.removeAllFacetContent(),(s=new sap.suite.ui.commons.UnifiedThingGroup).setDescription(V()),s.setTitle(J.getText(\"UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT\")),s.addStyleClass(\"sapFactsheetUtiGeneralInformationUtg\"),n=a.facets.Facets.length>1?\"L6 M12 S12\":\"L12 M12 S12\",H[0].Links=[],o=new sap.ui.layout.VerticalLayout({width:\"100%\"}),x=0;x<a.facets.Facets.length;x+=1)x%2==0&&(i=new sap.ui.layout.Grid({hSpacing:1,vSpacing:1,defaultSpan:n})),(r=w(m,y,a.facets.Facets[x],T,this)).addStyleClass(\"sapFactsheetUtiGeneralInformationUtgContent\"),0===x&&a.facets.Facets.length>1&&\"\"===r.getTitle().trim()&&r.setTitle(J.getText(\"UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT\")),i.addContent(r),x%2!=0&&o.addContent(i);H[0].bLoaded=!0,H[0].bProcessed=!1,H[0].bIsTable=!1,t(0),x%2!=0&&o.addContent(i),s.setContent(o),l.addFacetContent(s),l.navigateToDetail()}),l.addFacet(de)}for(_=function(e){return function(a){var n,i,s,o,r,c,u,d,h,f,y,T,S,v,P,I,w,x,E,O;if(\"*\"===e.cardinality&&a.results&&a.results.length&&0!==a.results.length||\"1\"===e.cardinality&&a){if(f=new sap.ui.model.json.JSONModel,\"*\"===e.cardinality?a.results&&a.results.length&&f.setData(a):(f.setData({result:a}),y=\"/result\"),n=new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/VBI_APPL_DEF_SRV\",!1),i=N[e.navigationType][\"com.sap.vocabularies.UI.v1.GeoLocation\"],S=N[e.navigationType][\"com.sap.vocabularies.UI.v1.HeaderInfo\"],v=N[e.navigationType][\"com.sap.vocabularies.UI.v1.Identification\"],i.Longitude&&i.Latitude)if(o={Data:{Set:{N:[{name:\"Spots\",E:[]}]}}},\"1\"===e.cardinality)i.Longitude.Path&&i.Latitude.Path&&(s=a[i.Longitude.Path]+\";\"+a[i.Latitude.Path]+\";0\"),o.Data.Set.N[0].E.push({A:s,I:\"pin_blue.png\"});else{for(O=0;O<a.results.length;O+=1)i.Longitude.Path&&i.Latitude.Path&&(s=a.results[O][i.Longitude.Path]+\";\"+a.results[O][i.Latitude.Path]+\";0\"),o.Data.Set.N[0].E.push({A:s,I:\"pin_blue.png\"});0!==a.results.length&&(s=a.results[0][i.Longitude.Path]+\";\"+a.results[0][i.Latitude.Path]+\";0\")}E=parseInt(a.__count,10),Number(E)&&e.facet.setQuantity(E),u=function(e){var t,a,n,i;\"DETAIL_REQUEST\"===(t=$.parseJSON(e.getParameters().data)).Action.name&&t.Action.instance&&(a=t.Action.instance,f.oData.results&&(y=\"/results/\"+a.split(\".\")[1]),x=S.TypeName.String.substring(0,17),i=16*parseFloat(F(.7)),n={SAPVB:{version:\"2.0\",\"xmlns:VB\":\"VB\",Windows:{Remove:{name:\"Detail1\"},Set:{name:\"Detail1\",Window:{id:\"Detail1\",type:\"callout\",refParent:\"Main\",refScene:\"\",offsetX:\"16\",offsetY:\"-27\",modal:\"false\",width:16*parseFloat(F(1.5)),height:i,caption:x,\"pos.bind\":a+\".GeoPosition\"}}},Scenes:{Set:{name:\"Details\",Scene:{id:\"Details\",navControlVisible:\"false\"}}}}},this.load(n))},d=function(a){var n,s,o,r;if(P)P.bindElement(y),I&&I.bindElement(y),T&&T.bindElement(y),w&&w.bindElement(y);else{for(n in(P=g(S.Title,e.navigationType,b,e.facet)).setModel(f),P.bindElement(y),(I=g(S.Description,e.navigationType,b,e.facet)).setModel(f),I.bindElement(y),i.Address)if(\"label\"===n){(T=g({Value:i.Address[n]},e.navigationType,b,e.facet)).setModel(f),T.bindElement(y);break}r=7,jQuery.device.is.tablet&&jQuery.device.is.landscape?r=4:jQuery.device.is.tablet&&jQuery.device.is.portrait?r=5:jQuery.device.is.phone&&jQuery.device.is.landscape?r=2:jQuery.device.is.phone&&jQuery.device.is.portrait&&(r=3),w=new sap.ui.layout.VerticalLayout({width:\"100%\"}).setModel(m),e.navigationPath?(o=p(e.entitySet,e.navigationPath,b),w.addContent(C(m,o,v,{High:r},null,e.facet)),w.setModel(f).bindElement(y)):w.addContent(C(m,e.entitySet,v,{High:r},null,e.facet)).setModel(f).bindElement(y)}s=16*parseFloat(F(1.5))*.95+\"px\",P&&(P.placeAt(a.getParameter(\"contentarea\").id),P.addStyleClass(\"sapFactsheetUtiGeoPopupHead\"),jQuery.device.is.phone&&P.addStyleClass(\"sapFactsheetUtiGeoPopupHeadFontPhone\"),P.setWidth(s)),I&&(I.placeAt(a.getParameter(\"contentarea\").id),I.addStyleClass(\"sapFactsheetUtiGeoPopupDescr\"),jQuery.device.is.phone&&I.addStyleClass(\"sapFactsheetUtiGeoPopupDescrFontPhone\"),I.setWidth(s)),T&&(T.placeAt(a.getParameter(\"contentarea\").id),T.addStyleClass(\"sapFactsheetUtiGeoPopupText\"),T.setWidth(s)),w&&w.getContent()[0]&&w.getContent()[0].getContent&&w.getContent()[0].getContent().length>0&&(w.placeAt(a.getParameter(\"contentarea\").id),w.addStyleClass(\"sapFactsheetUtiGeoPopupText\"),w.setWidth(s)),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet))},h=function(e){P&&(P.destroy(),P=void 0),I&&(I.destroy(),I=void 0),T&&(T.destroy(),T=void 0),w&&(w.destroy(),w=void 0),$(e.getParameter(\"contentarea\").id).empty()},r=function(e){return function(t){var a,n,r,p,c;for(p=(p=t.ProjectJSON).indexOf(\"{\")?p.substr(p.indexOf(\"{\")):p,(a=$.parseJSON(p)).SAPVB.Scenes.Set.SceneGeo.initialStartPosition=s,a.SAPVB.Scenes.Set.SceneGeo.initialZoom=12,a.SAPVB.Actions.Set.Action.push({id:\"200\",name:\"TAP_ON_MAP\",refEvent:\"Click\",refScene:\"MainScene\",refVO:\"Map\"}),o&&(a.SAPVB.Data=o.Data),c=0;c<a.SAPVB.Scenes.Set.SceneGeo.VO.length;c+=1)if(\"Spots\"===a.SAPVB.Scenes.Set.SceneGeo.VO[c].datasource&&a.SAPVB.Scenes.Set.SceneGeo.VO[c].scale&&3!==a.SAPVB.Scenes.Set.SceneGeo.VO[c].scale.split(\";\").length){a.SAPVB.Scenes.Set.SceneGeo.VO[c].scale=\"1.0;1.0;1.0\";break}e.facet.getContent().attachSubmit(function(t){(jQuery.device.is.tablet||jQuery.device.is.phone)&&e.facet.firePress()}),e.facet.getContent().load(a),e.facet.attachPress(\"\",function(t,s){var o,p,c=[],m=[];if(n||(n=new sap.ui.vbm.VBI({width:\"100%\",height:\"100%\",plugin:!1,config:null})).addStyleClass(\"sapFactsheetUtiGeoPopup\"),a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.move=\"false\",a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.zoom=\"false\",a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.pitch=\"false\",a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.yaw=\"false\",a.SAPVB.Scenes.Set.SceneGeo.SuppressedNavControlVisibility=\"false\",n.load(a),\"*\"===e.cardinality)for(o=0;o<f.oData.results.length;o+=1)c.push(f.oData.results[o][i.Longitude.Path]),m.push(f.oData.results[o][i.Latitude.Path]);n.attachSubmit(u),n.attachOpenWindow(d),n.attachCloseWindow(h),r=new sap.suite.ui.commons.UnifiedThingGroup({content:n,title:e.facetContent.Label.String,description:V()}),l.removeAllFacetContent(),l.addFacetContent(r),l.navigateToDetail(),l.attachAfterNavigate(c,function(e){-1!==e.getParameters().getParameters().toId.indexOf(\"-detail-page\")&&(p=jQuery.device.is.phone?\"300px\":Math.floor($(\"#\"+e.getParameters().getParameters().toId+\"-cont\").height()-128)+\"px\",n.setHeight(p),c.length>1&&n.zoomToGeoPosition(c,m))})})}},c=function(e){return function(t){l.removeFacet(e)}},n.read(\"VBIApplicationSet('ZFACTSHEETS')\",\"\",\"\",!1,r(e),c(e.facet))}else e.facet.setQuantity(void 0),e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S),e.facet.setContent(void 0),e.facet.setTitle(void 0)}},we=function(e){var t,a;a=t=e.srcControl.getParent().getParent().getDomRef().clientWidth,e.srcControl.getParent().getContent()[0]&&(a-=e.srcControl.getParent().getContent()[0].getDomRef().clientWidth,t<e.srcControl.getParent().getContent()[0].getDomRef().clientWidth)?e.srcControl.getParent().getContent()[0].getDomRef().setAttribute(\"style\",\"width:\"+t+\"px\"):(e.srcControl.getParent().getContent()[1]&&(a-=e.srcControl.getParent().getContent()[1].getDomRef().clientWidth),a<10&&(a=0),e.srcControl.getParent().getContent()[2]&&e.srcControl.getParent().getContent()[2].getDomRef().setAttribute(\"style\",\"width:\"+a+\"px\"))},B=function(e){return function(a){var n,i,s,o,r,p,c,u,d,f,y,T,S,v,P,I,C,x,E,F,A,L,U,D,M,B,_,k,R,j,Q,G=\"\";if(n=new sap.ui.model.json.JSONModel,i=e.facetContent.Target&&e.facetContent.Target.AnnotationPath&&e.facetContent.Target.AnnotationPath.split(\"#\")[1]&&N[e.navigationType][\"com.sap.vocabularies.UI.v1.Badge#\"+e.facetContent.Target.AnnotationPath.split(\"#\")[1]]?N[e.navigationType][\"com.sap.vocabularies.UI.v1.Badge#\"+e.facetContent.Target.AnnotationPath.split(\"#\")[1]]:N[e.navigationType][\"com.sap.vocabularies.UI.v1.Badge\"],\"*\"===e.cardinality){if(a.results&&a.results.length){if(B=e.facetContent.Target.AnnotationPath,\"com.sap.vocabularies.UI.v1.Chart\"===(ve=B.substring(B.lastIndexOf(\"@\")+1))){for(jQuery.sap.require(\"sap.viz.ui5.data.FlattenedDataset\"),_=N[e.navigationType][\"com.sap.vocabularies.UI.v1.Chart\"],k=N.propertyExtensions[e.navigationType],R=[],c=0;c<_.Dimensions.length;c+=1)R.push({axis:1,name:k[_.Dimensions[c].PropertyPath][\"http://www.sap.com/Protocols/SAPData\"].label,value:\"{\"+_.Dimensions[c].PropertyPath+\"}\"});for(j=[],c=0;c<_.Measures.length;c+=1)j.push({name:k[_.Measures[c].PropertyPath][\"http://www.sap.com/Protocols/SAPData\"].label,value:\"{\"+_.Measures[c].PropertyPath+\"}\"});Q=new sap.viz.ui5.data.FlattenedDataset({dimensions:R,measures:j,data:{path:\"/results\"}}),(d=O(_.ChartType.EnumMember,_.Title,_.Description,Q)).setModel(n),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.XL)}else for(d=new sap.ui.layout.VerticalLayout({width:\"100%\"}).addStyleClass(\"sapFactsheetUtiVLayoutPadding\"),c=0;c<a.results.length;c+=1){if(r=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutPadding\"),(s=g(i.Title,e.navigationType,b,e.facet)).setWrapping&&s.setWrapping(!1),s.addDelegate({onAfterRendering:we}),(n=new sap.ui.model.json.JSONModel).setData({result:a.results[c]}),s.setModel(n),s.bindElement(\"/result\"),p=!1,a.results[c][i.Title.Value.Path]&&(p=!0),i.Title.Value.Apply)for(u=0;u<i.Title.Value.Apply.Parameters.length;u+=1)if(\"Path\"===i.Title.Value.Apply.Parameters[u].Type&&a.results[c][i.Title.Value.Apply.Parameters[u].Value]){p=!0;break}if(G=\"\",p){if(r.addContent(s),i.MainInfo&&(i.MainInfo.EdmType&&\"Edm.Decimal\"===i.MainInfo.EdmType||i.MainInfo.Value&&i.MainInfo.Value.Apply&&i.MainInfo.Value.Apply.Parameters[0]&&i.MainInfo.Value.Apply.Parameters[0].EdmType&&\"Edm.Decimal\"===i.MainInfo.Value.Apply.Parameters[0].EdmType))G=\"comma\";else if(i.MainInfo&&i.MainInfo.Value.Path&&a.results[c][i.MainInfo.Value.Path])G=\"dash\";else if(i.MainInfo&&i.MainInfo.Value.Apply)for(u=0;u<i.MainInfo.Value.Apply.Parameters.length;u+=1)if(\"Path\"===i.MainInfo.Value.Apply.Parameters[u].Type&&a.results[c][i.MainInfo.Value.Apply.Parameters[u].Value]){G=\"dash\";break}\"dash\"===G&&r.addContent(new sap.ui.core.HTML({content:'<span class=\"sapFactsheetUtiSeparatorPadding sapMText\"> &ndash; </span>'})),\"comma\"===G&&r.addContent(new sap.m.Text({text:\", \"}).addStyleClass(\"sapFactsheetUtiSeparatorPaddingForDecimal\"))}i.MainInfo&&((o=g(i.MainInfo,e.navigationType,b,e.facet)).setWrapping&&o.setWrapping(!1),o.addDelegate({onAfterRendering:we}),o.setModel(n),o.bindElement(\"/result\"),r.addContent(o)),d.addContent(r)}f=parseInt(a.__count,10),Number(f)&&e.facet.setQuantity(f),e.facet.setContent(d),e.facet.attachPress({facet:e.facetContent},function(a,n){var i;l.removeAllFacetContent(),H[H.indexOf(e.facet)].Links=[],(i=w(m,e.entitySet,n.facet,e.bindingPath,this)).setDescription(V()),l.addFacetContent(i),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!1,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!0),t(H.indexOf(e.facet)),l.navigateToDetail()})}else e.facet.setQuantity(0),e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet))}else{for(D in n.setData({result:a}),a)if(a.hasOwnProperty(D)&&\"__metadata\"!==D)if(\"string\"==typeof a[D]&&a[D]){if(0!==parseInt(a[D],10)){M=!0;break}}else if(\"number\"==typeof a[D]&&0!==parseInt(a[D],10)){M=!0;break}M?(y=new sap.ui.layout.VerticalLayout,T=N.propertyExtensions?N.propertyExtensions[e.navigationType]:[],S=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutLabelValue\"),v=h(i.Title,{},T,!0).addStyleClass(\"sapFactsheetUtiLabelMargin\"),(s=g(i.Title,e.navigationType,b,e.facet)).setModel(n),s.bindElement(\"/result\"),S.addContent(v),S.addContent(s),y.addContent(S),i.MainInfo&&(P=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutLabelValue\"),I=h(i.MainInfo,{},T,!0).addStyleClass(\"sapFactsheetUtiLabelMargin\"),(o=g(i.MainInfo,e.navigationType,b,e.facet)).setModel(n),o.bindElement(\"/result\"),P.addContent(I),P.addContent(o),y.addContent(P)),i.SecondaryInfo&&(C=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutLabelValue\"),x=h(i.SecondaryInfo,{},T,!0).addStyleClass(\"sapFactsheetUtiLabelMargin\"),(E=g(i.SecondaryInfo,e.navigationType,b,e.facet)).setModel(n),E.bindElement(\"/result\"),C.addContent(x),C.addContent(E),y.addContent(C)),i.TypeImageUrl||i.ImageUrl?(F=i.ImageUrl?i.ImageUrl:i.TypeImageUrl,A=new sap.ui.layout.HorizontalLayout,L=\"64px\",jQuery.device.is.phone&&(L=\"48px\"),(U=F.String&&\"sap-icon://\"===F.String.substr(0,11)?new sap.ui.core.Icon({size:L,width:L}):new sap.m.Image({width:L})).addStyleClass(\"sapFactsheetUtiRelIcon\"),F&&F.String?U.setSrc(F.String):F&&F.Path&&U.bindProperty(\"src\",F.Path),A.addContent(U),A.addContent(y),e.facet.setContent(A)):e.facet.setContent(y),e.facet.attachPress({facet:e.facetContent},function(a,n){var i;l.removeAllFacetContent(),H[H.indexOf(e.facet)].Links=[],(i=w(m,e.entitySet,n.facet,e.bindingPath,this)).setDescription(V()),l.addFacetContent(i),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet)),l.navigateToDetail()})):(e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S)),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet))}}},Ce=function(e){return function(t){l.removeFacet(e.facet)}},Pe=function(e){return function(t){var a,n,i,s,o;if(n=N[e.navigationType][\"com.sap.vocabularies.UI.v1.MediaResource\"],\"*\"===e.cardinality)if(t.results&&t.results.length){for(a=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiPictureViewerOverview\"),i=0;i<t.results.length&&(a.addContent(new sap.m.Image({src:t.results[i][n.Thumbnail.Url.Path],height:\"85px\"})),3!==i);i+=1);s=parseInt(t.__count,10),Number(s)&&e.facet.setQuantity(s),e.facet.setContent(a),e.facet.attachPress({facet:e.facetContent,data:t},function(e,t){var a,s,r;for(l.removeAllFacetContent(),o=new sap.suite.ui.commons.UnifiedThingGroup,t.facet.Label&&t.facet.Label.String&&o.setTitle(t.facet.Label.String),o.setDescription(V()),s=jQuery.device.is.phone?\"350px\":\"550px\",a=new sap.m.Carousel({height:s}),i=0;i<t.data.results.length;i+=1)r=new sap.m.Image({src:t.data.results[i][n.Url.Path]}),jQuery.device.is.phone?r.addStyleClass(\"sapFactsheetUtiCarouselMaxImageHeightPhone\"):r.addStyleClass(\"sapFactsheetUtiCarouselMaxImageHeight\"),a.addPage(r);o.setContent(a),l.addFacetContent(o),l.navigateToDetail()})}else e.facet.setQuantity(0),e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S)}},xe=function(e,t){var a,n,i,s,o,r,l,p,c,u,d,m=[],g={};for(o=function(e,t){var a,n=\"\";if(e){if(e.Path)return t[e.Path];if(e.String)return e.String;if(\"odata.concat\"===e.Apply.Name){for(a=0;a<e.Apply.Parameters.length;a+=1)\"Path\"===e.Apply.Parameters[a].Type?n+=t[e.Apply.Parameters[a].Value]:\"String\"===e.Apply.Parameters[a].Type&&(n+=e.Apply.Parameters[a].Value);return n}}},g.iCount=0,g.aContacts=[],n=0;n<e.__batchResponses.length;n+=1)if(e.__batchResponses[n].data&&((m=e.__batchResponses[n].data.results)||(m=[]).push(e.__batchResponses[n].data),m.length>0&&(s=N[m[0].__metadata.type][\"com.sap.vocabularies.Communication.v1.Contact\"])))for(i=0;i<m.length;i+=1){if(r=l=p=\"\",s.tel)for(a=0;a<s.tel.length;a+=1)if(s.tel[a].type&&s.tel[a].type.EnumMember)switch(c=o(s.tel[a].uri,m[i]),s.tel[a].type.EnumMember){case\"com.sap.vocabularies.Communication.v1.PhoneType/voice\":r=(r=c?c.replace(\"tel:\",\"\"):\"\")?r.replace(\";ext=\",\"\"):\"\";break;case\"com.sap.vocabularies.Communication.v1.PhoneType/cell\":l=(l=c?c.replace(\"tel:\",\"\"):\"\")?l.replace(\";ext=\",\"\"):\"\";break;case\"com.sap.vocabularies.Communication.v1.PhoneType/fax\":p=(p=c?c.replace(\"tel:\",\"\"):\"\")?p.replace(\";ext=\",\"\"):\"\"}d=s.email&&s.email.address?s.email.address:\"\",u=o(s.photo,m[i]),g.iCount+=1,g.aContacts.push({fn:o(s.fn,m[i]),title:o(s.title,m[i]),org:o(s.org,m[i]),phone:r,mobile:l,fax:p,photo:u,email:o(d,m[i]),sEntity:m[0].__metadata.type,bExistsPhoto:!!u,bUseIcon:!u,sOrder:g.iCount})}return t&&g.aContacts.sort(function(e,a){return e[t]>a[t]?1:-1}),g},ne=function(e){return function(e){var t,a,n,i,s,o,r,p;for(a=xe(e,\"sOrder\"),n=new sap.ui.layout.Grid({defaultSpan:\"L6 M6 S12\",hSpacing:0,vSpacing:0}).addStyleClass(\"sapFactsheetUtiContactsGrid\"),t=0;t<a.aContacts.length&&t<4;t+=1)o=new sap.ui.layout.VerticalLayout,r=a.aContacts[t].photo?new sap.m.Image({height:\"55px\",src:a.aContacts[t].photo}):new sap.ui.core.Icon({size:\"50px\",src:sap.ui.core.IconPool.getIconURI(\"person-placeholder\")}).addStyleClass(\"sapFactsheetUtiRelIcon\"),o.addContent(r),o.addStyleClass(\"sapFactsheetUtiContactsImage\"),s=new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:a.aContacts[t].fn}).addStyleClass(\"sapFactsheetUtiTextName\"),new sap.m.Text({text:a.aContacts[t].title}).addStyleClass(\"sapFactsheetUtiTextValue\")]}),i=new sap.ui.layout.HorizontalLayout({content:[o,s]}).addStyleClass(\"sapFactsheetUtiContactsBox\"),n.addContent(i);(de=sap.ui.getCore().byId(l.data(\"contactFacetId\"))).setQuantity(a.iCount),t>0?(de.setContent(n),p=t<=2?sap.suite.ui.commons.FacetOverviewHeight.M:sap.suite.ui.commons.FacetOverviewHeight.L,de.attachPress(function(){var e,t,a=[];for(m.clearBatch(),e=0;e<N[S][\"com.sap.vocabularies.UI.v1.Contacts\"].length;e+=1)t=\"\"!==(E=(E=N[S][\"com.sap.vocabularies.UI.v1.Contacts\"][e].AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1))?T+\"/\"+E:T,a.push(m.createBatchOperation(t,\"GET\"));m.addBatchReadOperations(a),m.submitBatch(function(e){var t,a,n,i,s,o,r;r=jQuery.sap.resources({url:jQuery.sap.getModulePath(\"sap.ushell.components.container.\")+\"/resources/resources.properties\",language:sap.ui.getCore().getConfiguration().getLanguage()}),t=xe(e,\"sEntity\"),(a=new sap.ui.model.json.JSONModel).setData(t),n=new sap.m.ColumnListItem({type:sap.m.Inactive,unread:!1,cells:[new sap.ui.layout.VerticalLayout({content:[new sap.m.Image({src:\"{photo}\",width:\"74px\",visible:\"{bExistsPhoto}\"}),new sap.ui.core.Icon({size:\"76px\",src:sap.ui.core.IconPool.getIconURI(\"person-placeholder\"),visible:\"{bUseIcon}\"}).addStyleClass(\"sapFactsheetUtiRelIcon\")]}),new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:\"{fn}\"}).addStyleClass(\"sapFactsheetUtiContactsName\"),new sap.m.Label({text:\"{title}\"}),new sap.m.Label({text:\"{org}\"})]}),new sap.m.Link({text:\"{phone}\",href:\"tel:{phone}\"}),new sap.m.Link({text:\"{mobile}\",href:\"tel:{mobile}\"}),new sap.m.Link({text:\"{fax}\",href:\"tel:{fax}\"}),new sap.m.Link({text:\"{email}\",href:\"mailto:{email}\"})]}),i=new sap.m.Table({threshold:2,inset:!1,showUnread:!0,scrollToLoad:!0,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.Center,width:\"12%\",header:new sap.m.Text({text:\"\"})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,header:new sap.m.Text({text:r.getText(\"USHELL_FACTSHEET_NAME\")})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"12%\",header:new sap.m.Text({text:r.getText(\"USHELL_FACTSHEET_PHONE\")}),minScreenWidth:\"Tablet\",demandPopin:!0}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"12%\",header:new sap.m.Text({text:sap.ushell.resources.i18n.getText(\"mobile\")}),minScreenWidth:\"Tablet\",demandPopin:!0}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"12%\",header:new sap.m.Text({text:sap.ushell.resources.i18n.getText(\"fax\")}),minScreenWidth:\"Tablet\",demandPopin:!0}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"26%\",header:new sap.m.Text({text:r.getText(\"USHELL_FACTSHEET_EMAIL\")}),minScreenWidth:\"Tablet\",demandPopin:!0})],items:{path:\"/aContacts\",template:n}}),s=new sap.m.ViewSettingsDialog({sortItems:[new sap.m.ViewSettingsItem({key:\"fn\",text:r.getText(\"USHELL_FACTSHEET_NAME\")}),new sap.m.ViewSettingsItem({key:\"phone\",text:r.getText(\"USHELL_FACTSHEET_PHONE\")}),new sap.m.ViewSettingsItem({key:\"mobile\",text:sap.ushell.resources.i18n.getText(\"mobile\")}),new sap.m.ViewSettingsItem({key:\"fax\",text:sap.ushell.resources.i18n.getText(\"fax\")}),new sap.m.ViewSettingsItem({key:\"email\",text:r.getText(\"USHELL_FACTSHEET_EMAIL\")})],confirm:function(e){var t,a,n=[];t=e.getParameters(),a=i.getBinding(\"items\"),t.sortItem&&(n.push(new sap.ui.model.Sorter(t.sortItem.getKey(),t.sortDescending)),a.sort(n))}}),i.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label,new sap.m.ToolbarSpacer,new sap.m.Button({icon:\"sap-icon://drop-down-list\",press:function(e){s.open()}})]})),i.setModel(a),o=new sap.suite.ui.commons.UnifiedThingGroup({title:de.getTitle(),description:V(),content:i}),l.removeAllFacetContent(),l.addFacetContent(o),l.navigateToDetail()})})):(p=sap.suite.ui.commons.FacetOverviewHeight.S,de.addStyleClass(\"sapFactsheetUtiEmptyTile\"),de.setQuantity(0)),de.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:p)}},x=0;x<P.length;x+=1)if(P[x][\"com.sap.vocabularies.UI.v1.Map\"])E=(E=P[x].Target.AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1),he=\"1\",ge=S,E&&(ge=D(E,S,b),he=c(y,E,b)),Ie=\"100%\",jQuery.device.is.phone&&(Ie=\"150px\"),me=new sap.ui.vbm.VBI({width:\"100%\",height:Ie,plugin:!1,config:null}),de=new sap.suite.ui.commons.FacetOverview({title:P[x].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.L,content:me}),H.push(de),H[H.length-1].bLoaded=!1,H[H.length-1].bProcessed=!1,H[H.length-1].bIsTable=!1,k={cardinality:he,navigationPath:E,facet:de,facetContent:P[x],navigationType:ge,metadata:b,bindingPath:T,entitySet:y},fe=\"*\"===he?[\"$inlinecount=allpages\",\"$top=1000\"]:[],m.read(T+\"/\"+E,\"\",fe,!0,_(k)),l.addFacet(de);else if(P[x].Target)if(E=(E=P[x].Target.AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1),ve=P[x].Target.AnnotationPath.substring(P[x].Target.AnnotationPath.lastIndexOf(\"@\")+1),E)ge=D(E,S,b),de=new sap.suite.ui.commons.FacetOverview({title:P[x].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M}),0!==(he=c(y,E,b))&&(k={cardinality:he,navigationPath:E,facet:de,facetContent:P[x],navigationType:ge,metadata:b,bindingPath:T,entitySet:y},P[x][\"com.sap.vocabularies.UI.v1.Gallery\"]?(fe=\"*\"===he?[\"$inlinecount=allpages\"]:[],m.read(T+\"/\"+E,\"\",fe,!0,Pe(k))):(H.push(de),H[H.length-1].bLoaded=!1,H[H.length-1].bProcessed=!1,H[H.length-1].bIsTable=!1,fe=\"*\"===he?[\"$inlinecount=allpages\",\"$top=3\"]:[],m.read(T+\"/\"+E,\"\",fe,!0,B(k),Ce(k))),l.addFacet(de));else if(\"com.sap.vocabularies.UI.v1.Contacts\"===ve){for(de=new sap.suite.ui.commons.FacetOverview({title:P[x].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M}),l.data(\"contactFacetId\",de.sId),k={facet:de},m.clearBatch(),R=0;R<N[S][ve].length;R+=1)ae=\"\"!==(E=(E=N[S][ve][R].AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1))?\"*\"===(he=c(y,E,b))?T+\"/\"+E+\"?$top=4&$inlinecount=allpages\":T+\"/\"+E:T,Ae.push(m.createBatchOperation(ae,\"GET\"));m.addBatchReadOperations(Ae),m.submitBatch(ne()),l.addFacet(de)}return ce=new sap.ushell.ui.footerbar.AddBookmarkButton,Te=function(){var a,n,i,s,o,r,p,c,u,d,g,h,T={};for(ce.setAppData({title:l.getTitle(),subtitle:l.getName()+\" - \"+l.getDescription()}),ce.setEnabled(!0),h=(g=sap.ushell.Container.getService(\"URLParsing\")).getShellHash(window.location.href),c=g.parseShellHash(h).semanticObject,Q=new sap.suite.ui.commons.LinkActionSheet({showCancelButton:!0,placement:sap.m.PlacementType.Top}),a=f(e,m).split(\",\"),n=0;n<a.length;n+=1)a[n]=a[n].replace(\"='\",\"=\",\"g\"),a[n].lastIndexOf(\"'\")===a[n].length-1&&(a[n]=a[n].slice(0,-1));for(i in N[S])if(N[S].hasOwnProperty(i)&&0===i.indexOf(\"com.sap.vocabularies.Common.v1.SecondaryKey\"))for(s=N[S][i],n=0;n<s.length;n+=1)(o=this.getBoundContext().getProperty(s[n].PropertyPath))&&a.push(s[n].PropertyPath+\"=\"+o);for(n=0;n<a.length;n+=1)r=a[n].substr(0,a[n].indexOf(\"=\")),p=a[n].substr(a[n].indexOf(\"=\")+1,a[n].length),T[decodeURIComponent(r)]=decodeURIComponent(p);for(u in sap.ushell.Container.getService(\"CrossApplicationNavigation\").getSemanticObjectLinks(c,T).done(jQuery.proxy(function(e){var t,a,n;for(t=0;t<e.length;t+=1)(n=e[t].intent).indexOf(\"displayFactSheet\")<0&&n.indexOf(\"-analyzeKPIDetails~\")<0&&n.indexOf(\"-analyzeSBKPIDetails~\")<0&&n.indexOf(\"-NavigateToMaintainCusProj~\")<0&&n.indexOf(\"CostCenter-manageCostCenter~\")<0&&n.indexOf(\"AccountingDocument-analyzeDocumentJournal~\")<0&&n.indexOf(\"AccountingDocument-analyzeGLLineItem~\")<0&&n.indexOf(\"ControllingDocument-analyzeCostCenters~\")<0&&n.indexOf(\"ControllingDocument-analyzeInternalOrders~\")<0&&n.indexOf(\"ControllingDocument-analyzeMarketSegment~\")<0&&n.indexOf(\"ControllingDocument-analyzeProfitCentersActuals~\")<0&&n.indexOf(\"ControllingDocument-analyzeProfitLoss~\")<0&&n.indexOf(\"ControllingDocument-analyzeProjectsActuals~\")<0&&n.indexOf(\"PurchaseOrder-create~\")<0&&(a=sap.ushell.Container.getService(\"CrossApplicationNavigation\").hrefForExternal({target:{shellHash:n}}),Q.addItem(new sap.m.Link({text:e[t].text,href:a})),l.setTransactionsVisible(!0))})),l.attachTransactionsButtonPress(function(e){Q.openBy(e.getParameter(\"caller\"))}),this.detachChange(Te),sap.ushell.services.AppConfiguration.setWindowTitle(l.getTitle().trim()+\": \"+l.getName().trim()+\" (\"+l.getDescription().trim()+\")\"),l.setActionsVisible(!0),ye=new sap.m.Button({text:J.getText(\"UNIFIEDTHINGINSPECTOR_FOOTER_BUTTON_EMAIL_LINK\"),icon:\"sap-icon://email\",press:function(e){sap.m.URLHelper.triggerEmail(\"\",l.getName(),window.location.href)}}),G=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top}),e.substr(0,e.lastIndexOf(\"/\")+1),m.oData)if(m.oData.hasOwnProperty(u)){u,d=u.substring(u.indexOf(\"(\")+1,u.indexOf(\")\"));break}G.addButton(new sap.ushell.ui.footerbar.JamDiscussButton({jamData:{businessObject:{appContext:\"CB\",odataServicePath:e.substr(0,e.lastIndexOf(\"/\")+1),collection:y,key:d,name:l.getTitle(),ui_url:window.location.href}}})),G.addButton(new sap.ushell.ui.footerbar.JamShareButton({jamData:{object:{id:window.location.href,display:new sap.m.Text({text:l.getTitle()}),share:\"\"},externalObject:{appContext:\"CB\",odataServicePath:e.substr(0,e.lastIndexOf(\"/\")+1),collection:y,key:d,name:l.getTitle()}}})),G.addButton(ce),G.addButton(ye),l.attachActionsButtonPress(function(e){G.openBy(e.getParameter(\"caller\"))}),H[0].bLoaded=!0,H[0].bProcessed=!1,t(0)},l.getElementBinding().attachChange(Te),l.attachBackAction(function(e){history.back()}),l.addDelegate({onAfterRendering:function(){l._adjustFacetLayout()}}),l},{ThingInspector:function(t,a){try{e=v(t,a,new sap.suite.ui.commons.UnifiedThingInspector({configurationVisible:!1}))}catch(e){throw e}return e}}}()}();",
	"web/ui5/resources/sap/ushell/components/factsheet/factory/ThingInspector.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.factsheet.factory.ThingInspector\"),sap.ushell.components.factsheet.factory=function(){jQuery.sap.require(\"sap.suite.ui.commons.UnifiedThingInspector\"),jQuery.sap.require(\"sap.ushell.components.factsheet.annotation.Mapping\"),jQuery.sap.require(\"sap.ui.vbm.library\");var e,t,a,n,i,s,o,r,l,p,c,u,d,m,g,h,f,y,T,b,S,v,P,I,C,w,x,E,O,F,A,L,V,U,D,N={},H=[],M={},B={};function _(e,t){var a,n,i,s;return e?(n=new RegExp(sap.ui.core.format.NumberFormat.oDefaultFloatFormat.groupingSeparator,\"g\"),t>=0?(t=parseInt(t,10),s=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:t,maxFractionDigits:t},E)):s=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:0,maxFractionDigits:99},E),(i=(a=s.format(e)).replace(/[\\D]/g,\"\"))&&i.length>6?function(e){var t=Number(e).toFixed(0);return function(e){return e<0}(e)&&(t=-1*Number(t)),t}(e=e.replace(n,\"\"))<1e3?sap.ui.core.format.NumberFormat.getIntegerInstance().format(e):(s=sap.ui.core.format.NumberFormat.getFloatInstance({minFractionDigits:1,maxFractionDigits:1,style:\"short\"},E)).format(e):a):\"\"}function k(){var e,t,a,n,i,s,o,r,l,p,c=\"\";for(a=this.getElementBinding().sPath.split(\"/\")[1],n=this.getModel(),i=this.mBindingInfos.value.parameters,s=this.mBindingInfos.value.parts,o=0;o<i.length;o+=1)c+=i[o].string;for(r=0;r<s.length;r+=1)p=\"{\"+(e=s[r].path)+\"}\",t=n.oData[a][e],c=c.replace(p,t);l=m(c),$.isNumeric(l)&&(l=_(l,this.mBindingInfos.value.parts.filter(function(t){return t.path===e})[0].type.oFormatOptions.maxFractionDigits),this.setDoubleFontSize(!0)),this.setValue(l),this.getElementBinding().detachChange(k)}return jQuery.sap.require(\"sap.ui.base.Object\"),jQuery.sap.require(\"sap.ui.core.format.NumberFormat\"),E=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),\"ZH\"===sap.ui.getCore().getConfiguration().getLanguage()&&(E=new sap.ui.core.Locale(\"zh_CN\")),V=function(){var t=\"\";return e.getName()&&e.getDescription()?t=e.getName()+\", \"+e.getDescription():e.getName()&&!e.getDescription()?t=e.getName():!e.getName()&&e.getDescription()&&(t=e.getDescription()),t},i=function(e){var t,a,n;for(t=e.slice(1).split(\"/\"),a=\"/\",n=0;n<t.length&&!(t[n].indexOf(\"(\")>0&&t[n].indexOf(\"sid(\")<0);n+=1)a+=t[n]+\"/\";return a},s=function(e,t){var a,n,i,s;return(n=e.slice(t.sServiceUrl.length+1)).indexOf(\"/\")>=0?(s=(i=n.split(\"/\"))[i.length],(a=i[i.length-1]).indexOf(\"(\")>=0&&(a=a.slice(a.indexOf(\"(\"))),a=this.getNavEntitySet(a,s,t.getMetadata())):a=n.indexOf(\"(\")>=0?n.slice(0,n.indexOf(\"(\")):n.indexOf(\"?\")>=0?n.slice(0,n.indexOf(\"?\")):n,a},f=function(e,t){var a,n,i,o=\"\";return(a=e.slice(t.sServiceUrl.length+1)).indexOf(\"(\")>=0&&(o=a.slice(a.indexOf(\"(\")+1,a.indexOf(\")\"))).indexOf(\"=\")<=0&&(n=t.getServiceMetadata(),i=r(s(e,t),n),o=y(i,n)+\"=\"+o),o},y=function(e,t){var a,n,i;for(a=t.dataServices.schema.length-1;a>=0;a-=1)if((n=t.dataServices.schema[a]).namespace===e.slice(0,e.lastIndexOf(\".\")))for(i=0;i<n.entityType.length;i+=1)if(n.entityType[i].name===e.slice(e.lastIndexOf(\".\")+1))return n.entityType[i].key.propertyRef[0].name},o=function(e,t){var a,n,i,s;for(a=t.dataServices.schema.length-1;a>=0;a-=1)if((n=t.dataServices.schema[a]).entityContainer)for(s=(i=n.entityContainer[0].entitySet).length-1;s>=0;s-=1)if(i[s].entityType===e)return i[s].name},r=function(e,t,a){var n,i,s,o;for(n=t.dataServices.schema.length-1;n>=0;n-=1)if((i=t.dataServices.schema[n]).entityContainer)for(o=(s=i.entityContainer[0].entitySet).length-1;o>=0;o-=1)if(s[o].name===e)return a?s[o].entityType.slice(i.namespace.length+1):s[o].entityType},l=function(e,t,a){var n,i,s,o,r,l,p;for(n=e.split(\".\"),i=a.dataServices.schema.length-1;i>=0;i-=1){if(s=a.dataServices.schema[i],o=n[0],n.length>2)for(r=1;r<n.length-1;r+=1)o+=\".\"+n[r];if(s.namespace===o)for(l=0;l<s.entityType.length;l+=1)if(s.entityType[l].name===n[n.length-1]&&s.entityType[l].navigationProperty)for(r=0;r<s.entityType[l].navigationProperty.length;r+=1)if(s.entityType[l].navigationProperty[r].name===t)return{name:(p=s.entityType[l].navigationProperty[r]).relationship,toRole:p.toRole}}},p=function(e,t,a){var n,i,s,p,c,u,d,m;if(n=r(e,a),\"@\"===t.charAt(0)){if(N.termDefinitions&&N.termDefinitions[t])return(i=N.termDefinitions[t]).indexOf(\"Collection\")>=0&&(i=i.slice(i.indexOf(\"(\")+1,i.indexOf(\")\"))),o(i,a)}else if(s=l(n,t,a))for(p=a.dataServices.schema.length-1;p>=0;p-=1)if((c=a.dataServices.schema[p]).entityContainer&&c.entityContainer[0].associationSet)for(u=c.entityContainer[0].associationSet.length-1;u>=0;u-=1)if((d=c.entityContainer[0].associationSet[u]).association===s.name)for(m=0;m<d.end.length;m+=1)if(d.end[m].role===s.toRole)return d.end[m].entitySet},c=function(e,t,a){var n,i,s,o,p,c,u,d,m;if(d=(n=r(e,a)).split(\".\")[n.split(\".\").length-1],!(i=l(n,t,a)))return jQuery.sap.log.error('\"'+t+\"\\\" wasn't found in the metadata document. Check whether the corresponding search connector is active.\"),0;for(s=a.dataServices.schema.length-1;s>=0;s-=1){for(o=a.dataServices.schema[s],p=0;p<o.entityType.length&&!m;p+=1)if(o.entityType[p].name===d)for(u=0;u<o.entityType[p].navigationProperty.length;u+=1)if(o.entityType[p].navigationProperty[u].name===t){m=o.entityType[p].navigationProperty[u].toRole;break}for(p=o.association.length-1;p>=0;p-=1)if(c=o.association[p],o.namespace+\".\"+c.name===i.name)for(u=0;u<c.end.length;u+=1)if(c.end[u].role===m)return c.end[u].multiplicity}},u=function(e,t){var a,n,i,s;if(a={},N.expand&&N.expand[r(e,t)]){for(s in i=[],n=N.expand[r(e,t)])n.hasOwnProperty(s)&&i.push(n[s]);a.expand=i.join(\", \")}return a},D=function(e,t,a){var n,i,s,o,r,l;for(n=a.dataServices.schema.length-1;n>=0;n-=1)for(i=a.dataServices.schema[n],s=0;s<i.entityType.length;s+=1)if(i.entityType[s].name===t.split(\".\")[t.split(\".\").length-1])for(o=0;o<i.entityType[s].navigationProperty.length;o+=1)if(i.entityType[s].navigationProperty[o].name===e)for(r=0;r<i.association.length;r+=1)for(l=i.association[r].end.length-1;l>=0;l-=1)if(i.association[r].end[l].role===i.entityType[s].navigationProperty[o].toRole)return i.association[r].end[l].type},d=function(e,t){var a,n={};for(n.parts=[],n.parameters=[],a=e.length-1;a>=0;a-=1)if(\"Path\"===e[a].Type)if(e[a].EdmType)switch(e[a].EdmType){case\"Edm.DateTimeOffset\":case\"Edm.DateTime\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.DateTime({UTC:!0})});break;case\"Edm.Time\":n.parts.push({path:e[a].Value+\"/ms\",type:new sap.ui.model.type.Time({source:{pattern:\"timestamp\"},UTC:!0})});break;case\"Edm.Date\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.Date({UTC:!0})});break;case\"Edm.Decimal\":case\"Edm.Double\":case\"Edm.Single\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.Float});break;case\"Edm.Int16\":case\"Edm.Int32\":case\"Edm.Int64\":n.parts.push({path:e[a].Value,type:new sap.ui.model.type.Integer});break;default:n.parts.push({path:e[a].Value})}else n.parts.push({path:e[a].Value});else\"String\"===e[a].Type&&n.parameters.unshift({string:e[a].Value});return n.formatter=function(){var a,n,i,s,o=\"\",r=\"\",l=!1,p=0,c=0;if(arguments&&arguments.length>=1){for(a=arguments.length-1,i=\"\",s=0,e&&e[0]&&\"String\"===e[0].Type&&\"#\"===e[0].Value.substr(0,1)&&(l=!0),n=0;n<e.length;n+=1)\"Path\"===e[n].Type?((i=arguments[a])&&0!==i.length?(l&&(i=encodeURIComponent(i)),o+=i,p+=1):o.length>s&&(o.indexOf(\"(\")>s?o=o.substr(0,s):i=o=o.substr(0,s)),a-=1,s=o.length):(s=o.length,-1!==(r=e[n].Value).indexOf(\"(\")&&(c+=1),i&&i.length>0||-1!==r.indexOf(\"(\")||r&&\"#\"===r.substr(0,1)?o+=e[n].Value:r=\"\");return t&&(o=t(o)),o=o.trim(),1===p&&c>0&&\"(\"===o.substr(0,1)&&\")\"===o.substr(-1)&&(o=o.substr(1,o.length-2)),o.trim()}},n},P=function(e,t){var a;for(a in e)if(e.hasOwnProperty(a)){if(\"__metadata\"===a)continue;if(a===t)return e[a];if(\"object\"==typeof e[a])return P(e[a],t)}},m=function(e){var t,a,n,i,s={};return t=e.lastIndexOf(\"/\"),a=e.slice(0,t),n=e.slice(t+1),B[e]?s=B[e]:((s=new sap.ui.model.json.JSONModel).loadData(a,null,!1),B[e]=s.getData()),B[e]&&B[e].d&&(i=B[e].d[n]?B[e].d[n]:P(B[e].d,n)),i},g=function(e,t,a,n){var i,s,o,r,l,p,c,u;return i=new sap.ui.core.Control,s=I(e.Value,e.EdmType,t),e.Value&&e.Value[\"com.sap.vocabularies.UI.v1.IsImageURL\"]?(i=new sap.m.Image({height:\"50px\"}),s.BindingInfo?i.bindProperty(\"src\",s.BindingInfo):i.setProperty(\"src\",s.String)):(e.UrlRef||e.Url||e.Target&&e.Target.Path?i=new sap.m.Link({wrapping:!0}):(i=new sap.m.Text,\"Edm.Decimal\"!==e.EdmType&&\"Edm.Double\"!==e.EdmType&&\"Edm.Single\"!==e.EdmType&&\"Edm.Int16\"!==e.EdmType&&\"Edm.Int32\"!==e.EdmType&&\"Edm.Int64\"!==e.EdmType||i.setTextAlign(sap.ui.core.TextAlign.End)),i.addStyleClass(\"sapFactsheetUtiDataField\"),s.BindingInfo?i.bindProperty(\"text\",s.BindingInfo):i.setProperty(\"text\",s.String)),\"com.sap.vocabularies.UI.v1.DataFieldWithNavigation\"===e.RecordType&&a&&(o=e.Target.Path,N[t][o.slice(1)]&&\"@\"===o.charAt(0)&&(r=o.indexOf(\"/\")<0?N[t][o.slice(1)].UrlRef:N[t][o.slice(1,o.indexOf(\"/\"))].UrlRef,i.bindProperty(\"href\",T(r))),i.attachPress(function(e){return!1})),\"com.sap.vocabularies.UI.v1.DataFieldWithUrl\"===e.RecordType&&(e.Url.String?i.setHref(e.Url.String):(i.bindProperty(\"href\",T(e.Url)),l=new sap.m.Text({wrapping:!0}),s.BindingInfo?l.bindProperty(\"text\",s.BindingInfo):l.setProperty(\"text\",s.String),i.setVisible(!1),(p=new sap.ui.layout.VerticalLayout).addContent(i),p.addContent(l),H[H.indexOf(n)].Links||(H[H.indexOf(n)].Links=[]),e.Url.Apply&&(c=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf(\"#\")+1,e.Url.Apply.Parameters[0].Value.indexOf(\"-\")),u=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf(\"#\")+1,e.Url.Apply.Parameters[0].Value.indexOf(\"?\"))),H[H.indexOf(n)].Links.push({sSemanticObject:c,sIntend:u,oVL:p}))),p||i},h=function(e,t,a,n){var i,s,o,r,l,p=\"\",c=\"\";if((i=new sap.m.Label(t)).addStyleClass(\"sapFactsheetUtiLabel\"),n&&(p=\":\"),e.Label)e.Label.String?(i.setText(e.Label.String.trim()+p),i.setTooltip(e.Label.String.trim())):e.Label.Path&&(i.bindProperty(\"text\",e.Label.Path),i.bindProperty(\"tooltip\",e.Label.Path));else if(e.Value){if(e.Value.Path&&a){for(o in s=a[e.Value.Path])if(s.hasOwnProperty(o)&&\"http://www.sap.com/Protocols/SAPData\"===o&&s[o].label){c=s[o].label;break}}else if(e.Value.Apply&&\"odata.concat\"===e.Value.Apply.Name)for(r in e.Value.Apply.Parameters)if(e.Value.Apply.Parameters.hasOwnProperty(r)&&\"Path\"===(l=e.Value.Apply.Parameters[r]).Type){for(o in s=a[l.Value])if(s.hasOwnProperty(o)&&\"http://www.sap.com/Protocols/SAPData\"===o&&s[o].label){c=s[o].label;break}break}i.setText(c+p),i.setTooltip(c)}return i},I=function(e,t,a){var n,i,s,o,r,l,p,c,u,g,h,f,y,T={},b=[],S=[],v=[];if(y=function(e,t,a){var n,i={};return(n=N.propertyAnnotations[e])&&n[t]&&n[t][a]&&(n[t][a].Path?(i.Type=\"Path\",i.Value=n[t][a].Path):(i.Type=\"String\",i.Value=n[t][a].String)),i},!e)return!1;if(e.Apply){if(\"odata.concat\"===e.Apply.Name)if(a&&N.propertyAnnotations&&N.propertyAnnotations[a]){for(i=e.Apply.Parameters,s=0;s<i.length;s+=1)b.push(i[s]),\"Path\"===i[s].Type&&(n=y(a,i[s].Value,\"Org.OData.Measures.V1.ISOCurrency\"),$.isEmptyObject(n)||(b.push({Type:\"String\",Value:\" \"}),b.push({Type:n.Type,Value:n.Value})),n=y(a,i[s].Value,\"Org.OData.Measures.V1.Unit\"),$.isEmptyObject(n)||(b.push({Type:\"String\",Value:\" \"}),b.push({Type:n.Type,Value:n.Value})));T.BindingInfo=d(b)}else T.BindingInfo=d(e.Apply.Parameters)}else if(e.Path)if(\"@\"===e.Path.charAt(0))if(o=N[a][e.Path.slice(1,e.Path.indexOf(\"/\"))].UrlRef,r=e.Path.slice(e.Path.indexOf(\"/\")+1),o&&o.Apply){switch(l=o.Apply.Parameters,o.Apply.Name){case\"odata.concat\":(S=l).push({Type:\"String\",Value:\"/\"+r});break;case\"odata.fillUriTemplate\":for(c in p=l[0].Value.split(\"{\"))if(p.hasOwnProperty(c))if(p[c].indexOf(\"}\")<0)S.push({Type:\"String\",Value:p[c]});else{for(u=p[c].split(\"}\"),s=1;s<l.length;s+=1)l[s].Name===u[0]&&((g=l[s].Value).Path?S.push({Type:\"Path\",Value:g.Path}):g.Apply&&g.Apply.Name&&\"odata.uriencode\"===g.Apply.Name.toLowerCase()&&(h=g.Apply.Parameters[0],S.push({Type:h.Type,Value:encodeURIComponent(h.Value)}),S.push({Type:\"String\",Value:\"{\"+encodeURIComponent(h.Value)+\"}\"})));S.push({Type:\"String\",Value:u[1]})}S.push({Type:\"String\",Value:\"/\"+r}),T.fnChange=k}T.BindingInfo=d(S,m)}else o&&o.Path?(S.push({Type:\"Path\",Value:o.Path},{Type:\"String\",Value:\"/\"+r}),T.BindingInfo=d(S,m)):o&&o.String&&(T.String=m(o.String+\"/\"+r));else switch(T.BindingInfo={},t){case\"Edm.DateTimeOffset\":case\"Edm.DateTime\":T.BindingInfo={path:e.Path,type:new sap.ui.model.type.DateTime({UTC:!0})};break;case\"Edm.Time\":T.BindingInfo={path:e.Path+\"/ms\",type:new sap.ui.model.type.Time({source:{pattern:\"timestamp\"},UTC:!0})};break;case\"Edm.Date\":T.BindingInfo={path:e.Path,type:new sap.ui.model.type.Date({UTC:!0})};break;case\"Edm.Decimal\":case\"Edm.Double\":case\"Edm.Single\":case\"Edm.Int16\":case\"Edm.Int32\":case\"Edm.Int64\":\"Edm.Decimal\"===t||\"Edm.Double\"===t||\"Edm.Single\"===t?f=new sap.ui.model.type.Float:\"Edm.Int16\"!==t&&\"Edm.Int32\"!==t&&\"Edm.Int64\"!==t||(f=new sap.ui.model.type.Integer),N.propertyAnnotations?(v.push({Type:\"Path\",Value:e.Path,EdmType:t},{Type:\"String\",Value:\" \"}),n=y(a,e.Path,\"Org.OData.Measures.V1.ISOCurrency\"),$.isEmptyObject(n)||v.push({Type:n.Type,Value:n.Value}),n=y(a,e.Path,\"Org.OData.Measures.V1.Unit\"),$.isEmptyObject(n)||v.push({Type:n.Type,Value:n.Value}),T.BindingInfo=d(v)):T.BindingInfo={path:e.Path,type:f};break;default:T.BindingInfo={path:e.Path}}else e.String&&(T.String=e.String);return T},T=function(e){var t,a,n,i,s,o,r,l=[],p={};if(e&&e.Apply)switch(t=e.Apply.Parameters,e.Apply.Name){case\"odata.fillUriTemplate\":for(t[0].Value=t[0].Value.trim(),a=t[0].Value.split(\"{\"),n=0;n<a.length;n+=1)if(a[n].indexOf(\"}\")<0)l.push({Value:a[n],Type:\"String\"});else{for(i=a[n].split(\"}\"),(p={}).Value=i[0],p.Type=\"Path\",n=1;n<t.length;n+=1)if(t[n].Name===p.Value){(s=t[n].Value).Path?p.Value=s.Path:s.Apply&&s.Apply.Name&&\"odata.uriencode\"===s.Apply.Name.toLowerCase()&&(p.Value=s.Apply.Parameters[0].Value);break}l.push(p),l.push({Value:i[1],Type:\"String\"})}(o=sap.ushell.Container.getService(\"NavTargetResolution\").getCurrentResolution())&&o.url&&(r=jQuery.sap.getUriParameters(o.url).get(\"sap-system\"))&&l.push({Type:\"String\",Value:\"&sap-system=\"+r})}return d(l)},b=function(e){var t=sap.ui.core.TextAlign.Begin;return\"Edm.Decimal\"!==e.EdmType&&\"Edm.Double\"!==e.EdmType&&\"Edm.Single\"!==e.EdmType&&\"Edm.Int16\"!==e.EdmType&&\"Edm.Int32\"!==e.EdmType&&\"Edm.Int64\"!==e.EdmType||(t=sap.ui.core.TextAlign.End),t},C=function(e,t,a,n,i,s){var o,l,p,c,u,d,m,f=0,y=0,T=0,b=0;for(i||(i=e.getServiceMetadata()),a||(a=[]),o=r(t,i),m=new sap.ui.layout.form.SimpleForm({labelMinWidth:150,maxContainerCols:2}),l=N.propertyExtensions?N.propertyExtensions[o]:[],n&&n.High&&(y=n.High),n&&n.Medium&&(T=n.Medium),n&&n.Low&&(b=n.Low),c=0;c<a.length;c+=1){if(p=U(a[c]),n&&\"High\"===p){if(!y)continue;y-=1}else if(n&&\"Medium\"===p){if(!T)continue;T-=1}else if(n&&\"Low\"===p){if(!b)continue;b-=1}if(n&&n.Total&&f>=n.Total)break;f+=1,u=(new sap.ui.core.Control).setModel(e),(d=h(a[c],{textAlign:sap.ui.core.TextAlign.End},l,!1)).addStyleClass(\"sapFactsheetUtiFormPadding\"),(u=g(a[c],o,i,s)).addStyleClass(\"sapFactsheetUtiFormPadding\"),u.setTextAlign&&u.setTextAlign(sap.ui.core.TextAlign.Begin),m.addContent(d),m.addContent(u)}return m.addStyleClass(\"sapFactsheetUtiFormLayout\"),m},w=function(e,t,a,n,i){var s,o,l,u,d,m,g,h,f,y,T,b,v,P,I,E=\"\",O=[];switch(s=e.getServiceMetadata(),a.RecordType){case\"com.sap.vocabularies.UI.v1.ReferenceFacet\":switch(o=new sap.suite.ui.commons.UnifiedThingGroup,a.Label&&a.Label.String&&o.setTitle(a.Label.String),u=(l=a.Target.AnnotationPath).substring(l.lastIndexOf(\"@\")+1),(l=l.substring(0,l.lastIndexOf(\"@\")-1))&&(E=c(t,l,s)),(d=u.split(\"#\"))[0]){case\"com.sap.vocabularies.UI.v1.LineItem\":case\"com.sap.vocabularies.UI.v1.Chart\":case\"com.sap.vocabularies.UI.v1.Badge\":case\"com.sap.vocabularies.UI.v1.Identification\":l?(m=p(t,l,s),v=r(m,s)):v=r(t,s),\"com.sap.vocabularies.UI.v1.Chart\"===d[0]&&(u=\"com.sap.vocabularies.UI.v1.LineItem\"),P=N[v][u],N.propertyExtensions&&(I=N.propertyExtensions[v]),\"*\"===E&&\"com.sap.vocabularies.UI.v1.Identification\"!==d[0]&&(g=x(e,P,v,s,n+\"/\"+l,a,I,i),o.setContent(g)),\"com.sap.vocabularies.UI.v1.Identification\"===d[0]&&(h=N[v][\"com.sap.vocabularies.UI.v1.Identification\"],f=new sap.ui.layout.VerticalLayout({width:\"100%\"}).setModel(e),l?(f.addContent(C(e,m,h,null,null,i)).addStyleClass(\"sapFactsheetUtiPanel\"),f.bindElement(n+\"/\"+l)):f.addContent(C(e,t,h,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\")),o.setContent(f));break;case\"com.sap.vocabularies.UI.v1.StatusInfo\":l?(m=p(t,l,s),y=N[r(m,s)][\"com.sap.vocabularies.UI.v1.StatusInfo\"],o.setContent(C(e,m,y,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\").bindElement(n+\"/\"+l))):(y=N[r(t,s)][\"com.sap.vocabularies.UI.v1.StatusInfo\"],o.setContent(C(e,t,y,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\")));break;case\"com.sap.vocabularies.UI.v1.FieldGroup\":(T=N[r(t,s)][u])&&(o.getTitle()&&\"\"!==o.getTitle()||T.Label&&(T.Label.String?o.setTitle(T.Label.String):T.Label.Path&&o.bindProperty(\"title\",T.Label.Path)),l?(m=p(t,l,s),o.setContent(C(e,m,T.Data,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\").bindElement(n+\"/\"+l))):o.setContent(C(e,t,T.Data,null,null,i).addStyleClass(\"sapFactsheetUtiPanel\")))}return o;case\"com.sap.vocabularies.UI.v1.ReferenceURLFacet\":return(o=new sap.ui.ux3.ThingGroup({title:a.Label.String})).setContent(S(a)),o;case\"com.sap.vocabularies.UI.v1.CollectionFacet\":for(b=0;b<a.Facets.length;b+=1)O.push(w(e,t,a.Facets[b],n,i));return O}},S=function(e){var t,a;switch(e.UrlContentType.String){case\"image/png\":case\"image/jpeg\":case\"image/gif\":return t=new sap.m.Image({width:\"100%\"}),e.Url.String&&t.setSrc(e.Url.String),t;default:return a=new sap.ui.core.HTML,e.Url.String?a.setContent(\"<iframe src = '\"+e.Url.String+\"' width='100%' height='250px' frameborder='0'></iframe>\"):e.Url.Path&&a.bindProperty(\"content\",{path:e.Url.Path,formatter:function(t){return\"<iframe src = '\"+e.Url.Path+\"' width='100%' height='250px' frameborder='0'></iframe>\"}}),a}},x=function(a,n,i,s,o,r,l,p){var c,u,d,m,f,y,T,S,v,P,I,C,w,x,E,O,F,A,L,D,M,B,_,k,R,j,Q,G=[],z=[],W=[],$=[],J=[],K=[],q=!1;for(R=sap.ui.getCore().getLibraryResourceBundle(\"sap.suite.ui.commons\"),s||(s=a.getServiceMetadata()),c=N.propertyExtensions?N.propertyExtensions[i]:[],u=6,jQuery.device.is.tablet&&jQuery.device.is.landscape?u=5:jQuery.device.is.tablet&&jQuery.device.is.portrait?u=4:jQuery.device.is.phone&&jQuery.device.is.landscape?u=3:jQuery.device.is.phone&&jQuery.device.is.portrait&&(u=2),d=0,m=0,y=0;y<n.length;y+=1)\"High\"===(f=U(n[y]))&&(d+=1);for(u>d?m=u-d:u<d&&(d=u),z.push(new sap.m.Column({visible:!1})),G.push((new sap.m.Text).bindText(\"__metadata/uri\")),y=0;y<n.length;y+=1){if(Q=\"\",P=new sap.ui.core.Control,f=U(n[y]),P=g(n[y],i,s,p),S=h(n[y],null,c),n[y].Value.Path)F=n[y].Value.Path,l&&l[F]&&l[F][\"http://www.sap.com/Protocols/SAPData\"]&&l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable?(S.data(\"IsSortable\",l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable),\"true\"===l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable&&(q=!0)):(S.data(\"IsSortable\",\"true\"),q=!0),l&&l[F]&&l[F][\"http://www.sap.com/Protocols/SAPData\"]&&l[F][\"http://www.sap.com/Protocols/SAPData\"].filterable?(S.data(\"IsFilterable\",l[F][\"http://www.sap.com/Protocols/SAPData\"].filterable),\"true\"===l[F][\"http://www.sap.com/Protocols/SAPData\"].filterable&&(q=!0)):(S.data(\"IsFilterable\",\"true\"),q=!0);else{for(j=!0,T=0;T<n[y].Value.Apply.Parameters.length;T+=1)if(\"Path\"===n[y].Value.Apply.Parameters[T].Type){if(l[F=n[y].Value.Apply.Parameters[T].Value]&&l[F][\"http://www.sap.com/Protocols/SAPData\"]&&l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable&&\"false\"===l[F][\"http://www.sap.com/Protocols/SAPData\"].sortable){j=!1,Q=\"\";break}Q&&(Q+=\";\"),Q+=F}F=Q,!1===j?S.data(\"IsSortable\",\"false\"):(S.data(\"IsSortable\",\"true\"),q=!0),S.data(\"IsFilterable\",\"false\")}n[y].EdmType&&S.data(\"EdmType\",n[y].EdmType),S.data(\"ColumnName\",F),W.push(S),$.push(P),\"High\"===f?d>0?(v=!0,d-=1):v=!1:\"Medium\"===f&&m>0?(v=!0,m-=1):v=!1,z.push(new sap.m.Column({header:S,hAlign:b(n[y]),visible:v})),G.push(P)}for(I=new sap.m.ColumnListItem({type:sap.m.ListType.Navigation,unread:!1,cells:G}),r&&(C=r.Label.String),I.attachPress({aColumns:n,aLabels:W,aControls:$,sTitle:C},function(a,i){var s,o,r,l,c,u,d;for(s=a.getSource().getCells()[0].getText().substr(a.getSource().getCells()[0].getText().lastIndexOf(\"/\")),(o=new sap.m.Table({backgroundDesign:sap.m.BackgroundDesign.Transparent,showSeparators:sap.m.ListSeparators.None,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.End}),new sap.m.Column]})).addStyleClass(\"sapFactsheetUtiPanel\"),o.addStyleClass(\"sapFactsheetUtiTilePadding\"),o.addStyleClass(\"sapFactsheetUtiTableNoTopBorder\"),o.bindElement(s),l=0;l<n.length;l+=1)(r=W[l].clone()).setText(r.getText()+\":\"),d=$[l].clone(),r.setLabelFor(d),o.addItem(new sap.m.ColumnListItem({cells:[r,d]}));c=new sap.suite.ui.commons.UnifiedThingGroup({content:o,title:C,description:V()}),u=new sap.m.Page({title:e.getTitle(),showNavButton:!0,content:[c]}),e.navigateToPage(u,!0),e.attachAfterNavigate(o,function(e){var a;e.getParameters().getParameters().toId.indexOf(\"__page\")>=0&&((a=o.getItems()).length>0&&H.indexOf(p)>=0&&(H[H.indexOf(p)].bLoaded=!0,H[H.indexOf(p)].bProcessed=!1,H[H.indexOf(p)].bIsTable=!0,H[H.indexOf(p)].oTableItems=a,t(H.indexOf(p))))})}),(w=new sap.m.Table({growing:!0,columns:z})).setModel(a),w.bindItems({path:o,template:I}),L=new sap.m.VBox({items:[new sap.m.Input({placeholder:R.getText(\"USHELL_FACTSHEET_ENTER_YOUR_FILTER\"),change:function(e){var t,a,n,i;for(t=e.getSource().getParent().getParent().getId(),a=sap.ui.getCore().byId(t.substr(0,t.indexOf(\"-\"))).getFilterItems(),i=0;i<a.length;i+=1)if(a[i]instanceof sap.m.ViewSettingsCustomItem&&a[i].getKey()===this.oParent.data(\"ColumnName\")){n=a[i];break}n&&(void 0===e.getParameter(\"newValue\")||\"\"===e.getParameter(\"newValue\")?(n.setSelected(!1),n.setFilterCount(0)):(n.setSelected(!0),n.setFilterCount(1)))}}).addStyleClass(\"sapFactsheetUtiFilterInput\")]}),D=new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:!0,items:[new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_GREATER_THEN\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_EQUALS\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_LESS_THEN\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.LT)]}),new sap.m.Input({placeholder:R.getText(\"USHELL_FACTSHEET_ENTER_YOUR_FILTER\"),change:function(e){var t,a,n,i;for(t=e.getSource().getParent().getParent().getId(),a=sap.ui.getCore().byId(t.substr(0,t.indexOf(\"-\"))).getFilterItems(),i=0;i<a.length;i+=1)if(a[i]instanceof sap.m.ViewSettingsCustomItem&&a[i].getKey()===this.oParent.data(\"ColumnName\")){n=a[i];break}n&&(void 0===e.getParameter(\"newValue\")||\"\"===e.getParameter(\"newValue\")?(n.setSelected(!1),n.setFilterCount(0)):(n.setSelected(!0),n.setFilterCount(1)))}}).addStyleClass(\"sapFactsheetUtiFilterInput\")]}),new sap.m.VBox({items:[new sap.m.List({mode:sap.m.ListMode.SingleSelectLeft,includeItemInSelection:!0,items:[new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_AFTER\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.GT),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_AT\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.EQ),new sap.m.StandardListItem({title:R.getText(\"USHELL_FACTSHEET_BEFORE\")}).data(\"FilterOperator\",sap.ui.model.FilterOperator.LT)]}),new sap.m.DateTimeInput({type:sap.m.DateTimeInputType.Date,valueFormat:new sap.ui.model.type.DateTime({pattern:\"yyyy/MM/dd HH:mm:ss UTC+00:00\"}).getOutputPattern(),placeholder:R.getText(\"USHELL_FACTSHEET_ENTER_YOUR_FILTER\"),change:function(e){var t,a,n,i;for(t=e.getSource().getParent().getParent().getId(),a=sap.ui.getCore().byId(t.substr(0,t.indexOf(\"-\"))).getFilterItems(),i=0;i<a.length;i+=1)if(a[i]instanceof sap.m.ViewSettingsCustomItem&&a[i].getKey()===this.oParent.data(\"ColumnName\")){n=a[i];break}void 0===e.getParameter(\"newValue\")||\"\"===e.getParameter(\"newValue\")?(n.setSelected(!1),n.setFilterCount(0)):(n.setSelected(!0),n.setFilterCount(1))}}).addStyleClass(\"sapFactsheetUtiFilterInput\")]}),M=function(e){var t,a,n,i=[],s=e.getItems();if(\"Edm.String\"===s[0].getParent().data(\"EdmType\")&&s[0].getValue())i.push(new sap.ui.model.Filter(s[0].getParent().data(\"ColumnName\"),sap.ui.model.FilterOperator.Contains,s[0].getValue()));else if(\"Edm.Decimal\"===s[0].getParent().data(\"EdmType\")&&s[1].getValue()){for(t=0;t<s[0].getItems().length;t+=1)if(!0===s[0].getItems()[t].getSelected()){a=s[0].getItems()[t].data(\"FilterOperator\");break}for(t=(n=s[1].getValue()).length-1;t>0;t-=1)if(\",\"===n[t]){n=n.replace(n[t],\".\");break}i.push(new sap.ui.model.Filter(s[1].getParent().data(\"ColumnName\"),a,n))}else if(\"Edm.Date\"===s[0].getParent().data(\"EdmType\")&&s[1].getValue()){for(t=0;t<s[0].getItems().length;t+=1)if(!0===s[0].getItems()[t].getSelected()){a=s[0].getItems()[t].data(\"FilterOperator\");break}i.push(new sap.ui.model.Filter(s[1].getParent().data(\"ColumnName\"),a,s[1].getValue()))}else i.push(new sap.ui.model.Filter(s[0].getParent().data(\"ColumnName\"),sap.ui.model.FilterOperator.EQ,s[0].getValue()));return i},_=B=function(e){var t,a,n,i=e.getSource().getFilterItems();for(a=0;a<i.length;a+=1)if(i[a]&&i[a]instanceof sap.m.ViewSettingsCustomItem)for(i[a].setSelected(!1),i[a].setFilterCount(0),t=i[a].getCustomControl().getItems(),n=0;n<t.length;n+=1)(t[n]instanceof sap.m.Input||t[n]instanceof sap.m.DateTimeInput)&&t[n].setValue(\"\"),t[n]instanceof sap.m.List&&null!==t[n].getSelectedItem()&&t[n].removeSelections()},y=0;y<z.length;y+=1)z[y+1]&&((S=W[y].clone()).getText()&&\"true\"===S.data(\"IsSortable\")&&z[y+1].getVisible()&&(E=new sap.m.ViewSettingsItem({text:S.getText(),key:S.data(\"ColumnName\")}),0===y&&E.setSelected(!0),E.Sort=S.Sort,J.push(E)),S.getText()&&\"true\"===S.data(\"IsFilterable\")&&(\"Edm.String\"===S.data(\"EdmType\")?k=L.clone().data(\"ColumnName\",S.data(\"ColumnName\")).data(\"EdmType\",S.data(\"EdmType\")):\"Edm.Decimal\"===S.data(\"EdmType\")&&(k=D.clone().data(\"ColumnName\",S.data(\"ColumnName\")).data(\"EdmType\",S.data(\"EdmType\"))),\"Edm.String\"!==S.data(\"EdmType\")&&\"Edm.Decimal\"!==S.data(\"EdmType\")||(A=new sap.m.ViewSettingsCustomItem({key:S.data(\"ColumnName\"),text:S.getText(),customControl:k,customData:new sap.ui.core.CustomData({key:\"callback\",value:M})}),K.push(A))));return O=new sap.m.ViewSettingsDialog({sortItems:J,filterItems:K,cancel:_,resetFilters:B,confirm:function(e){var t,a,n,i,s,o,r=[],l=[],p=[],c=[];if(t=e.getParameters(),a=w.getBinding(\"items\"),t.sortItem){if(n=t.sortItem.getKey(),i=t.sortDescending,n.indexOf(\";\")>0)for(l=n.split(\";\"),o=0;o<l.length;o+=1)r.push(new sap.ui.model.Sorter(l[o],i));else n&&r.push(new sap.ui.model.Sorter(n,i));a.sort(r)}for(s=t,o=0;o<s.filterItems.length;o+=1)s.filterItems[o]instanceof sap.m.ViewSettingsCustomItem?(p=s.filterItems[o].getCustomData()[0].getValue().apply(this,[s.filterItems[o].getCustomControl()]))&&(Array.isArray(p)||(p=[p]),c=c.concat(p)):s.filterItems[o]instanceof sap.m.ViewSettingsItem&&(p=s.filterItems[o].getCustomData()[0].getValue())&&(Array.isArray(p)||(p=[p]),c=c.concat(p));a.filter(c)}}),!0===q&&(J.length>0||K.length>0)&&w.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label,new sap.m.ToolbarSpacer,new sap.m.Button({icon:\"sap-icon://drop-down-list\",press:function(e){O.open()},tooltip:sap.ui.getCore().getLibraryResourceBundle(\"sap.m\").getText(\"P13NDIALOG_VIEW_SETTINGS\")})]})),w.setNoDataText(sap.ui.getCore().getLibraryResourceBundle(\"sap.m\").getText(\"PULL2REFRESH_LOADING_LONG\")),x=function(e){return function(a){var n=this.getItems();0===n.length?this.setNoDataText(R.getText(\"FACETOVERVIEW_NO_CONTENT_TEXT\")):this.setNoDataText(sap.ui.getCore().getLibraryResourceBundle(\"sap.m\").getText(\"PULL2REFRESH_LOADING_LONG\")),n.length>0&&H.indexOf(e)>=0&&(H[H.indexOf(e)].bLoaded=!0,H[H.indexOf(e)].bProcessed=!1,H[H.indexOf(e)].bIsTable=!0,H[H.indexOf(e)].oTableItems=n),t(H.indexOf(e))}}(p),w.attachUpdateFinished(x),w},O=function(e,t,a,n){var i;switch(e){case\"com.sap.vocabularies.UI.v1.ChartType/Area\":i=new sap.viz.ui5.Area({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Bar\":i=new sap.viz.ui5.Bar({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Bubble\":i=new sap.viz.ui5.Bubble({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Column\":i=new sap.viz.ui5.Column({});break;case\"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked\":i=new sap.viz.ui5.StackedColumn({});break;case\"com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100\":i=new sap.viz.ui5.StackedColumn100({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Donut\":i=new sap.viz.ui5.Donut({});break;case\"com.sap.vocabularies.UI.v1.ChartType/HeatMap\":i=new sap.viz.ui5.Heatmap({});break;case\"com.sap.vocabularies.UI.v1.ChartType/HorizontalArea\":i=new sap.viz.ui5.HorizontalArea({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Line\":i=new sap.viz.ui5.Line({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Pie\":i=new sap.viz.ui5.Pie({});break;case\"com.sap.vocabularies.UI.v1.ChartType/Scatter\":i=new sap.viz.ui5.Scatter({});break;case\"com.sap.vocabularies.UI.v1.ChartType/TreeMap\":i=new sap.viz.ui5.Treemap({})}return i?(t&&t.String&&i.setTitle(new sap.viz.ui5.types.Title({visible:!0,text:t.String})),a&&a.String&&i.setTooltip(a.String),i.setWidth(\"100%\"),i.setHeight(\"17rem\"),i.setDataset(n)):i=new sap.m.Text({}),i},F=function(e){return e=e||1,jQuery.device.is.phone?7*e+\"rem\":11*e-1+\"rem\"},A=function(e){var t,a,n=0,i=0,s=0;for(t=0;t<e.length;t+=1)if(a=U(e[t]))switch(a){case\"High\":n+=1;break;case\"Medium\":i+=1;break;case\"Low\":s+=1}return{High:n,Medium:i,Low:s}},U=function(e){var t=\"\";return e.Importance?t=e.Importance.EnumMember:e[\"com.sap.vocabularies.UI.v1.Importance\"]&&(t=e[\"com.sap.vocabularies.UI.v1.Importance\"].EnumMember),t.substr(t.indexOf(\"/\")+1)},L=function(e,t,a,n){var i,s,o,r,l=!1;return i=new sap.suite.ui.commons.KpiTile({doubleFontSize:!1}),t.ValueFormat&&(s=t.ValueFormat.NumberOfFractionalDigits.Int),t.Title&&t.Title.String?i.setDescription(t.Title.String):t.Title&&t.Title.Path&&i.bindProperty(\"description\",{path:t.Title.Path}),t.Value&&t.Value.String?i.setValue(t.Value.String):t.Value&&t.Value.Path&&((o=I(t.Value,t.Value.EdmType,a)).fnChange&&(i.setModel(e),i.bindElement(n),i.getElementBinding().attachChange(o.fnChange,i)),o.String?$.isNumeric(o.String)?(l=!0,i.setValue(_(o.String,s))):i.setValue(o.String):o.BindingInfo&&((r=o.BindingInfo).parts&&2===r.parts.length?(i.bindProperty(\"valueUnit\",r.parts[0]),r.parts[1].type=void 0,r.parts[1].formatter=function(e){return _(e,s)},i.bindProperty(\"value\",r.parts[1])):r.parts&&1===r.parts.length?(r.parts[0].type=void 0,r.parts[0].formatter=function(e){return _(e,s)},i.bindProperty(\"value\",r)):i.bindProperty(\"value\",r))),\"Edm.Decimal\"!==t.Value.EdmType&&\"Edm.Double\"!==t.Value.EdmType&&\"Edm.Single\"!==t.Value.EdmType&&\"Edm.Int16\"!==t.Value.EdmType&&\"Edm.Int32\"!==t.Value.EdmType&&\"Edm.Int64\"!==t.Value.EdmType&&!0!==l||i.setDoubleFontSize(!0),i},n=function(e){var t,a,n,i,s,o=[],r=[];for(s in a=function(e){if(!1===n(e)){if(e.constructor===Array)for(i=0;i<e.length;i+=1)n(e[i]);if(e.constructor===Object)for(s in e)e.hasOwnProperty(s)&&e[s].constructor!==String&&a(e[s])}},n=function(e){return!(!e.RecordType||\"com.sap.vocabularies.UI.v1.DataFieldWithUrl\"!==e.RecordType)&&(e.Url&&e.Url.Apply?(t=e.Url.Apply.Parameters[0].Value.slice(e.Url.Apply.Parameters[0].Value.indexOf(\"#\")+1,e.Url.Apply.Parameters[0].Value.indexOf(\"-\")),o.indexOf(t)<0&&o.push(t),!0):void 0)},N)N.hasOwnProperty(s)&&s.indexOf(e.dataServices.schema[0].namespace)>=0&&a(N[s]);for(i=0;i<o.length;i+=1)M.hasOwnProperty(o[i])||r.push(o[i]);return r},a=function(e){var a,n,i,s;if(e.length>0){for(n=new sap.ui.model.json.JSONModel,i=\"/sap/opu/odata/UI2/INTEROP/SemanticObjects?$expand=Links&$format=json\",s=\"&$filter=id%20eq%20%27\",a=0;a<e.length;a+=1)s.length>22?s+=\"%20or%20id%20eq%20%27\"+e[a]+\"%27\":s+=e[a]+\"%27\";i+=i+s,n.loadData(i),n.attachRequestCompleted(function(){var e,a,n,i=[];if(this.getData().d&&this.getData().d.results)for(n=this.getData().d.results,e=0;e<n.length;e+=1)for(M[n[e].id]=\"\",i=n[e].Links.results,a=0;a<i.length;a+=1)M[i[a].id.slice(0,i[a].id.indexOf(\"~\"))]=\"\";M.InteropCompleted=!0,t()})}else M.InteropCompleted=!0},t=function(e){var t,a,n,i,s,o,r;if(!0===M.InteropCompleted)for(t=0;t<H.length;t+=1)if(H[t].bLoaded&&!H[t].bProcessed&&H[t].Links)for(r=H[t].Links,a=0;a<r.length;a+=1){if(!0===M.hasOwnProperty(r[a].sIntend))if(!0===H[t].bIsTable){if(H[t].oTableItems)for(s=H[t].oTableItems,n=0;n<s.length;n+=1)for(o=s[n].getCells(),i=0;i<o.length;i+=1)o[i]instanceof sap.ui.layout.VerticalLayout&&o[i].getContent()[0].getBindingInfo(\"href\").parts===r[a].oVL.getContent()[0].getBindingInfo(\"href\").parts&&o[i].getContent()[1].getBindingInfo(\"text\").parts===r[a].oVL.getContent()[1].getBindingInfo(\"text\").parts&&(o[i].getContent()[0].setVisible(!0),o[i].getContent()[1].setVisible(!1))}else r[a].oVL.getContent()[0].setVisible(!0),r[a].oVL.getContent()[1].setVisible(!1);else!1===H[t].bIsTable&&r[a].oVL.getContent()[1].setText(r[a].oVL.getContent()[0].getText());H[t].bProcessed=!0}if(e>=0&&H[e].bLoaded&&!H[e].bProcessed&&H[e].Links)for(r=H[e].Links,a=0;a<r.length;a+=1)!1===H[e].bIsTable&&r[a].oVL.getContent()[1].setText(r[a].oVL.getContent()[0].getText())},v=function(e,o,l){var d,m,y,T,b,S,v,P,x,E,B,_,k,R,j,Q,G,z,W,J,K,q,X,Y,Z,ee,te,ae,ne,ie,se,oe,re,le,pe,ce,ue,de,me,ge,he,fe,ye,Te,be,Se,ve,Pe,Ie,Ce,we,xe,Ee={},Oe=0,Fe=0,Ae=[],Le=0;for(be in d=i(e),z=o.substring(0,o.substring(0,o.lastIndexOf(\"/\")).lastIndexOf(\"/\")),W=o.substring(o.substring(0,o.lastIndexOf(\"/\")).lastIndexOf(\"/\")),-1===window.location.search.indexOf(\"cbn_keep_anno_case%3Dtrue\")&&(W=W.toLowerCase()),(m=new sap.ui.model.odata.ODataModel(d,{annotationURI:z+W,loadAnnotationsJoined:!0,loadMetadataAsync:!1,json:!0})).setCountSupported(!1),l.setModel(m),y=s(e,m),T=\"/\"+e.slice(d.length),b=m.getServiceMetadata(),N=m.getServiceAnnotations(),S=r(y,b),v=N[S][\"com.sap.vocabularies.UI.v1.HeaderInfo\"],P=N[S][\"com.sap.vocabularies.UI.v1.Facets\"],l.bindElement(T,u(y,b)),J=sap.ui.getCore().getLibraryResourceBundle(\"sap.suite.ui.commons\"),M.InteropCompleted=!1,a(n(b)),l.addStyleClass(\"sapFactsheetUtiThingType\"+y.replace(/\\s/g,\"\")),v.TypeName.String?l.setTitle(v.TypeName.String):v.TypeName.Path&&l.bindProperty(\"title\",{path:v.TypeName.Path}),v.ImageUrl&&v.ImageUrl.String?l.setIcon(v.ImageUrl.String):v.ImageUrl&&v.ImageUrl.Path?l.bindProperty(\"icon\",{path:v.ImageUrl.Path}):v.TypeImageUrl&&v.TypeImageUrl.String?l.setIcon(v.TypeImageUrl.String):v.TypeImageUrl&&v.TypeImageUrl.Path&&l.bindProperty(\"icon\",{path:v.TypeImageUrl.Path}),v.Title.Value.String?l.setName(v.Title.Value.String):l.bindProperty(\"name\",I(v.Title.Value,v.Title.EdmType,S).BindingInfo),v.Description&&v.Description.Value&&(v.Description.Value.String?l.setDescription(v.Description.Value.String):l.bindProperty(\"description\",I(v.Description.Value,v.Description.EdmType,S).BindingInfo)),N[S])if(N[S].hasOwnProperty(be)&&(-1!==be.search(\"com.sap.vocabularies.UI.v1.DataPoint\")&&(Se=N[S][be])&&(l.addKpi(L(m,Se,S,T)),Le+=1),Le>=3))break;for(x=0;x<P.length;x+=1)if(P[x][\"com.sap.vocabularies.UI.v1.IsSummary\"]){j=P[x];break}if(j){for(K=15,R=0;R<j.Facets.length;R+=1)for(q=j.Facets[R].Target.AnnotationPath.substring(j.Facets[R].Target.AnnotationPath.lastIndexOf(\"@\")+1),E=(E=j.Facets[R].Target.AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1),j.Facets[R].NavPath=E,X=p(y,E,b),j.Facets[R].NavEntitySet=X,Y=X||y,j.Facets[R].EntitySet=Y,Z=r(X,b)||S,j.Facets[R].EntityType=Z,ee=[],N[Z][q].length?ee=N[Z][q]:N[Z][q].Data.length&&(ee=N[Z][q].Data),j.Facets[R].Content=ee,x=0;x<ee.length;x+=1)\"High\"===(te=U(ee[x]))?Oe+=1:\"Medium\"===te&&(Fe+=1);for(Oe>=K?(Oe=K,Fe=0):Oe+Fe>K&&(Fe=K-Oe)<0&&(Fe=0),jQuery.device.is.phone&&(Fe=0),ie=K-Oe-Fe,de=new sap.suite.ui.commons.FacetOverview({title:J.getText(\"UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT\")}),(H=[]).push(de),H[0].bLoaded=!1,H[0].bProcessed=!1,H[0].bIsTable=!1,se=[],re=Fe+Oe,R=0;R<j.Facets.length&&(le=C(m,j.Facets[R].EntitySet,j.Facets[R].Content,{High:Oe,Medium:Fe,Low:0},null,de).addStyleClass(\"sapFactsheetUtiTilePadding\"),R>0&&le.addStyleClass(\"sapFactsheetUtiPaddingTop\"),j.Facets[R].NavPath&&le.bindElement(T+\"/\"+j.Facets[R].NavPath),Oe-=(oe=A(j.Facets[R].Content)).High,Fe-=oe.Medium,(oe.High>0&&Oe+oe.High>0||oe.Medium>0&&Fe+oe.Medium>0)&&(se.push(le),R>0&&(ie>0?ie-=1:Fe>0?Fe-=1:Oe>0&&(Oe-=1))),!(Oe<1&&Fe<1));R+=1);Oe<0&&(Oe=0),Fe<0&&(Fe=0),Ee=new sap.ui.layout.VerticalLayout({content:se,width:\"100%\"}),pe=F(),ue=1,re>3&&re<=9?(pe=F(2),ue=2):re>9&&(pe=F(3),ue=3),de.setContent(Ee),de.setRowSpan(ue),jQuery.device.is.phone?de.setHeightType(sap.suite.ui.commons.FacetOverviewHeight.Auto):de.setHeight(pe),de.addStyleClass(\"sapFactsheetUtiGeneralInformationOverviewFacet\"),de.attachPress({facets:j},function(e,a){var n,i,s,o,r;for(l.removeAllFacetContent(),(s=new sap.suite.ui.commons.UnifiedThingGroup).setDescription(V()),s.setTitle(J.getText(\"UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT\")),s.addStyleClass(\"sapFactsheetUtiGeneralInformationUtg\"),n=a.facets.Facets.length>1?\"L6 M12 S12\":\"L12 M12 S12\",H[0].Links=[],o=new sap.ui.layout.VerticalLayout({width:\"100%\"}),x=0;x<a.facets.Facets.length;x+=1)x%2==0&&(i=new sap.ui.layout.Grid({hSpacing:1,vSpacing:1,defaultSpan:n})),(r=w(m,y,a.facets.Facets[x],T,this)).addStyleClass(\"sapFactsheetUtiGeneralInformationUtgContent\"),0===x&&a.facets.Facets.length>1&&\"\"===r.getTitle().trim()&&r.setTitle(J.getText(\"UNIFIEDTHINGINSPECTOR_GENERAL_INFORMATION_HEADER_TEXT\")),i.addContent(r),x%2!=0&&o.addContent(i);H[0].bLoaded=!0,H[0].bProcessed=!1,H[0].bIsTable=!1,t(0),x%2!=0&&o.addContent(i),s.setContent(o),l.addFacetContent(s),l.navigateToDetail()}),l.addFacet(de)}for(_=function(e){return function(a){var n,i,s,o,r,c,u,d,h,f,y,T,S,v,P,I,w,x,E,O;if(\"*\"===e.cardinality&&a.results&&a.results.length&&0!==a.results.length||\"1\"===e.cardinality&&a){if(f=new sap.ui.model.json.JSONModel,\"*\"===e.cardinality?a.results&&a.results.length&&f.setData(a):(f.setData({result:a}),y=\"/result\"),n=new sap.ui.model.odata.ODataModel(\"/sap/opu/odata/sap/VBI_APPL_DEF_SRV\",!1),i=N[e.navigationType][\"com.sap.vocabularies.UI.v1.GeoLocation\"],S=N[e.navigationType][\"com.sap.vocabularies.UI.v1.HeaderInfo\"],v=N[e.navigationType][\"com.sap.vocabularies.UI.v1.Identification\"],i.Longitude&&i.Latitude)if(o={Data:{Set:{N:[{name:\"Spots\",E:[]}]}}},\"1\"===e.cardinality)i.Longitude.Path&&i.Latitude.Path&&(s=a[i.Longitude.Path]+\";\"+a[i.Latitude.Path]+\";0\"),o.Data.Set.N[0].E.push({A:s,I:\"pin_blue.png\"});else{for(O=0;O<a.results.length;O+=1)i.Longitude.Path&&i.Latitude.Path&&(s=a.results[O][i.Longitude.Path]+\";\"+a.results[O][i.Latitude.Path]+\";0\"),o.Data.Set.N[0].E.push({A:s,I:\"pin_blue.png\"});0!==a.results.length&&(s=a.results[0][i.Longitude.Path]+\";\"+a.results[0][i.Latitude.Path]+\";0\")}E=parseInt(a.__count,10),Number(E)&&e.facet.setQuantity(E),u=function(e){var t,a,n,i;\"DETAIL_REQUEST\"===(t=$.parseJSON(e.getParameters().data)).Action.name&&t.Action.instance&&(a=t.Action.instance,f.oData.results&&(y=\"/results/\"+a.split(\".\")[1]),x=S.TypeName.String.substring(0,17),i=16*parseFloat(F(.7)),n={SAPVB:{version:\"2.0\",\"xmlns:VB\":\"VB\",Windows:{Remove:{name:\"Detail1\"},Set:{name:\"Detail1\",Window:{id:\"Detail1\",type:\"callout\",refParent:\"Main\",refScene:\"\",offsetX:\"16\",offsetY:\"-27\",modal:\"false\",width:16*parseFloat(F(1.5)),height:i,caption:x,\"pos.bind\":a+\".GeoPosition\"}}},Scenes:{Set:{name:\"Details\",Scene:{id:\"Details\",navControlVisible:\"false\"}}}}},this.load(n))},d=function(a){var n,s,o,r;if(P)P.bindElement(y),I&&I.bindElement(y),T&&T.bindElement(y),w&&w.bindElement(y);else{for(n in(P=g(S.Title,e.navigationType,b,e.facet)).setModel(f),P.bindElement(y),(I=g(S.Description,e.navigationType,b,e.facet)).setModel(f),I.bindElement(y),i.Address)if(\"label\"===n){(T=g({Value:i.Address[n]},e.navigationType,b,e.facet)).setModel(f),T.bindElement(y);break}r=7,jQuery.device.is.tablet&&jQuery.device.is.landscape?r=4:jQuery.device.is.tablet&&jQuery.device.is.portrait?r=5:jQuery.device.is.phone&&jQuery.device.is.landscape?r=2:jQuery.device.is.phone&&jQuery.device.is.portrait&&(r=3),w=new sap.ui.layout.VerticalLayout({width:\"100%\"}).setModel(m),e.navigationPath?(o=p(e.entitySet,e.navigationPath,b),w.addContent(C(m,o,v,{High:r},null,e.facet)),w.setModel(f).bindElement(y)):w.addContent(C(m,e.entitySet,v,{High:r},null,e.facet)).setModel(f).bindElement(y)}s=16*parseFloat(F(1.5))*.95+\"px\",P&&(P.placeAt(a.getParameter(\"contentarea\").id),P.addStyleClass(\"sapFactsheetUtiGeoPopupHead\"),jQuery.device.is.phone&&P.addStyleClass(\"sapFactsheetUtiGeoPopupHeadFontPhone\"),P.setWidth(s)),I&&(I.placeAt(a.getParameter(\"contentarea\").id),I.addStyleClass(\"sapFactsheetUtiGeoPopupDescr\"),jQuery.device.is.phone&&I.addStyleClass(\"sapFactsheetUtiGeoPopupDescrFontPhone\"),I.setWidth(s)),T&&(T.placeAt(a.getParameter(\"contentarea\").id),T.addStyleClass(\"sapFactsheetUtiGeoPopupText\"),T.setWidth(s)),w&&w.getContent()[0]&&w.getContent()[0].getContent&&w.getContent()[0].getContent().length>0&&(w.placeAt(a.getParameter(\"contentarea\").id),w.addStyleClass(\"sapFactsheetUtiGeoPopupText\"),w.setWidth(s)),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet))},h=function(e){P&&(P.destroy(),P=void 0),I&&(I.destroy(),I=void 0),T&&(T.destroy(),T=void 0),w&&(w.destroy(),w=void 0),$(e.getParameter(\"contentarea\").id).empty()},r=function(e){return function(t){var a,n,r,p,c;for(p=(p=t.ProjectJSON).indexOf(\"{\")?p.substr(p.indexOf(\"{\")):p,(a=$.parseJSON(p)).SAPVB.Scenes.Set.SceneGeo.initialStartPosition=s,a.SAPVB.Scenes.Set.SceneGeo.initialZoom=12,a.SAPVB.Actions.Set.Action.push({id:\"200\",name:\"TAP_ON_MAP\",refEvent:\"Click\",refScene:\"MainScene\",refVO:\"Map\"}),o&&(a.SAPVB.Data=o.Data),c=0;c<a.SAPVB.Scenes.Set.SceneGeo.VO.length;c+=1)if(\"Spots\"===a.SAPVB.Scenes.Set.SceneGeo.VO[c].datasource&&a.SAPVB.Scenes.Set.SceneGeo.VO[c].scale&&3!==a.SAPVB.Scenes.Set.SceneGeo.VO[c].scale.split(\";\").length){a.SAPVB.Scenes.Set.SceneGeo.VO[c].scale=\"1.0;1.0;1.0\";break}e.facet.getContent().attachSubmit(function(t){(jQuery.device.is.tablet||jQuery.device.is.phone)&&e.facet.firePress()}),e.facet.getContent().load(a),e.facet.attachPress(\"\",function(t,s){var o,p,c=[],m=[];if(n||(n=new sap.ui.vbm.VBI({width:\"100%\",height:\"100%\",plugin:!1,config:null})).addStyleClass(\"sapFactsheetUtiGeoPopup\"),a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.move=\"false\",a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.zoom=\"false\",a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.pitch=\"false\",a.SAPVB.Scenes.Set.SceneGeo.NavigationDisablement.yaw=\"false\",a.SAPVB.Scenes.Set.SceneGeo.SuppressedNavControlVisibility=\"false\",n.load(a),\"*\"===e.cardinality)for(o=0;o<f.oData.results.length;o+=1)c.push(f.oData.results[o][i.Longitude.Path]),m.push(f.oData.results[o][i.Latitude.Path]);n.attachSubmit(u),n.attachOpenWindow(d),n.attachCloseWindow(h),r=new sap.suite.ui.commons.UnifiedThingGroup({content:n,title:e.facetContent.Label.String,description:V()}),l.removeAllFacetContent(),l.addFacetContent(r),l.navigateToDetail(),l.attachAfterNavigate(c,function(e){-1!==e.getParameters().getParameters().toId.indexOf(\"-detail-page\")&&(p=jQuery.device.is.phone?\"300px\":Math.floor($(\"#\"+e.getParameters().getParameters().toId+\"-cont\").height()-128)+\"px\",n.setHeight(p),c.length>1&&n.zoomToGeoPosition(c,m))})})}},c=function(e){return function(t){l.removeFacet(e)}},n.read(\"VBIApplicationSet('ZFACTSHEETS')\",\"\",\"\",!1,r(e),c(e.facet))}else e.facet.setQuantity(void 0),e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S),e.facet.setContent(void 0),e.facet.setTitle(void 0)}},we=function(e){var t,a;a=t=e.srcControl.getParent().getParent().getDomRef().clientWidth,e.srcControl.getParent().getContent()[0]&&(a-=e.srcControl.getParent().getContent()[0].getDomRef().clientWidth,t<e.srcControl.getParent().getContent()[0].getDomRef().clientWidth)?e.srcControl.getParent().getContent()[0].getDomRef().setAttribute(\"style\",\"width:\"+t+\"px\"):(e.srcControl.getParent().getContent()[1]&&(a-=e.srcControl.getParent().getContent()[1].getDomRef().clientWidth),a<10&&(a=0),e.srcControl.getParent().getContent()[2]&&e.srcControl.getParent().getContent()[2].getDomRef().setAttribute(\"style\",\"width:\"+a+\"px\"))},B=function(e){return function(a){var n,i,s,o,r,p,c,u,d,f,y,T,S,v,P,I,C,x,E,F,A,L,U,D,M,B,_,k,R,j,Q,G=\"\";if(n=new sap.ui.model.json.JSONModel,i=e.facetContent.Target&&e.facetContent.Target.AnnotationPath&&e.facetContent.Target.AnnotationPath.split(\"#\")[1]&&N[e.navigationType][\"com.sap.vocabularies.UI.v1.Badge#\"+e.facetContent.Target.AnnotationPath.split(\"#\")[1]]?N[e.navigationType][\"com.sap.vocabularies.UI.v1.Badge#\"+e.facetContent.Target.AnnotationPath.split(\"#\")[1]]:N[e.navigationType][\"com.sap.vocabularies.UI.v1.Badge\"],\"*\"===e.cardinality){if(a.results&&a.results.length){if(B=e.facetContent.Target.AnnotationPath,\"com.sap.vocabularies.UI.v1.Chart\"===(ve=B.substring(B.lastIndexOf(\"@\")+1))){for(jQuery.sap.require(\"sap.viz.ui5.data.FlattenedDataset\"),_=N[e.navigationType][\"com.sap.vocabularies.UI.v1.Chart\"],k=N.propertyExtensions[e.navigationType],R=[],c=0;c<_.Dimensions.length;c+=1)R.push({axis:1,name:k[_.Dimensions[c].PropertyPath][\"http://www.sap.com/Protocols/SAPData\"].label,value:\"{\"+_.Dimensions[c].PropertyPath+\"}\"});for(j=[],c=0;c<_.Measures.length;c+=1)j.push({name:k[_.Measures[c].PropertyPath][\"http://www.sap.com/Protocols/SAPData\"].label,value:\"{\"+_.Measures[c].PropertyPath+\"}\"});Q=new sap.viz.ui5.data.FlattenedDataset({dimensions:R,measures:j,data:{path:\"/results\"}}),(d=O(_.ChartType.EnumMember,_.Title,_.Description,Q)).setModel(n),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.XL)}else for(d=new sap.ui.layout.VerticalLayout({width:\"100%\"}).addStyleClass(\"sapFactsheetUtiVLayoutPadding\"),c=0;c<a.results.length;c+=1){if(r=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutPadding\"),(s=g(i.Title,e.navigationType,b,e.facet)).setWrapping&&s.setWrapping(!1),s.addDelegate({onAfterRendering:we}),(n=new sap.ui.model.json.JSONModel).setData({result:a.results[c]}),s.setModel(n),s.bindElement(\"/result\"),p=!1,a.results[c][i.Title.Value.Path]&&(p=!0),i.Title.Value.Apply)for(u=0;u<i.Title.Value.Apply.Parameters.length;u+=1)if(\"Path\"===i.Title.Value.Apply.Parameters[u].Type&&a.results[c][i.Title.Value.Apply.Parameters[u].Value]){p=!0;break}if(G=\"\",p){if(r.addContent(s),i.MainInfo&&(i.MainInfo.EdmType&&\"Edm.Decimal\"===i.MainInfo.EdmType||i.MainInfo.Value&&i.MainInfo.Value.Apply&&i.MainInfo.Value.Apply.Parameters[0]&&i.MainInfo.Value.Apply.Parameters[0].EdmType&&\"Edm.Decimal\"===i.MainInfo.Value.Apply.Parameters[0].EdmType))G=\"comma\";else if(i.MainInfo&&i.MainInfo.Value.Path&&a.results[c][i.MainInfo.Value.Path])G=\"dash\";else if(i.MainInfo&&i.MainInfo.Value.Apply)for(u=0;u<i.MainInfo.Value.Apply.Parameters.length;u+=1)if(\"Path\"===i.MainInfo.Value.Apply.Parameters[u].Type&&a.results[c][i.MainInfo.Value.Apply.Parameters[u].Value]){G=\"dash\";break}\"dash\"===G&&r.addContent(new sap.ui.core.HTML({content:'<span class=\"sapFactsheetUtiSeparatorPadding sapMText\"> &ndash; </span>'})),\"comma\"===G&&r.addContent(new sap.m.Text({text:\", \"}).addStyleClass(\"sapFactsheetUtiSeparatorPaddingForDecimal\"))}i.MainInfo&&((o=g(i.MainInfo,e.navigationType,b,e.facet)).setWrapping&&o.setWrapping(!1),o.addDelegate({onAfterRendering:we}),o.setModel(n),o.bindElement(\"/result\"),r.addContent(o)),d.addContent(r)}f=parseInt(a.__count,10),Number(f)&&e.facet.setQuantity(f),e.facet.setContent(d),e.facet.attachPress({facet:e.facetContent},function(a,n){var i;l.removeAllFacetContent(),H[H.indexOf(e.facet)].Links=[],(i=w(m,e.entitySet,n.facet,e.bindingPath,this)).setDescription(V()),l.addFacetContent(i),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!1,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!0),t(H.indexOf(e.facet)),l.navigateToDetail()})}else e.facet.setQuantity(0),e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S);H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet))}else{for(D in n.setData({result:a}),a)if(a.hasOwnProperty(D)&&\"__metadata\"!==D)if(\"string\"==typeof a[D]&&a[D]){if(0!==parseInt(a[D],10)){M=!0;break}}else if(\"number\"==typeof a[D]&&0!==parseInt(a[D],10)){M=!0;break}M?(y=new sap.ui.layout.VerticalLayout,T=N.propertyExtensions?N.propertyExtensions[e.navigationType]:[],S=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutLabelValue\"),v=h(i.Title,{},T,!0).addStyleClass(\"sapFactsheetUtiLabelMargin\"),(s=g(i.Title,e.navigationType,b,e.facet)).setModel(n),s.bindElement(\"/result\"),S.addContent(v),S.addContent(s),y.addContent(S),i.MainInfo&&(P=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutLabelValue\"),I=h(i.MainInfo,{},T,!0).addStyleClass(\"sapFactsheetUtiLabelMargin\"),(o=g(i.MainInfo,e.navigationType,b,e.facet)).setModel(n),o.bindElement(\"/result\"),P.addContent(I),P.addContent(o),y.addContent(P)),i.SecondaryInfo&&(C=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiHLayoutLabelValue\"),x=h(i.SecondaryInfo,{},T,!0).addStyleClass(\"sapFactsheetUtiLabelMargin\"),(E=g(i.SecondaryInfo,e.navigationType,b,e.facet)).setModel(n),E.bindElement(\"/result\"),C.addContent(x),C.addContent(E),y.addContent(C)),i.TypeImageUrl||i.ImageUrl?(F=i.ImageUrl?i.ImageUrl:i.TypeImageUrl,A=new sap.ui.layout.HorizontalLayout,L=\"64px\",jQuery.device.is.phone&&(L=\"48px\"),(U=F.String&&\"sap-icon://\"===F.String.substr(0,11)?new sap.ui.core.Icon({size:L,width:L}):new sap.m.Image({width:L})).addStyleClass(\"sapFactsheetUtiRelIcon\"),F&&F.String?U.setSrc(F.String):F&&F.Path&&U.bindProperty(\"src\",F.Path),A.addContent(U),A.addContent(y),e.facet.setContent(A)):e.facet.setContent(y),e.facet.attachPress({facet:e.facetContent},function(a,n){var i;l.removeAllFacetContent(),H[H.indexOf(e.facet)].Links=[],(i=w(m,e.entitySet,n.facet,e.bindingPath,this)).setDescription(V()),l.addFacetContent(i),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet)),l.navigateToDetail()})):(e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S)),H.indexOf(e.facet)>=0&&(H[H.indexOf(e.facet)].bLoaded=!0,H[H.indexOf(e.facet)].bProcessed=!1,H[H.indexOf(e.facet)].bIsTable=!1),t(H.indexOf(e.facet))}}},Ce=function(e){return function(t){l.removeFacet(e.facet)}},Pe=function(e){return function(t){var a,n,i,s,o;if(n=N[e.navigationType][\"com.sap.vocabularies.UI.v1.MediaResource\"],\"*\"===e.cardinality)if(t.results&&t.results.length){for(a=(new sap.ui.layout.HorizontalLayout).addStyleClass(\"sapFactsheetUtiPictureViewerOverview\"),i=0;i<t.results.length&&(a.addContent(new sap.m.Image({src:t.results[i][n.Thumbnail.Url.Path],height:\"85px\"})),3!==i);i+=1);s=parseInt(t.__count,10),Number(s)&&e.facet.setQuantity(s),e.facet.setContent(a),e.facet.attachPress({facet:e.facetContent,data:t},function(e,t){var a,s,r;for(l.removeAllFacetContent(),o=new sap.suite.ui.commons.UnifiedThingGroup,t.facet.Label&&t.facet.Label.String&&o.setTitle(t.facet.Label.String),o.setDescription(V()),s=jQuery.device.is.phone?\"350px\":\"550px\",a=new sap.m.Carousel({height:s}),i=0;i<t.data.results.length;i+=1)r=new sap.m.Image({src:t.data.results[i][n.Url.Path]}),jQuery.device.is.phone?r.addStyleClass(\"sapFactsheetUtiCarouselMaxImageHeightPhone\"):r.addStyleClass(\"sapFactsheetUtiCarouselMaxImageHeight\"),a.addPage(r);o.setContent(a),l.addFacetContent(o),l.navigateToDetail()})}else e.facet.setQuantity(0),e.facet.addStyleClass(\"sapFactsheetUtiEmptyTile\"),e.facet.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.S)}},xe=function(e,t){var a,n,i,s,o,r,l,p,c,u,d,m=[],g={};for(o=function(e,t){var a,n=\"\";if(e){if(e.Path)return t[e.Path];if(e.String)return e.String;if(\"odata.concat\"===e.Apply.Name){for(a=0;a<e.Apply.Parameters.length;a+=1)\"Path\"===e.Apply.Parameters[a].Type?n+=t[e.Apply.Parameters[a].Value]:\"String\"===e.Apply.Parameters[a].Type&&(n+=e.Apply.Parameters[a].Value);return n}}},g.iCount=0,g.aContacts=[],n=0;n<e.__batchResponses.length;n+=1)if(e.__batchResponses[n].data&&((m=e.__batchResponses[n].data.results)||(m=[]).push(e.__batchResponses[n].data),m.length>0&&(s=N[m[0].__metadata.type][\"com.sap.vocabularies.Communication.v1.Contact\"])))for(i=0;i<m.length;i+=1){if(r=l=p=\"\",s.tel)for(a=0;a<s.tel.length;a+=1)if(s.tel[a].type&&s.tel[a].type.EnumMember)switch(c=o(s.tel[a].uri,m[i]),s.tel[a].type.EnumMember){case\"com.sap.vocabularies.Communication.v1.PhoneType/voice\":r=(r=c?c.replace(\"tel:\",\"\"):\"\")?r.replace(\";ext=\",\"\"):\"\";break;case\"com.sap.vocabularies.Communication.v1.PhoneType/cell\":l=(l=c?c.replace(\"tel:\",\"\"):\"\")?l.replace(\";ext=\",\"\"):\"\";break;case\"com.sap.vocabularies.Communication.v1.PhoneType/fax\":p=(p=c?c.replace(\"tel:\",\"\"):\"\")?p.replace(\";ext=\",\"\"):\"\"}d=s.email&&s.email.address?s.email.address:\"\",u=o(s.photo,m[i]),g.iCount+=1,g.aContacts.push({fn:o(s.fn,m[i]),title:o(s.title,m[i]),org:o(s.org,m[i]),phone:r,mobile:l,fax:p,photo:u,email:o(d,m[i]),sEntity:m[0].__metadata.type,bExistsPhoto:!!u,bUseIcon:!u,sOrder:g.iCount})}return t&&g.aContacts.sort(function(e,a){return e[t]>a[t]?1:-1}),g},ne=function(e){return function(e){var t,a,n,i,s,o,r,p;for(a=xe(e,\"sOrder\"),n=new sap.ui.layout.Grid({defaultSpan:\"L6 M6 S12\",hSpacing:0,vSpacing:0}).addStyleClass(\"sapFactsheetUtiContactsGrid\"),t=0;t<a.aContacts.length&&t<4;t+=1)o=new sap.ui.layout.VerticalLayout,r=a.aContacts[t].photo?new sap.m.Image({height:\"55px\",src:a.aContacts[t].photo}):new sap.ui.core.Icon({size:\"50px\",src:sap.ui.core.IconPool.getIconURI(\"person-placeholder\")}).addStyleClass(\"sapFactsheetUtiRelIcon\"),o.addContent(r),o.addStyleClass(\"sapFactsheetUtiContactsImage\"),s=new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:a.aContacts[t].fn}).addStyleClass(\"sapFactsheetUtiTextName\"),new sap.m.Text({text:a.aContacts[t].title}).addStyleClass(\"sapFactsheetUtiTextValue\")]}),i=new sap.ui.layout.HorizontalLayout({content:[o,s]}).addStyleClass(\"sapFactsheetUtiContactsBox\"),n.addContent(i);(de=sap.ui.getCore().byId(l.data(\"contactFacetId\"))).setQuantity(a.iCount),t>0?(de.setContent(n),p=t<=2?sap.suite.ui.commons.FacetOverviewHeight.M:sap.suite.ui.commons.FacetOverviewHeight.L,de.attachPress(function(){var e,t,a=[];for(m.clearBatch(),e=0;e<N[S][\"com.sap.vocabularies.UI.v1.Contacts\"].length;e+=1)t=\"\"!==(E=(E=N[S][\"com.sap.vocabularies.UI.v1.Contacts\"][e].AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1))?T+\"/\"+E:T,a.push(m.createBatchOperation(t,\"GET\"));m.addBatchReadOperations(a),m.submitBatch(function(e){var t,a,n,i,s,o,r;r=jQuery.sap.resources({url:jQuery.sap.getModulePath(\"sap.ushell.components.container.\")+\"/resources/resources.properties\",language:sap.ui.getCore().getConfiguration().getLanguage()}),t=xe(e,\"sEntity\"),(a=new sap.ui.model.json.JSONModel).setData(t),n=new sap.m.ColumnListItem({type:sap.m.Inactive,unread:!1,cells:[new sap.ui.layout.VerticalLayout({content:[new sap.m.Image({src:\"{photo}\",width:\"74px\",visible:\"{bExistsPhoto}\"}),new sap.ui.core.Icon({size:\"76px\",src:sap.ui.core.IconPool.getIconURI(\"person-placeholder\"),visible:\"{bUseIcon}\"}).addStyleClass(\"sapFactsheetUtiRelIcon\")]}),new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:\"{fn}\"}).addStyleClass(\"sapFactsheetUtiContactsName\"),new sap.m.Label({text:\"{title}\"}),new sap.m.Label({text:\"{org}\"})]}),new sap.m.Link({text:\"{phone}\",href:\"tel:{phone}\"}),new sap.m.Link({text:\"{mobile}\",href:\"tel:{mobile}\"}),new sap.m.Link({text:\"{fax}\",href:\"tel:{fax}\"}),new sap.m.Link({text:\"{email}\",href:\"mailto:{email}\"})]}),i=new sap.m.Table({threshold:2,inset:!1,showUnread:!0,scrollToLoad:!0,columns:[new sap.m.Column({hAlign:sap.ui.core.TextAlign.Center,width:\"12%\",header:new sap.m.Text({text:\"\"})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,header:new sap.m.Text({text:r.getText(\"USHELL_FACTSHEET_NAME\")})}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"12%\",header:new sap.m.Text({text:r.getText(\"USHELL_FACTSHEET_PHONE\")}),minScreenWidth:\"Tablet\",demandPopin:!0}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"12%\",header:new sap.m.Text({text:sap.ushell.resources.i18n.getText(\"mobile\")}),minScreenWidth:\"Tablet\",demandPopin:!0}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"12%\",header:new sap.m.Text({text:sap.ushell.resources.i18n.getText(\"fax\")}),minScreenWidth:\"Tablet\",demandPopin:!0}),new sap.m.Column({hAlign:sap.ui.core.TextAlign.Begin,width:\"26%\",header:new sap.m.Text({text:r.getText(\"USHELL_FACTSHEET_EMAIL\")}),minScreenWidth:\"Tablet\",demandPopin:!0})],items:{path:\"/aContacts\",template:n}}),s=new sap.m.ViewSettingsDialog({sortItems:[new sap.m.ViewSettingsItem({key:\"fn\",text:r.getText(\"USHELL_FACTSHEET_NAME\")}),new sap.m.ViewSettingsItem({key:\"phone\",text:r.getText(\"USHELL_FACTSHEET_PHONE\")}),new sap.m.ViewSettingsItem({key:\"mobile\",text:sap.ushell.resources.i18n.getText(\"mobile\")}),new sap.m.ViewSettingsItem({key:\"fax\",text:sap.ushell.resources.i18n.getText(\"fax\")}),new sap.m.ViewSettingsItem({key:\"email\",text:r.getText(\"USHELL_FACTSHEET_EMAIL\")})],confirm:function(e){var t,a,n=[];t=e.getParameters(),a=i.getBinding(\"items\"),t.sortItem&&(n.push(new sap.ui.model.Sorter(t.sortItem.getKey(),t.sortDescending)),a.sort(n))}}),i.setHeaderToolbar(new sap.m.Toolbar({content:[new sap.m.Label,new sap.m.ToolbarSpacer,new sap.m.Button({icon:\"sap-icon://drop-down-list\",press:function(e){s.open()}})]})),i.setModel(a),o=new sap.suite.ui.commons.UnifiedThingGroup({title:de.getTitle(),description:V(),content:i}),l.removeAllFacetContent(),l.addFacetContent(o),l.navigateToDetail()})})):(p=sap.suite.ui.commons.FacetOverviewHeight.S,de.addStyleClass(\"sapFactsheetUtiEmptyTile\"),de.setQuantity(0)),de.setHeightType(jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:p)}},x=0;x<P.length;x+=1)if(P[x][\"com.sap.vocabularies.UI.v1.Map\"])E=(E=P[x].Target.AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1),he=\"1\",ge=S,E&&(ge=D(E,S,b),he=c(y,E,b)),Ie=\"100%\",jQuery.device.is.phone&&(Ie=\"150px\"),me=new sap.ui.vbm.VBI({width:\"100%\",height:Ie,plugin:!1,config:null}),de=new sap.suite.ui.commons.FacetOverview({title:P[x].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.L,content:me}),H.push(de),H[H.length-1].bLoaded=!1,H[H.length-1].bProcessed=!1,H[H.length-1].bIsTable=!1,k={cardinality:he,navigationPath:E,facet:de,facetContent:P[x],navigationType:ge,metadata:b,bindingPath:T,entitySet:y},fe=\"*\"===he?[\"$inlinecount=allpages\",\"$top=1000\"]:[],m.read(T+\"/\"+E,\"\",fe,!0,_(k)),l.addFacet(de);else if(P[x].Target)if(E=(E=P[x].Target.AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1),ve=P[x].Target.AnnotationPath.substring(P[x].Target.AnnotationPath.lastIndexOf(\"@\")+1),E)ge=D(E,S,b),de=new sap.suite.ui.commons.FacetOverview({title:P[x].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M}),0!==(he=c(y,E,b))&&(k={cardinality:he,navigationPath:E,facet:de,facetContent:P[x],navigationType:ge,metadata:b,bindingPath:T,entitySet:y},P[x][\"com.sap.vocabularies.UI.v1.Gallery\"]?(fe=\"*\"===he?[\"$inlinecount=allpages\"]:[],m.read(T+\"/\"+E,\"\",fe,!0,Pe(k))):(H.push(de),H[H.length-1].bLoaded=!1,H[H.length-1].bProcessed=!1,H[H.length-1].bIsTable=!1,fe=\"*\"===he?[\"$inlinecount=allpages\",\"$top=3\"]:[],m.read(T+\"/\"+E,\"\",fe,!0,B(k),Ce(k))),l.addFacet(de));else if(\"com.sap.vocabularies.UI.v1.Contacts\"===ve){for(de=new sap.suite.ui.commons.FacetOverview({title:P[x].Label.String.trim(),heightType:jQuery.device.is.phone?sap.suite.ui.commons.FacetOverviewHeight.Auto:sap.suite.ui.commons.FacetOverviewHeight.M}),l.data(\"contactFacetId\",de.sId),k={facet:de},m.clearBatch(),R=0;R<N[S][ve].length;R+=1)ae=\"\"!==(E=(E=N[S][ve][R].AnnotationPath).substring(0,E.lastIndexOf(\"@\")-1))?\"*\"===(he=c(y,E,b))?T+\"/\"+E+\"?$top=4&$inlinecount=allpages\":T+\"/\"+E:T,Ae.push(m.createBatchOperation(ae,\"GET\"));m.addBatchReadOperations(Ae),m.submitBatch(ne()),l.addFacet(de)}return ce=new sap.ushell.ui.footerbar.AddBookmarkButton,Te=function(){var a,n,i,s,o,r,p,c,u,d,g,h,T={};for(ce.setAppData({title:l.getTitle(),subtitle:l.getName()+\" - \"+l.getDescription()}),ce.setEnabled(!0),h=(g=sap.ushell.Container.getService(\"URLParsing\")).getShellHash(window.location.href),c=g.parseShellHash(h).semanticObject,Q=new sap.suite.ui.commons.LinkActionSheet({showCancelButton:!0,placement:sap.m.PlacementType.Top}),a=f(e,m).split(\",\"),n=0;n<a.length;n+=1)a[n]=a[n].replace(\"='\",\"=\",\"g\"),a[n].lastIndexOf(\"'\")===a[n].length-1&&(a[n]=a[n].slice(0,-1));for(i in N[S])if(N[S].hasOwnProperty(i)&&0===i.indexOf(\"com.sap.vocabularies.Common.v1.SecondaryKey\"))for(s=N[S][i],n=0;n<s.length;n+=1)(o=this.getBoundContext().getProperty(s[n].PropertyPath))&&a.push(s[n].PropertyPath+\"=\"+o);for(n=0;n<a.length;n+=1)r=a[n].substr(0,a[n].indexOf(\"=\")),p=a[n].substr(a[n].indexOf(\"=\")+1,a[n].length),T[decodeURIComponent(r)]=decodeURIComponent(p);for(u in sap.ushell.Container.getService(\"CrossApplicationNavigation\").getSemanticObjectLinks(c,T).done(jQuery.proxy(function(e){var t,a,n;for(t=0;t<e.length;t+=1)(n=e[t].intent).indexOf(\"displayFactSheet\")<0&&n.indexOf(\"-analyzeKPIDetails~\")<0&&n.indexOf(\"-analyzeSBKPIDetails~\")<0&&n.indexOf(\"-NavigateToMaintainCusProj~\")<0&&n.indexOf(\"CostCenter-manageCostCenter~\")<0&&n.indexOf(\"AccountingDocument-analyzeDocumentJournal~\")<0&&n.indexOf(\"AccountingDocument-analyzeGLLineItem~\")<0&&n.indexOf(\"ControllingDocument-analyzeCostCenters~\")<0&&n.indexOf(\"ControllingDocument-analyzeInternalOrders~\")<0&&n.indexOf(\"ControllingDocument-analyzeMarketSegment~\")<0&&n.indexOf(\"ControllingDocument-analyzeProfitCentersActuals~\")<0&&n.indexOf(\"ControllingDocument-analyzeProfitLoss~\")<0&&n.indexOf(\"ControllingDocument-analyzeProjectsActuals~\")<0&&n.indexOf(\"PurchaseOrder-create~\")<0&&(a=sap.ushell.Container.getService(\"CrossApplicationNavigation\").hrefForExternal({target:{shellHash:n}}),Q.addItem(new sap.m.Link({text:e[t].text,href:a})),l.setTransactionsVisible(!0))})),l.attachTransactionsButtonPress(function(e){Q.openBy(e.getParameter(\"caller\"))}),this.detachChange(Te),sap.ushell.services.AppConfiguration.setWindowTitle(l.getTitle().trim()+\": \"+l.getName().trim()+\" (\"+l.getDescription().trim()+\")\"),l.setActionsVisible(!0),ye=new sap.m.Button({text:J.getText(\"UNIFIEDTHINGINSPECTOR_FOOTER_BUTTON_EMAIL_LINK\"),icon:\"sap-icon://email\",press:function(e){sap.m.URLHelper.triggerEmail(\"\",l.getName(),window.location.href)}}),G=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top}),e.substr(0,e.lastIndexOf(\"/\")+1),m.oData)if(m.oData.hasOwnProperty(u)){u,d=u.substring(u.indexOf(\"(\")+1,u.indexOf(\")\"));break}G.addButton(new sap.ushell.ui.footerbar.JamDiscussButton({jamData:{businessObject:{appContext:\"CB\",odataServicePath:e.substr(0,e.lastIndexOf(\"/\")+1),collection:y,key:d,name:l.getTitle(),ui_url:window.location.href}}})),G.addButton(new sap.ushell.ui.footerbar.JamShareButton({jamData:{object:{id:window.location.href,display:new sap.m.Text({text:l.getTitle()}),share:\"\"},externalObject:{appContext:\"CB\",odataServicePath:e.substr(0,e.lastIndexOf(\"/\")+1),collection:y,key:d,name:l.getTitle()}}})),G.addButton(ce),G.addButton(ye),l.attachActionsButtonPress(function(e){G.openBy(e.getParameter(\"caller\"))}),H[0].bLoaded=!0,H[0].bProcessed=!1,t(0)},l.getElementBinding().attachChange(Te),l.attachBackAction(function(e){history.back()}),l.addDelegate({onAfterRendering:function(){l._adjustFacetLayout()}}),l},{ThingInspector:function(t,a){try{e=v(t,a,new sap.suite.ui.commons.UnifiedThingInspector({configurationVisible:!1}))}catch(e){throw e}return e}}}()}();",
	"web/ui5/resources/sap/ushell/components/factsheet/tools/ODataUrlTemplating-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.factsheet.tools.ODataUrlTemplating\"),sap.ushell.components.factsheet.tools.ODataUrlTemplating={ParameterException:function(e,t,s){this.parameter=e,this.template=t,this.semiConvertedUrl=s,this.message=\" is a missing key parameter for constructing the entity url\",this.toString=function(){return this.parameter+this.message}},resolve:function(e,t){var s,r,a,n,o=e.match(/{\\s*[\\w\\.]+\\s*}/g);for(s=e,n=o.length-1;n>=0;n-=1)void 0!==(r=t[(a=o[n]).replace(/[{}]/g,\"\")])&&(\"string\"!=typeof r&&(r=r[0]),r=encodeURIComponent(decodeURIComponent(r)),s=s.replace(a,r));if(a=s.match(/{\\s*[\\w\\.]+\\s*}/g))throw jQuery.sap.log.error(\" \"+s),new this.ParameterException(a,e,s);return s}}}();",
	"web/ui5/resources/sap/ushell/components/factsheet/tools/ODataUrlTemplating.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.factsheet.tools.ODataUrlTemplating\"),sap.ushell.components.factsheet.tools.ODataUrlTemplating={ParameterException:function(e,t,s){this.parameter=e,this.template=t,this.semiConvertedUrl=s,this.message=\" is a missing key parameter for constructing the entity url\",this.toString=function(){return this.parameter+this.message}},resolve:function(e,t){var s,r,a,n,o=e.match(/{\\s*[\\w\\.]+\\s*}/g);for(s=e,n=o.length-1;n>=0;n-=1)void 0!==(r=t[(a=o[n]).replace(/[{}]/g,\"\")])&&(\"string\"!=typeof r&&(r=r[0]),r=encodeURIComponent(decodeURIComponent(r)),s=s.replace(a,r));if(a=s.match(/{\\s*[\\w\\.]+\\s*}/g))throw jQuery.sap.log.error(\" \"+s),new this.ParameterException(a,e,s);return s}}}();",
	"web/ui5/resources/sap/ushell/components/factsheet/views/ThingViewer-dbg.controller.js": "sap.ui.controller(\"sap.ushell.components.factsheet.views.ThingViewer\",{setService:function(e){this.getView().setModel(new sap.ui.model.odata.ODataModel(e))}});",
	"web/ui5/resources/sap/ushell/components/factsheet/views/ThingViewer-dbg.view.js": "!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.factsheet.tools.ODataUrlTemplating\"),sap.ui.jsview(\"sap.ushell.components.factsheet.views.ThingViewer\",{getControllerName:function(){return\"sap.ushell.components.factsheet.views.ThingViewer\"},createContent:function(e){var t,a,s,n,o,r;return o=this.getViewData(),jQuery.sap.require(\"sap.ushell.components.factsheet.factory.ThingInspector\"),(t=o.entity||o.service)||(s=o.entityTemplateURI||o.template)&&(\"string\"!=typeof s&&(s=s[0]),s=(s=(s=(s=(s=(s=(s=s.replace(/%25/g,\"%\")).replace(/%28/g,\"(\")).replace(/%29/g,\")\")).replace(/%27/g,\"'\")).replace(/%3D/g,\"=\")).replace(/%7B/g,\"{\")).replace(/%7D/g,\"}\"),t=sap.ushell.components.factsheet.tools.ODataUrlTemplating.resolve(s,o)),a=o.annotationURI||o.annotation,\"string\"!=typeof t&&(t=t[0]),\"string\"!=typeof a&&(a=a[0]),r=t.substr(0,t.lastIndexOf(\"/\")),jQuery.sap.require(\"sap.ui.model.odata.ODataUtils\"),r=function(e,t){var a;if(sap.ui.model.odata&&sap.ui.model.odata.ODataUtils&&\"function\"==typeof sap.ui.model.odata.ODataUtils.setOrigin){if(!e||!e.getComponentData())throw new Error(\"no component passed\");e&&e.getComponentData()&&e.getComponentData().startupParameters&&e.getComponentData().startupParameters[\"sap-system\"]&&(a=e.getComponentData().startupParameters[\"sap-system\"][0],t=sap.ui.model.odata.ODataUtils.setOrigin(t,{alias:a}))}return t}(sap.ui.core.Component.getOwnerComponentFor(this),r),r+=t.substr(t.lastIndexOf(\"/\")),(n=sap.ushell.components.factsheet.factory.ThingInspector(r,a)).addStyleClass(\"ThingInspector\"),n}})}();",
	"web/ui5/resources/sap/ushell/components/factsheet/views/ThingViewer.controller.js": "sap.ui.controller(\"sap.ushell.components.factsheet.views.ThingViewer\",{setService:function(e){this.getView().setModel(new sap.ui.model.odata.ODataModel(e))}});",
	"web/ui5/resources/sap/ushell/components/factsheet/views/ThingViewer.view.js": "!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.factsheet.tools.ODataUrlTemplating\"),sap.ui.jsview(\"sap.ushell.components.factsheet.views.ThingViewer\",{getControllerName:function(){return\"sap.ushell.components.factsheet.views.ThingViewer\"},createContent:function(e){var t,a,s,n,o,r;return o=this.getViewData(),jQuery.sap.require(\"sap.ushell.components.factsheet.factory.ThingInspector\"),(t=o.entity||o.service)||(s=o.entityTemplateURI||o.template)&&(\"string\"!=typeof s&&(s=s[0]),s=(s=(s=(s=(s=(s=(s=s.replace(/%25/g,\"%\")).replace(/%28/g,\"(\")).replace(/%29/g,\")\")).replace(/%27/g,\"'\")).replace(/%3D/g,\"=\")).replace(/%7B/g,\"{\")).replace(/%7D/g,\"}\"),t=sap.ushell.components.factsheet.tools.ODataUrlTemplating.resolve(s,o)),a=o.annotationURI||o.annotation,\"string\"!=typeof t&&(t=t[0]),\"string\"!=typeof a&&(a=a[0]),r=t.substr(0,t.lastIndexOf(\"/\")),jQuery.sap.require(\"sap.ui.model.odata.ODataUtils\"),r=function(e,t){var a;if(sap.ui.model.odata&&sap.ui.model.odata.ODataUtils&&\"function\"==typeof sap.ui.model.odata.ODataUtils.setOrigin){if(!e||!e.getComponentData())throw new Error(\"no component passed\");e&&e.getComponentData()&&e.getComponentData().startupParameters&&e.getComponentData().startupParameters[\"sap-system\"]&&(a=e.getComponentData().startupParameters[\"sap-system\"][0],t=sap.ui.model.odata.ODataUtils.setOrigin(t,{alias:a}))}return t}(sap.ui.core.Component.getOwnerComponentFor(this),r),r+=t.substr(t.lastIndexOf(\"/\")),(n=sap.ushell.components.factsheet.factory.ThingInspector(r,a)).addStyleClass(\"ThingInspector\"),n}})}();"
}, "web/ui5/resources/sap/ushell/components/factsheet/Component-preload");