sap.ui.require.preload({
	"web/ui5/resources/sap/ushell/components/flp/ActionMode-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.ActionMode\");var e=function(){this.oEventBus=sap.ui.getCore().getEventBus(),this.oEventBus.subscribe(\"launchpad\",\"actionModeInactive\",this.scrollToViewPoint,this),this.oEventBus.subscribe(\"launchpad\",\"actionModeActive\",this.scrollToViewPoint,this),this.viewPoint=void 0,this.init=function(e){this.oModel=e}};e.prototype.activate=function(){var e,t;jQuery.sap.require(\"sap.m.MessageToast\"),sap.m.MessageToast.show(sap.ushell.resources.i18n.getText(\"actionModeActivated\"),{duration:4e3}),this.oModel.setProperty(\"/tileActionModeActive\",!0),this.aOrigHiddenGroupsIds=sap.ushell.utils.getCurrentHiddenGroupIds(this.oModel),(e=sap.ui.getCore().byId(\"floatingActionBtn\"))&&(e.addStyleClass(\"sapUshellActive\"),e.setTooltip(sap.ushell.resources.i18n.getText(\"deactivateActionMode\"))),(t=sap.ui.getCore().byId(\"ActionModeBtn\"))&&t.setText(sap.ushell.resources.i18n.getText(\"exitPersonalizationMode\")),this.oEventBus.publish(\"launchpad\",\"actionModeActive\")},e.prototype.scrollToViewPoint=function(){window.setTimeout(jQuery.proxy(this.oEventBus.publish,this.oEventBus,\"launchpad\",\"scrollToFirstVisibleGroup\",this.viewPoint),0)},e.prototype.deactivate=function(){var e,t,o=sap.ui.getCore().byId(\"TileActions\");this.oModel.setProperty(\"/tileActionModeActive\",!1),this.oEventBus.publish(\"launchpad\",\"actionModeInactive\",this.aOrigHiddenGroupsIds),void 0!==o&&o.destroy(),(t=sap.ui.getCore().byId(\"floatingActionBtn\"))&&(t.removeStyleClass(\"sapUshellActive\"),t.setTooltip(sap.ushell.resources.i18n.getText(\"activateActionMode\"))),(e=sap.ui.getCore().byId(\"ActionModeBtn\"))&&(e.setTooltip(sap.ushell.resources.i18n.getText(\"activateActionMode\")),e.setText(sap.ushell.resources.i18n.getText(\"activateActionMode\")))},e.prototype.toggleActionMode=function(e,t,o){var i=e.getProperty(\"/tileActionModeActive\"),s=e.getProperty(\"/topGroupInViewPortIndex\");o||(o=[]);var n=o.filter(function(e){return e.getVisible()}),a=n[s];if(a){var l=i?-49:49,r=document.getElementById(\"sapUshellDashboardPage-cont\").scrollTop-a.getDomRef().offsetTop;this.viewPoint={group:n[s],fromTop:r+l}}else this.viewPoint={fromTop:0};i?this.deactivate():this.activate()},e.prototype.activateGroupEditMode=function(e){jQuery(e.getDomRef()).find(\".sapUshellTileContainerContent\").addClass(\"sapUshellTileContainerEditMode\")},e.prototype._openActionsMenu=function(e,t){var o,i,s,n,a,l,r,c=this,p=t||e.getSource(),u=sap.ushell.Container.getService(\"LaunchPage\"),d=[],h=sap.ui.getCore().byId(\"TileActions\");if(p&&(a=p.getBindingContext().getObject().object,d=u.getTileActions(a)),c.oTileControl=p,jQuery(\".sapUshellTileActionLayerDivSelected\").removeClass(\"sapUshellTileActionLayerDivSelected\"),jQuery(e.getSource().getDomRef()).find(\".sapUshellTileActionLayerDiv\").addClass(\"sapUshellTileActionLayerDivSelected\"),void 0===h?h=new sap.m.ActionSheet(\"TileActions\",{placement:sap.m.PlacementType.Auto,afterClose:function(){$(\".sapUshellTileActionLayerDivSelected\").removeClass(\"sapUshellTileActionLayerDivSelected\"),sap.ui.getCore().getEventBus().publish(\"dashboard\",\"actionSheetClose\",c.oTileControl)}}):h.destroyButtons(),0===d.length||p.oParent.getProperty(\"isGroupLocked\"))i=new sap.m.Button({text:sap.ushell.resources.i18n.getText(\"tileHasNoActions\"),enabled:!1}),h.addButton(i);else for(o=0;o<d.length;o++)l=function(e){return function(){c._handleActionPress(e)}}(n=d[o]),s=new sap.m.Button({text:n.text,icon:n.icon,press:l}),h.addButton(s);(r=e.getSource().getActionSheetIcon())?h.openBy(r):h.openBy(e.getSource())},e.prototype._handleActionPress=function(e){e.press?e.press.call():e.targetURL?0===e.targetURL.indexOf(\"#\")?hasher.setHash(e.targetURL):window.open(e.targetURL,\"_blank\"):sap.m.MessageToast.show(\"No Action\")},sap.ushell.components.flp.ActionMode=new e}();",
	"web/ui5/resources/sap/ushell/components/flp/ActionMode.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.ActionMode\");var e=function(){this.oEventBus=sap.ui.getCore().getEventBus(),this.oEventBus.subscribe(\"launchpad\",\"actionModeInactive\",this.scrollToViewPoint,this),this.oEventBus.subscribe(\"launchpad\",\"actionModeActive\",this.scrollToViewPoint,this),this.viewPoint=void 0,this.init=function(e){this.oModel=e}};e.prototype.activate=function(){var e,t;jQuery.sap.require(\"sap.m.MessageToast\"),sap.m.MessageToast.show(sap.ushell.resources.i18n.getText(\"actionModeActivated\"),{duration:4e3}),this.oModel.setProperty(\"/tileActionModeActive\",!0),this.aOrigHiddenGroupsIds=sap.ushell.utils.getCurrentHiddenGroupIds(this.oModel),(e=sap.ui.getCore().byId(\"floatingActionBtn\"))&&(e.addStyleClass(\"sapUshellActive\"),e.setTooltip(sap.ushell.resources.i18n.getText(\"deactivateActionMode\"))),(t=sap.ui.getCore().byId(\"ActionModeBtn\"))&&t.setText(sap.ushell.resources.i18n.getText(\"exitPersonalizationMode\")),this.oEventBus.publish(\"launchpad\",\"actionModeActive\")},e.prototype.scrollToViewPoint=function(){window.setTimeout(jQuery.proxy(this.oEventBus.publish,this.oEventBus,\"launchpad\",\"scrollToFirstVisibleGroup\",this.viewPoint),0)},e.prototype.deactivate=function(){var e,t,o=sap.ui.getCore().byId(\"TileActions\");this.oModel.setProperty(\"/tileActionModeActive\",!1),this.oEventBus.publish(\"launchpad\",\"actionModeInactive\",this.aOrigHiddenGroupsIds),void 0!==o&&o.destroy(),(t=sap.ui.getCore().byId(\"floatingActionBtn\"))&&(t.removeStyleClass(\"sapUshellActive\"),t.setTooltip(sap.ushell.resources.i18n.getText(\"activateActionMode\"))),(e=sap.ui.getCore().byId(\"ActionModeBtn\"))&&(e.setTooltip(sap.ushell.resources.i18n.getText(\"activateActionMode\")),e.setText(sap.ushell.resources.i18n.getText(\"activateActionMode\")))},e.prototype.toggleActionMode=function(e,t,o){var i=e.getProperty(\"/tileActionModeActive\"),s=e.getProperty(\"/topGroupInViewPortIndex\");o||(o=[]);var n=o.filter(function(e){return e.getVisible()}),a=n[s];if(a){var l=i?-49:49,r=document.getElementById(\"sapUshellDashboardPage-cont\").scrollTop-a.getDomRef().offsetTop;this.viewPoint={group:n[s],fromTop:r+l}}else this.viewPoint={fromTop:0};i?this.deactivate():this.activate()},e.prototype.activateGroupEditMode=function(e){jQuery(e.getDomRef()).find(\".sapUshellTileContainerContent\").addClass(\"sapUshellTileContainerEditMode\")},e.prototype._openActionsMenu=function(e,t){var o,i,s,n,a,l,r,c=this,p=t||e.getSource(),u=sap.ushell.Container.getService(\"LaunchPage\"),d=[],h=sap.ui.getCore().byId(\"TileActions\");if(p&&(a=p.getBindingContext().getObject().object,d=u.getTileActions(a)),c.oTileControl=p,jQuery(\".sapUshellTileActionLayerDivSelected\").removeClass(\"sapUshellTileActionLayerDivSelected\"),jQuery(e.getSource().getDomRef()).find(\".sapUshellTileActionLayerDiv\").addClass(\"sapUshellTileActionLayerDivSelected\"),void 0===h?h=new sap.m.ActionSheet(\"TileActions\",{placement:sap.m.PlacementType.Auto,afterClose:function(){$(\".sapUshellTileActionLayerDivSelected\").removeClass(\"sapUshellTileActionLayerDivSelected\"),sap.ui.getCore().getEventBus().publish(\"dashboard\",\"actionSheetClose\",c.oTileControl)}}):h.destroyButtons(),0===d.length||p.oParent.getProperty(\"isGroupLocked\"))i=new sap.m.Button({text:sap.ushell.resources.i18n.getText(\"tileHasNoActions\"),enabled:!1}),h.addButton(i);else for(o=0;o<d.length;o++)l=function(e){return function(){c._handleActionPress(e)}}(n=d[o]),s=new sap.m.Button({text:n.text,icon:n.icon,press:l}),h.addButton(s);(r=e.getSource().getActionSheetIcon())?h.openBy(r):h.openBy(e.getSource())},e.prototype._handleActionPress=function(e){e.press?e.press.call():e.targetURL?0===e.targetURL.indexOf(\"#\")?hasher.setHash(e.targetURL):window.open(e.targetURL,\"_blank\"):sap.m.MessageToast.show(\"No Action\")},sap.ushell.components.flp.ActionMode=new e}();",
	"web/ui5/resources/sap/ushell/components/flp/Component-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\nif(jQuery.sap.declare(\"sap.ushell.components.flp.Component\"),!window[\"sap-ui-debug\"])try{jQuery.sap.require(\"sap.fiori.flp-controls\")}catch(e){jQuery.sap.log.warning(\"flp-controls failed to load: \"+e.message)}jQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.require(\"sap.ushell.components.flp.CustomRouter\"),jQuery.sap.require(\"sap.ushell.components.flp.ComponentKeysHandler\"),sap.ui.core.UIComponent.extend(\"sap.ushell.components.flp.Component\",{metadata:{routing:{config:{viewType:\"JS\",controlAggregation:\"pages\",controlId:\"navContainerFlp\",clearAggregation:!1,routerClass:sap.ushell.components.flp.CustomRouter},targets:{appFinder:{viewName:\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"},home:{viewName:\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"}},routes:[{name:\"home\",target:\"home\",pattern:\"home\"}]},version:\"1.38.26\",library:\"sap.ushell.components.flp\",dependencies:{libs:[\"sap.m\"]},config:{semanticObject:\"Shell\",action:\"home\",title:sap.ushell.resources.i18n.getText(\"homeBtn_tooltip\"),fullWidth:!0,hideLightBackground:!0,compactContentDensity:!0,cozyContentDensity:!0}},parseOldCatalogParams:function(e){\"use strict\";var t,o=jQuery.sap.getUriParameters(e).mParams;for(var i in o)o.hasOwnProperty(i)&&(t=o[i][0],o[i]=-1!==t.indexOf(\"/\")?encodeURIComponent(t):t);return o},handleNavigationFilter:function(e){\"use strict\";var t=sap.ushell.Container.getService(\"URLParsing\").parseShellHash(e);if(t&&\"shell\"===t.semanticObject&&\"catalog\"===t.action){var o=this.parseOldCatalogParams(e);return setTimeout(function(){this.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(o)})}.bind(this),0),this.oShellNavigation.NavigationFilterStatus.Abandon}return this.oShellNavigation.NavigationFilterStatus.Continue},createContent:function(){\"use strict\";this.oRouter=this.getRouter(),this.oModel=new sap.ui.model.json.JSONModel({groups:[],animationRendered:!1,tagFiltering:!0,catalogSelection:!0,tileActionModeEnabled:!1,tileActionModeActive:!1,isInDrag:!1,rtl:sap.ui.getCore().getConfiguration().getRTL(),personalization:!0,editTitle:!1,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableNotificationsPreview:!1,previewNotificationItems:[]}),this.oModel.setSizeLimit(1e4),this.setModel(this.oModel),this.oConfig=this.getComponentData().config,this.oShellConfig=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration(),this.oConfig&&(this.oConfig.enablePersonalization||void 0===this.oConfig.enablePersonalization)&&(this.oShellConfig&&this.oShellConfig.enablePersonalization||void 0===this.oShellConfig.enablePersonalization)&&(this.oRouter.addRoute({name:\"catalog\",target:\"appFinder\",pattern:\"catalog/:filters:\"}),this.oRouter.addRoute({name:\"appFinder\",target:\"appFinder\",pattern:\"appFinder/{menu}/:filters:\"})),this.oRouter.addRoute({name:\"all\",target:\"home\",pattern:\":all*:\"}),this._setConfigurationToModel(this.oConfig),jQuery.sap.require(\"sap.ushell.components.flp.launchpad.DashboardManager\"),this.oDashboardManager=new sap.ushell.components.flp.launchpad.DashboardManager(\"dashboardMgr\",{model:this.oModel,config:this.oConfig,router:this.oRouter}),jQuery.sap.require(\"sap.ushell.resources\"),this.setModel(sap.ushell.resources.i18nModel,\"i18n\");var e,t=window.matchMedia(\"(min-width: 800px)\"),o=function(e){this.oModel.setProperty(\"/isPhoneWidth\",!e.matches)}.bind(this);t.addListener&&(t.addListener(o),o(t)),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"togglePane\",this._createAndAddGroupList,this),sap.ui.getCore().getEventBus().subscribe(\"sap.ushell.services.UsageAnalytics\",\"usageAnalyticsStarted\",function(){jQuery.sap.require(\"sap.ushell.components.flp.FLPAnalytics\")}),this.bContactSupportEnabled=sap.ushell.Container.getService(\"SupportTicket\").isEnabled(),this.bContactSupportEnabled&&(jQuery.sap.require(\"sap.ushell.UserActivityLog\"),sap.ushell.UserActivityLog.activate()),e=this.initNavContainer(),this.setInitialConfiguration(),this.oShellNavigation=sap.ushell.Container.getService(\"ShellNavigation\"),this.oShellNavigation.registerNavigationFilter(jQuery.proxy(this.handleNavigationFilter,this));var i=hasher.getHash(),n=sap.ushell.Container.getService(\"URLParsing\").parseShellHash(i);if(n&&\"shell\"===n.semanticObject&&\"catalog\"===n.action){var a=this.parseOldCatalogParams(i),s=this.getMetadata().getConfig();this.oShellNavigation.toExternal({target:{semanticObject:s.semanticObject,action:s.action}}),this.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(a)})}return e},_createAndAddGroupList:function(e,t,o){\"use strict\";if(o.currentContent&&(-1!==o.currentContent.indexOf(\"groupList\")||!o.currentContent.length)){var i=this.oConfig,n=this.runAsOwner(function(){return this.oDashboardManager.getGroupListView(i)}.bind(this));n.alreadyCreated||(n.groupList.setModel(this.oModel),n.groupList.setModel(sap.ushell.resources.i18nModel,\"i18n\"),sap.ushell.renderers.fiori2.RendererExtensions.setLeftPaneContent(n.groupList,\"home\"))}},_setConfigurationToModel:function(e){\"use strict\";var t,o=this.oModel,i=sap.ushell.Container.getRenderer(\"fiori2\").getModelConfiguration().enableNotificationsUI,n=sap.ushell.Container.getService(\"Notifications\").isEnabled(),a=sap.ui.Device.system.desktop||sap.ui.Device.system.tablet||sap.ui.Device.system.combi;e&&(void 0!==e.enableNotificationsPreview&&this.oModel.setProperty(\"/configEnableNotificationsPreview\",e.enableNotificationsPreview),e.enableNotificationsPreview&&i&&n&&a&&this.oModel.setProperty(\"/enableNotificationsPreview\",!0),void 0!==e.enablePersonalization&&void 0!==this.oShellConfig.enablePersonalization?o.setProperty(\"/personalization\",e.enablePersonalization&&this.oShellConfig.enablePersonalization):void 0!==e.enablePersonalization?o.setProperty(\"/personalization\",e.enablePersonalization):void 0!==this.oShellConfig.enablePersonalization&&o.setProperty(\"/personalization\",this.oShellConfig.enablePersonalization),void 0!==e.enableTagFiltering&&o.setProperty(\"/tagFiltering\",e.enableTagFiltering),void 0!==e.enableLockedGroupsCompactLayout&&o.setProperty(\"/enableLockedGroupsCompactLayout\",e.enableLockedGroupsCompactLayout),void 0!==e.enableCatalogSelection&&o.setProperty(\"/catalogSelection\",e.enableCatalogSelection),void 0!==e.enableSearchFiltering&&o.setProperty(\"/searchFiltering\",e.enableSearchFiltering),void 0!==e.enableTilesOpacity&&o.setProperty(\"/tilesOpacity\",e.enableTilesOpacity),void 0!==e.enableDragIndicator&&o.setProperty(\"/enableDragIndicator\",e.enableDragIndicator),t=!1,void 0!==e.enableActionModeMenuButton?(o.setProperty(\"/actionModeMenuButtonEnabled\",e.enableActionModeMenuButton),t=e.enableActionModeMenuButton):o.setProperty(\"/actionModeMenuButtonEnabled\",!0),void 0!==e.enableRenameLockedGroup?o.setProperty(\"/enableRenameLockedGroup\",e.enableRenameLockedGroup):o.setProperty(\"/enableRenameLockedGroup\",!1),void 0!==e.enableActionModeFloatingButton?(o.setProperty(\"/actionModeFloatingButtonEnabled\",e.enableActionModeFloatingButton),t=t||e.enableActionModeFloatingButton):o.setProperty(\"/actionModeFloatingButtonEnabled\",!0),o.setProperty(\"/tileActionModeEnabled\",t),void 0!==e.enableTileActionsIcon&&o.setProperty(\"/tileActionsIconEnabled\",!!sap.ui.Device.system.desktop&&e.enableTileActionsIcon),void 0!==e.enableHideGroups&&o.setProperty(\"/enableHideGroups\",e.enableHideGroups),e.title&&o.setProperty(\"/title\",e.title),void 0!==e.enableEasyAccess&&o.setProperty(\"/enableEasyAccess\",e.enableEasyAccess),void 0!==e.sapMenuServiceUrl&&o.setProperty(\"/sapMenuServiceUrl\",e.sapMenuServiceUrl),void 0!==e.userMenuServiceUrl&&o.setProperty(\"/userMenuServiceUrl\",e.userMenuServiceUrl),void 0!==e.easyAccessNumbersOfLevels&&o.setProperty(\"/easyAccessNumbersOfLevels\",e.easyAccessNumbersOfLevels),o.setProperty(\"/enableHelp\",!!this.oShellConfig.enableHelp),o.setProperty(\"/disableSortedLockedGroups\",!!e.disableSortedLockedGroups))},initNavContainer:function(e){\"use strict\";return new sap.m.NavContainer({id:\"navContainerFlp\",defaultTransitionName:\"show\"})},setInitialConfiguration:function(){\"use strict\";this.oRouter.initialize(),sap.ushell.components.flp.ComponentKeysHandler.init(this.oModel,this.oRouter),sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppKeysHandler(sap.ushell.components.flp.ComponentKeysHandler.handleFocusOnMe);var e=sap.ushell.resources.i18n,t=[];t.push({text:\"Alt+H\",description:e.getText(\"actionHomePage\")}),this.oModel.getProperty(\"/personalization\")&&t.push({text:\"Alt+C\",description:e.getText(\"actionAppFinder\")}),sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppShortcuts(sap.ushell.components.flp.ComponentKeysHandler.handleShortcuts,t),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"initialConfigurationSet\")},exit:function(){\"use strict\";this.oDashboardManager.destroy()}});",
	"web/ui5/resources/sap/ushell/components/flp/Component-preload-dbg.js": "jQuery.sap.registerPreloadedModules({name:\"sap/ushell/components/flp/Component-preload\",version:\"2.0\",modules:{\"sap/ushell/components/flp/ActionMode.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.ActionMode\");var e=function(){this.oEventBus=sap.ui.getCore().getEventBus(),this.oEventBus.subscribe(\"launchpad\",\"actionModeInactive\",this.scrollToViewPoint,this),this.oEventBus.subscribe(\"launchpad\",\"actionModeActive\",this.scrollToViewPoint,this),this.viewPoint=void 0,this.init=function(e){this.oModel=e}};e.prototype.activate=function(){var e,t;jQuery.sap.require(\"sap.m.MessageToast\"),sap.m.MessageToast.show(sap.ushell.resources.i18n.getText(\"actionModeActivated\"),{duration:4e3}),this.oModel.setProperty(\"/tileActionModeActive\",!0),this.aOrigHiddenGroupsIds=sap.ushell.utils.getCurrentHiddenGroupIds(this.oModel),(e=sap.ui.getCore().byId(\"floatingActionBtn\"))&&(e.addStyleClass(\"sapUshellActive\"),e.setTooltip(sap.ushell.resources.i18n.getText(\"deactivateActionMode\"))),(t=sap.ui.getCore().byId(\"ActionModeBtn\"))&&t.setText(sap.ushell.resources.i18n.getText(\"exitPersonalizationMode\")),this.oEventBus.publish(\"launchpad\",\"actionModeActive\")},e.prototype.scrollToViewPoint=function(){window.setTimeout(jQuery.proxy(this.oEventBus.publish,this.oEventBus,\"launchpad\",\"scrollToFirstVisibleGroup\",this.viewPoint),0)},e.prototype.deactivate=function(){var e,t,o=sap.ui.getCore().byId(\"TileActions\");this.oModel.setProperty(\"/tileActionModeActive\",!1),this.oEventBus.publish(\"launchpad\",\"actionModeInactive\",this.aOrigHiddenGroupsIds),void 0!==o&&o.destroy(),(t=sap.ui.getCore().byId(\"floatingActionBtn\"))&&(t.removeStyleClass(\"sapUshellActive\"),t.setTooltip(sap.ushell.resources.i18n.getText(\"activateActionMode\"))),(e=sap.ui.getCore().byId(\"ActionModeBtn\"))&&(e.setTooltip(sap.ushell.resources.i18n.getText(\"activateActionMode\")),e.setText(sap.ushell.resources.i18n.getText(\"activateActionMode\")))},e.prototype.toggleActionMode=function(e,t,o){var i=e.getProperty(\"/tileActionModeActive\"),s=e.getProperty(\"/topGroupInViewPortIndex\");o||(o=[]);var n=o.filter(function(e){return e.getVisible()}),a=n[s];if(a){var r=i?-49:49,l=document.getElementById(\"sapUshellDashboardPage-cont\").scrollTop-a.getDomRef().offsetTop;this.viewPoint={group:n[s],fromTop:l+r}}else this.viewPoint={fromTop:0};i?this.deactivate():this.activate()},e.prototype.activateGroupEditMode=function(e){jQuery(e.getDomRef()).find(\".sapUshellTileContainerContent\").addClass(\"sapUshellTileContainerEditMode\")},e.prototype._openActionsMenu=function(e,t){var o,i,s,n,a,r,l,u=this,p=t||e.getSource(),d=sap.ushell.Container.getService(\"LaunchPage\"),c=[],h=sap.ui.getCore().byId(\"TileActions\");if(p&&(a=p.getBindingContext().getObject().object,c=d.getTileActions(a)),u.oTileControl=p,jQuery(\".sapUshellTileActionLayerDivSelected\").removeClass(\"sapUshellTileActionLayerDivSelected\"),jQuery(e.getSource().getDomRef()).find(\".sapUshellTileActionLayerDiv\").addClass(\"sapUshellTileActionLayerDivSelected\"),void 0===h?h=new sap.m.ActionSheet(\"TileActions\",{placement:sap.m.PlacementType.Auto,afterClose:function(){$(\".sapUshellTileActionLayerDivSelected\").removeClass(\"sapUshellTileActionLayerDivSelected\"),sap.ui.getCore().getEventBus().publish(\"dashboard\",\"actionSheetClose\",u.oTileControl)}}):h.destroyButtons(),0===c.length||p.oParent.getProperty(\"isGroupLocked\"))i=new sap.m.Button({text:sap.ushell.resources.i18n.getText(\"tileHasNoActions\"),enabled:!1}),h.addButton(i);else for(o=0;o<c.length;o++)r=function(e){return function(){u._handleActionPress(e)}}(n=c[o]),s=new sap.m.Button({text:n.text,icon:n.icon,press:r}),h.addButton(s);(l=e.getSource().getActionSheetIcon())?h.openBy(l):h.openBy(e.getSource())},e.prototype._handleActionPress=function(e){e.press?e.press.call():e.targetURL?0===e.targetURL.indexOf(\"#\")?hasher.setHash(e.targetURL):window.open(e.targetURL,\"_blank\"):sap.m.MessageToast.show(\"No Action\")},sap.ushell.components.flp.ActionMode=new e}()},\"sap/ushell/components/flp/Component.js\":'// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\\njQuery.sap.declare(\"sap.ushell.components.flp.Component\");\\nif (!window[\\'sap-ui-debug\\']) {\\n    try {\\n        jQuery.sap.require(\\'sap.fiori.flp-controls\\');\\n    } catch (e) {\\n        jQuery.sap.log.warning(\\'flp-controls failed to load: \\' + e.message);\\n    }\\n}\\njQuery.sap.require(\"sap.ui.core.UIComponent\");\\njQuery.sap.require(\"sap.ushell.components.flp.CustomRouter\");\\n/* global hasher */\\njQuery.sap.require(\"sap.ushell.components.flp.ComponentKeysHandler\");\\n\\nsap.ui.core.UIComponent.extend(\"sap.ushell.components.flp.Component\", {\\n\\n    metadata: {\\n        routing : {\\n            config: {\\n                viewType: \"JS\",\\n                controlAggregation : \"pages\",\\n                controlId : \"navContainerFlp\",\\n                clearAggregation: false,\\n                routerClass : sap.ushell.components.flp.CustomRouter\\n            },\\n            targets: {\\n                appFinder: {\\n                    viewName : \"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"\\n                },\\n                home: {\\n                    viewName : \"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"\\n                }\\n            },\\n            routes : [\\n                {\\n                    name : \"home\",\\n                    target: \\'home\\',\\n                    pattern : \"home\"\\n                }\\n            ]\\n        },\\n\\n        version: \"1.38.26\",\\n\\n        library: \"sap.ushell.components.flp\",\\n\\n        dependencies: {\\n            libs: [\"sap.m\"]\\n        },\\n        config: {\\n            semanticObject: \\'Shell\\',\\n            action: \\'home\\',\\n            title: sap.ushell.resources.i18n.getText(\"homeBtn_tooltip\"),\\n            fullWidth: true,\\n            hideLightBackground: true,\\n            compactContentDensity: true,\\n            cozyContentDensity: true\\n        }\\n    },\\n\\n    parseOldCatalogParams: function (sUrl) {\\n        \"use strict\";\\n        var mParameters = jQuery.sap.getUriParameters(sUrl).mParams,\\n            sValue;\\n        for (var sKey in mParameters) {\\n            if (mParameters.hasOwnProperty(sKey)) {\\n                sValue = mParameters[sKey][0];\\n                mParameters[sKey] = sValue.indexOf(\\'/\\') !== -1 ? encodeURIComponent(sValue) : sValue;\\n            }\\n        }\\n        return mParameters;\\n    },\\n\\n    handleNavigationFilter: function (sNewHash) {\\n        \"use strict\";\\n        var oShellHash =  sap.ushell.Container.getService(\"URLParsing\").parseShellHash(sNewHash);\\n        if (oShellHash && oShellHash.semanticObject === \\'shell\\' && oShellHash.action === \\'catalog\\') {\\n            var mParameters = this.parseOldCatalogParams(sNewHash);\\n            setTimeout(function () {\\n                this.getRouter().navTo(\\'appFinder\\', {\\'menu\\': \\'catalog\\', filters : JSON.stringify(mParameters)});\\n            }.bind(this), 0);\\n            return this.oShellNavigation.NavigationFilterStatus.Abandon;\\n        }\\n        return this.oShellNavigation.NavigationFilterStatus.Continue;\\n    },\\n\\n    createContent: function () {\\n        \"use strict\";\\n        this.oRouter = this.getRouter();\\n        this.oModel = new sap.ui.model.json.JSONModel({\\n            groups : [],\\n            animationRendered : false,\\n            tagFiltering: true,\\n            catalogSelection: true,\\n            tileActionModeEnabled: false,\\n            tileActionModeActive: false,\\n            isInDrag: false,\\n            rtl: sap.ui.getCore().getConfiguration().getRTL(),\\n            personalization: true,\\n            editTitle: false,\\n            tagList : [],\\n            selectedTags : [],\\n            userPreferences : {\\n                entries : []\\n            },\\n            enableNotificationsPreview: false,\\n            previewNotificationItems: []\\n        });\\n\\n        this.oModel.setSizeLimit(10000); // override default of 100 UI elements on list bindings\\n        this.setModel(this.oModel);\\n        this.oConfig = this.getComponentData().config;\\n        //check the personalization flag in the Component configuration and in the Renderer configuration\\n        this.oShellConfig = sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration();\\n        var bPersonalizationActive = (this.oConfig && (this.oConfig.enablePersonalization || this.oConfig.enablePersonalization === undefined))\\n            && (this.oShellConfig && this.oShellConfig.enablePersonalization || this.oShellConfig.enablePersonalization === undefined);\\n        //the catalog route should be added only if personalization is active\\n        if (bPersonalizationActive) {\\n            this.oRouter.addRoute({\\n                name : \"catalog\",\\n                target: \\'appFinder\\',\\n                pattern : \"catalog/:filters:\"\\n            });\\n            this.oRouter.addRoute({\\n                name : \"appFinder\",\\n                target: \\'appFinder\\',\\n                pattern : \"appFinder/{menu}/:filters:\"\\n            });\\n        }\\n        //add the \"all\" route after the catalog route was added\\n        this.oRouter.addRoute({\\n            name : \"all\",\\n            target: \\'home\\',\\n            pattern : \":all*:\"\\n        });\\n        this._setConfigurationToModel(this.oConfig);\\n        jQuery.sap.require(\"sap.ushell.components.flp.launchpad.DashboardManager\");\\n        this.oDashboardManager = new sap.ushell.components.flp.launchpad.DashboardManager(\"dashboardMgr\", {\\n            model : this.oModel,\\n            config : this.oConfig,\\n            router : this.oRouter\\n        });\\n\\n        jQuery.sap.require(\"sap.ushell.resources\");\\n        this.setModel(sap.ushell.resources.i18nModel, \"i18n\");\\n\\n        var oNavContainer,\\n            mediaQ = window.matchMedia(\"(min-width: 800px)\"),\\n            handleMedia = function (mq) {\\n                this.oModel.setProperty(\"/isPhoneWidth\", !mq.matches);\\n            }.bind(this);\\n        if (mediaQ.addListener) {// condition check if mediaMatch supported(Not supported on IE9)\\n            mediaQ.addListener(handleMedia);\\n            handleMedia(mediaQ);\\n        }\\n\\n        sap.ui.getCore().getEventBus().subscribe(\"launchpad\", \"togglePane\", this._createAndAddGroupList, this);\\n        sap.ui.getCore().getEventBus().subscribe(\"sap.ushell.services.UsageAnalytics\", \"usageAnalyticsStarted\", function () {\\n            jQuery.sap.require(\"sap.ushell.components.flp.FLPAnalytics\");\\n        });\\n\\n        this.bContactSupportEnabled = sap.ushell.Container.getService(\"SupportTicket\").isEnabled();\\n        if (this.bContactSupportEnabled) {\\n            jQuery.sap.require(\"sap.ushell.UserActivityLog\");\\n            sap.ushell.UserActivityLog.activate();\\n        }\\n        oNavContainer = this.initNavContainer();\\n\\n        this.setInitialConfiguration();\\n\\n        this.oShellNavigation = sap.ushell.Container.getService(\"ShellNavigation\");\\n        this.oShellNavigation.registerNavigationFilter(jQuery.proxy(this.handleNavigationFilter, this));\\n        //handle direct navigation with the old catalog intent format\\n        var sHash = hasher.getHash();\\n        var oShellHash =  sap.ushell.Container.getService(\"URLParsing\").parseShellHash(sHash);\\n        if (oShellHash && oShellHash.semanticObject === \\'shell\\' && oShellHash.action === \\'catalog\\') {\\n            var mParameters = this.parseOldCatalogParams(sHash);\\n            var oComponentConfig = this.getMetadata().getConfig();\\n            this.oShellNavigation.toExternal({\\n                target: {\\n                    semanticObject: oComponentConfig.semanticObject,\\n                    action: oComponentConfig.action\\n                }\\n            });\\n            this.getRouter().navTo(\\'appFinder\\', {\\'menu\\': \\'catalog\\', filters : JSON.stringify(mParameters)});\\n        }\\n\\n        return oNavContainer;\\n    },\\n\\n    _createAndAddGroupList: function (sChannel, sEventName, oData) {\\n        \"use strict\";\\n        if (oData.currentContent && (oData.currentContent.indexOf(\\'groupList\\') !== -1 || !oData.currentContent.length)) {\\n            var oConfig = this.oConfig,\\n                oGroupListData = this.runAsOwner(function () {\\n                    return this.oDashboardManager.getGroupListView(oConfig);\\n                }.bind(this));\\n\\n            if (!oGroupListData.alreadyCreated) {\\n                oGroupListData.groupList.setModel(this.oModel);\\n                oGroupListData.groupList.setModel(sap.ushell.resources.i18nModel, \"i18n\");\\n                sap.ushell.renderers.fiori2.RendererExtensions.setLeftPaneContent(oGroupListData.groupList, \"home\");\\n            }\\n        }\\n    },\\n\\n    _setConfigurationToModel : function (oConfig) {\\n        \"use strict\";\\n        var oModel = this.oModel,\\n            tileActionModeEnabled,\\n            oRendererConfig = sap.ushell.Container.getRenderer(\\'fiori2\\').getModelConfiguration(),\\n            bEnableNotificationsUI = oRendererConfig.enableNotificationsUI,\\n            bNotificationServiceEnabled = sap.ushell.Container.getService(\"Notifications\").isEnabled(),\\n            oDevice = sap.ui.Device,\\n            bEligibleDeviceForPreview = oDevice.system.desktop || sap.ui.Device.system.tablet || sap.ui.Device.system.combi;\\n\\n        if (oConfig) {\\n            if (oConfig.enableNotificationsPreview !== undefined) {\\n                this.oModel.setProperty(\"/configEnableNotificationsPreview\", oConfig.enableNotificationsPreview);\\n            }\\n            if (oConfig.enableNotificationsPreview && bEnableNotificationsUI && bNotificationServiceEnabled  && bEligibleDeviceForPreview) {\\n                this.oModel.setProperty(\"/enableNotificationsPreview\", true);\\n            }\\n            if (oConfig.enablePersonalization !== undefined && this.oShellConfig.enablePersonalization !== undefined) {\\n                oModel.setProperty(\"/personalization\", oConfig.enablePersonalization && this.oShellConfig.enablePersonalization);\\n            } else if (oConfig.enablePersonalization !== undefined) {\\n                oModel.setProperty(\"/personalization\", oConfig.enablePersonalization);\\n            } else if (this.oShellConfig.enablePersonalization !== undefined) {\\n                oModel.setProperty(\"/personalization\", this.oShellConfig.enablePersonalization);\\n            }\\n            if (oConfig.enableTagFiltering !== undefined) {\\n                oModel.setProperty(\"/tagFiltering\", oConfig.enableTagFiltering);\\n            }\\n            if (oConfig.enableLockedGroupsCompactLayout !== undefined) {\\n                oModel.setProperty(\"/enableLockedGroupsCompactLayout\", oConfig.enableLockedGroupsCompactLayout);\\n            }\\n            if (oConfig.enableCatalogSelection !== undefined) {\\n                oModel.setProperty(\"/catalogSelection\", oConfig.enableCatalogSelection);\\n            }\\n            if (oConfig.enableSearchFiltering !== undefined) {\\n                oModel.setProperty(\"/searchFiltering\", oConfig.enableSearchFiltering);\\n            }\\n            if (oConfig.enableTilesOpacity !== undefined) {\\n                oModel.setProperty(\"/tilesOpacity\", oConfig.enableTilesOpacity);\\n            }\\n            if (oConfig.enableDragIndicator !== undefined) {\\n                oModel.setProperty(\"/enableDragIndicator\", oConfig.enableDragIndicator);\\n            }\\n            tileActionModeEnabled = false;\\n\\n            if (oConfig.enableActionModeMenuButton !== undefined) {\\n                oModel.setProperty(\"/actionModeMenuButtonEnabled\", oConfig.enableActionModeMenuButton);\\n                tileActionModeEnabled = oConfig.enableActionModeMenuButton;\\n            } else {\\n                oModel.setProperty(\"/actionModeMenuButtonEnabled\", true);\\n            }\\n            if (oConfig.enableRenameLockedGroup !== undefined) {\\n                oModel.setProperty(\"/enableRenameLockedGroup\", oConfig.enableRenameLockedGroup);\\n            } else {\\n                oModel.setProperty(\"/enableRenameLockedGroup\", false);\\n            }\\n\\n            if (oConfig.enableActionModeFloatingButton !== undefined) {\\n                oModel.setProperty(\"/actionModeFloatingButtonEnabled\", oConfig.enableActionModeFloatingButton);\\n                tileActionModeEnabled = tileActionModeEnabled || oConfig.enableActionModeFloatingButton;\\n            } else {\\n                oModel.setProperty(\"/actionModeFloatingButtonEnabled\", true);\\n            }\\n            oModel.setProperty(\"/tileActionModeEnabled\", tileActionModeEnabled);\\n            if (oConfig.enableTileActionsIcon !== undefined) {\\n                //Available only for desktop\\n                oModel.setProperty(\"/tileActionsIconEnabled\", sap.ui.Device.system.desktop ? oConfig.enableTileActionsIcon : false);\\n            }\\n            if (oConfig.enableHideGroups !== undefined) {\\n                oModel.setProperty(\"/enableHideGroups\", oConfig.enableHideGroups);\\n            }\\n            // check for title\\n            if (oConfig.title) {\\n                oModel.setProperty(\"/title\", oConfig.title);\\n            }\\n            if (oConfig.enableEasyAccess !== undefined) {\\n                oModel.setProperty(\"/enableEasyAccess\", oConfig.enableEasyAccess)\\n            }\\n            if (oConfig.sapMenuServiceUrl !== undefined) {\\n                oModel.setProperty(\"/sapMenuServiceUrl\", oConfig.sapMenuServiceUrl)\\n            }\\n            if (oConfig.userMenuServiceUrl !== undefined) {\\n                oModel.setProperty(\"/userMenuServiceUrl\", oConfig.userMenuServiceUrl)\\n            }\\n            if (oConfig.easyAccessNumbersOfLevels !== undefined) {\\n                oModel.setProperty(\"/easyAccessNumbersOfLevels\", oConfig.easyAccessNumbersOfLevels)\\n            }\\n\\n            // xRay enablement configuration\\n            oModel.setProperty(\"/enableHelp\", !!this.oShellConfig.enableHelp);\\n            oModel.setProperty(\"/disableSortedLockedGroups\", !!oConfig.disableSortedLockedGroups);\\n\\n        }\\n    },\\n\\n    initNavContainer: function (oController) {\\n        \"use strict\";\\n        var oNavContainer = new sap.m.NavContainer({\\n            id: \"navContainerFlp\",\\n            defaultTransitionName: \\'show\\'\\n        });\\n\\n        return oNavContainer;\\n    },\\n\\n    setInitialConfiguration: function() {\\n        \"use strict\";\\n        this.oRouter.initialize();\\n\\n        // set keyboard navigation handler\\n        sap.ushell.components.flp.ComponentKeysHandler.init(this.oModel, this.oRouter);\\n        sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppKeysHandler(sap.ushell.components.flp.ComponentKeysHandler.handleFocusOnMe);\\n        var translationBundle = sap.ushell.resources.i18n,\\n            aShortcutsDescriptions = [];\\n\\n        aShortcutsDescriptions.push({text: \"Alt+H\", description: translationBundle.getText(\"actionHomePage\")});\\n\\n        if (this.oModel.getProperty(\"/personalization\")) {\\n            aShortcutsDescriptions.push({text: \"Alt+C\", description: translationBundle.getText(\"actionAppFinder\")});\\n        }\\n\\n        sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppShortcuts(sap.ushell.components.flp.ComponentKeysHandler.handleShortcuts, aShortcutsDescriptions);\\n        sap.ui.getCore().getEventBus().publish(\"launchpad\", \"initialConfigurationSet\");\\n    },\\n\\n    exit : function () {\\n        \"use strict\";\\n        this.oDashboardManager.destroy();\\n    }\\n});\\n',\"sap/ushell/components/flp/ComponentKeysHandler.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.ComponentKeysHandler\");var e=function(){this.aTileWrapperClasses=[\".sapUshellTile\",\".sapUshellLinkTile\"]};e.prototype={keyCodes:jQuery.sap.KeyCodes,handleCatalogKey:function(){this.oRouter.navTo(\"appFinder\",{menu:\"catalog\"})},handleHomepageKey:function(){this.oRouter.navTo(\"home\")},getNumberOfTileInRow:function(e,t){var o,i=jQuery(t?\".sapUshellLinkTile:first\":\".sapUshellTile:first\");return!!i.length&&(o=\"catalog\"===e?jQuery(\"#catalogTiles .sapUshellTileContainerContent\").width():jQuery(\"#dashboardGroups\").width(),Math.floor(o/i.outerWidth(!0)))},goToTileContainer:function(e,t){return this.oModel.getProperty(\"/tileActionModeActive\")?sap.ushell.components.flp.ComponentKeysHandler.goToFirstVisibleTileContainer():sap.ushell.components.flp.ComponentKeysHandler.goToEdgeTile(\"first\",t),!0},goToEdgeTile:function(e,t){var o=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\"),i=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),s=o.get(i),n=jQuery(s).find(\".sapUshellTile:visible\")[e](),a=jQuery(\"div.sapUshellTile:visible[tabindex='0']\"),r=jQuery(\"div.sapUshellLinkTile:visible[tabindex='0']\");return!!(n.length||a.length||r.length)&&(a.length&&!t?(this.setTileFocus(a),!0):r.length&&!t?(this.setTileFocus(r),!0):(this.setTileFocus(n),!0))},goToFirstVisibleTileContainer:function(){var e=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\"),t=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),o=jQuery(e.get(t));return!!o[0]&&(this.setTileContainerSelectiveFocus(o),!0)},goToFirstTileOfSiblingGroup:function(e,t){t.preventDefault();var o=jQuery(document.activeElement).closest(\".sapUshellDashboardGroupsContainerItem\");if(o.length){var i=o[e+\"All\"](\".sapUshellDashboardGroupsContainerItem:has(.sapUshellTile:visible):not(.sapUshellCloneArea)\"),s=\"first\";i.length?i=i.first():(i=o,s=\"next\"===e?\"last\":\"first\");var n=i.find(\".sapUshellTile:visible\")[s]();return this.moveScrollDashboard(n),!1}},goToFirstTileOfSiblingGroupInCatalog:function(e,t){t.preventDefault();var o=this.getFocusOnTile(jQuery(document.activeElement));if(o){var i;if(\"next\"==e)i=!o.nextAll(\"h3\").length?o.nextAll(\".sapUshellTile\").last():o.nextAll(\"h3\").first().nextAll().filter(\":visible\").first();else i=1===o.prevAll(\"h3\").length?o.prevAll(\"h3\").last().next():jQuery(o.prevAll(\"h3\")[1]).next();return this.setTileFocus(i),this.moveScrollCatalog(i),!1}},moveTileInGroup:function(e,t,o){if(this.oModel.getProperty(\"/personalization\")){var i=e.getBindingContext().getObject(),s=i.tiles.indexOf(t.getBindingContext().getObject()),n=i.tiles.indexOf(o.getBindingContext().getObject()),a=i.tiles.splice(s,1);i.tiles.splice(n,0,a[0]);var r=e.getBindingContext().getPath();e.getModel().setProperty(r,i)}},moveTileToDifferentGroup:function(e,t,o,i){if(this.oModel.getProperty(\"/personalization\")){if(e.getIsGroupLocked()||t.getIsGroupLocked())return;var s=e.getBindingContext().getObject(),n=t.getBindingContext().getObject(),a=s.tiles.indexOf(o.getBindingContext().getObject());\"left\"!==i&&\"up\"!==i&&\"down\"!==i||n.tiles.push(s.tiles[a]),\"right\"===i&&n.tiles.splice(0,0,s.tiles[a]),s.tiles.splice(a,1);var r=t.getBindingContext().getPath();t.getModel().setProperty(r,n);var l=e.getBindingContext().getPath();e.getModel().setProperty(l,s);var u=t.getTiles();return\"left\"===i||\"up\"===i||\"down\"===i?u[u.length-1]:u[0]}},moveTile:function(e){var t=jQuery(\".sapUshellDashboardView\"),o=sap.ui.getCore().byId(t.attr(\"id\"));if(o.getModel().setProperty(\"/isInDrag\",!0),setTimeout(function(){o.getModel().setProperty(\"/isInDrag\",!1)},300),this.oModel.getProperty(\"/personalization\")){var i=this.getGroupAndTilesInfo();if(!i||i.group.getProperty(\"isGroupLocked\"))return;var s=this.getNextTile(e,i,void 0,!0);if(!s)return;var n=s.getParent();n===i.group?this.moveTileInGroup(i.group,i.curTile,s):s=this.moveTileToDifferentGroup(i.group,n,i.curTile,e),setTimeout(function(){s&&this.setTileFocus(jQuery(s.getDomRef()))}.bind(this),100)}},getNextUpDownTileWithLayout:function(e,t,o){var i,s=\"down\"===e?1:-1,n=!t.tiles.length&&!t.links.length,a=t.group.getIsGroupLocked(),r=jQuery(t.curTile.getDomRef()).hasClass(\"sapUshellPlusTile\"),l=t.group.getLinks(),u=sap.ushell.Layout.organizeGroup(t.curTile.isLink?t.links:t.tiles,t.curTile.isLink),p=sap.ushell.Layout.getTilePositionInMatrix(t.curTile,u),d=this.isLastLineFull(u),c=this.oModel.getProperty(\"/tileActionModeActive\");if(p||n||r){if(!u[p.row+s]){if(c&&!a&&!r&&d&&\"down\"===e)return t.group.oPlusTile;if(!t.curTile.isLink&&l.length&&\"down\"===e&&!o)return l[0];if(t.curTile.isLink&&t.tiles.length&&\"up\"===e)return t.tiles[0];if(p=n||r?{row:0,col:0}:p,!(i=this.getNextGroup(e,t)))return;if(!(n=!i.getTiles().length&&!i.getLinks().length)){var h=this._getAggregationToFocusInNextGroup(i,e),g=this._isNextTileLink(h);u=sap.ushell.Layout.organizeGroup(h,g),s=0,p.row=\"down\"===e?0:u.length-1}}if(!n||!a)return n?i.oPlusTile:\"object\"!=typeof u[p.row+s][p.col]||n?this.getNextUpDownTile(u,p.row+s,p.col,e):u[p.row+s][p.col]}},_isNextTileLink:function(e){return!(!e||!e.length)&&jQuery(e[0].getDomRef()).hasClass(\"sapUshellLinkTile\")},_getAggregationToFocusInNextGroup:function(e,t){if(\"down\"===t||\"right\"===t){if(e.getTiles().length)return e.getShowPlaceholder()?[].concat(e.getTiles(),e.oPlusTile):e.getTiles();if(e.getLinks().length)return e.getLinks()}else if(\"up\"===t||\"left\"===t){if(e.getLinks().length)return e.getLinks();if(e.getTiles().length)return e.getShowPlaceholder()?[].concat(e.getTiles(),e.oPlusTile):e.getTiles()}},isLastLineFull:function(e){var t=this.getNumberOfTileInRow();return e[e.length-1].filter(Boolean).length===t},getNextUpDownTile:function(e,t,o,i){for(var s,n=t,a=e.length,r=\"up\"===i?-1:1;n>=0&&n<a&&!s;)\"object\"!=typeof e[n][o]&&(s=e[n][o]),n+=r;if(!s){for(n=t;\"object\"!=typeof e[n][o]&&o>=0;)o--;return e[n][o]}},getNextTile:function(e,t,o,i){var s,n,a,r,l,u,p,d,c=sap.ui.getCore().getConfiguration().getRTL()?-1:1,h=!t.tiles.length,g=\"right\"===e?1:-1;if(\"catalog\"===t.pageName){if(\"right\"==e||\"left\"==e)return s=h?void 0:t.tiles[t.curTileIndex+c*g];if(\"0\"===t.curTileIndex&&\"up\"===e)return;n=this.whichTileRow(t.curTileIndex,t),d=parseFloat(t.curTile.getDomRef().offsetLeft),\"down\"==e?a=t.tiles.slice(t.curTileIndex+1,t.curTileIndex+2*t.sizeOfLine):(r=r>0?r:0,a=t.tiles.slice(r,t.curTileIndex).reverse());for(var f=0,m=a.length;f<m;f++)if(l=a[f].getDomRef(),u=parseFloat(l.offsetLeft),p=parseFloat(l.offsetWidth),u<=d&&u+p>=d)return s=a[f];if(this.nextRowIsShorter(e,n,t))return s=this.getNextTileInShorterRow(e,n,t)}else{if(\"left\"===e||\"right\"===e){var y=t.curTileIndex+c*g,v=t.curTile.isLink?t.links:t.tiles;if(!v[y]||i&&v[y].getDomRef().className.indexOf(\"sapUshellPlusTile\")>0||(s=v.length?v[y]:void 0),s)return s;if(\"right\"===e&&!t.curTile.isLink&&t.links.length&&!i)return t.links[0];if(\"left\"===e&&t.curTile.isLink&&t.tiles.length)return t.group.getShowPlaceholder()?t.group.oPlusTile:t.tiles[t.tiles.length-1];var C=this.getNextGroup(e,t);if(!C)return;var b=this._getAggregationToFocusInNextGroup(C,e);if(b&&b.length){var T=b.length-1;s=\"right\"===e?b[1===c?0:T]:b[1===c?T:0]}else s=C.oPlusTile}\"down\"!==e&&\"up\"!==e||(s=this.getNextUpDownTileWithLayout(e,t,i))}return s},getNextTileInShorterRow:function(e,t,o){var i=\"down\"===e?this.getLastTileIdInRow(o,t+1):this.getLastTileIdInRow(o,t-1);return o.tiles[i]},getLastTileIdInRow:function(e,t){for(var o=0,i=0;i<e.rowsData.length&&(o+=e.rowsData[i],i!==t);i++);return o-1},nextRowIsShorter:function(e,t,o){return\"down\"===e&&t!=o.rowsData.length-1?o.rowsData[t]>o.rowsData[t+1]:\"up\"===e&&0!=t&&o.rowsData[t]>o.rowsData[t-1]},getNextGroup:function(e,t){var o,i=t.group.getParent().getGroups(),s=sap.ui.getCore().getConfiguration().getRTL(),n=i.indexOf(t.group);if(\"right\"!==e&&\"left\"!==e||(e=s?\"right\"===e?\"up\":\"down\":\"right\"===e?\"down\":\"up\"),\"down\"===e||\"up\"===e){var a=\"up\"===e?-1:1;if(!(o=i[n+a]))return;for(;!o.getVisible()&&n>=0&&n<i.length;)if(!(o=i[n+=a]))return}if(o.getVisible())return o},getGroupAndTilesInfo:function(e,t){if(e||(e=this.getFocusOnTile(jQuery(document.activeElement))),e.length){var o,i,s,n=sap.ui.getCore().byId(e.attr(\"id\")),a=n.getParent();if(a.getTiles||(a=a.getParent()),n.isLink=e.hasClass(\"sapUshellLinkTile\"),\"catalog\"==t){o=this.getCatalogLayoutData(),i=[];for(var r=jQuery(\"#catalogTiles\").find(\".sapUshellTile:visible\"),l=0;l<r.length;l++)i.push(sap.ui.getCore().byId(r[l].id))}else a.getTiles&&(i=a.getTiles(),s=a.getLinks(),a.getShowPlaceholder()&&!n.isLink&&i.push(a.oPlusTile));var u=this.getNumberOfTileInRow(t,n.isLink);return{pageName:t,curTile:n,curTileIndex:n.isLink?s.indexOf(n):i.indexOf(n),tiles:i,links:s,sizeOfLine:u,group:a,rowsData:o}}},getCatalogLayoutData:function(){for(var e=jQuery(\"#catalogTiles .sapUshellInner\").children(\":visible\"),t=this.getNumberOfTileInRow(\"catalog\"),o=[],i=0,s=1;s<e.length;s++)jQuery(e[s]).hasClass(\"sapUshellTile\")&&i++,jQuery(e[s]).hasClass(\"sapUshellHeaderTile\")&&(o.push(i),i=0),i>=t&&(o.push(i),i=0);return i>0&&o.push(i),o},whichTileRow:function(e,t){var o,i=0;for(o=0;o<t.rowsData.length;o++)if(e<(i+=t.rowsData[o]))return o},goToSiblingElementInTileContainer:function(e,t,o){var i,s,n,a=t.closest(\".sapUshellTileContainer\");if(i=this.getFocusTileContainerBeforeContent(t))\"up\"===e||\"left\"===e?this._goToNextTileContainer(i,e):(n=a.find(\".sapUshellTileContainerHeader:first\"),this.setTabIndexOnTileContainerHeader(n),n.focus());else if(i=this.getFocusTileContainerHeader(t)){if(\"up\"===e)this.setTabIndexOnTileContainerHeader(n),this._goToTileContainerBeforeContent(a)||this._goToNextTileContainer(i,e);else if(\"down\"===e)if((s=a.find(\".sapUshellTile:first\")).length){var r=jQuery(s);this.scrollToTileAndSetFocus(r,o)}else this._goToNextTileContainer(i,e);else if(\"left\"===e)t.hasClass(\"sapUshellTileContainerHeader\")?this._goToTileContainerBeforeContent(a)||this._goToNextTileContainer(i,\"left\"):(n=t.closest(\".sapUshellTileContainerHeader\")).focus();else if(\"right\"===e){t.hasClass(\"sapMInputBaseInner\")||((s=a.find(\".sapUshellTile:first\")).length?this.setTileFocus(s):this._goToNextTileContainer(i,\"down\"))}}else(i=this.getFocusOnTile(t))?this.goFromFocusedTile(e,i,o,!0):(i=this.getFocusOnTileContainerAfterContent(t))&&(\"up\"===e||\"left\"===e?this._goToFirstTileInTileContainer(i):this._goToNextTileContainer(i,e))},_goToNextTileContainer:function(e,t){var o,i,s=e.closest(\".sapUshellTileContainer\"),n=jQuery(\".sapUshellTileContainer:visible\"),a=\"down\"===t?1:-1;if(o=jQuery(n[n.index(s)+a]))if(i=o.find(\".sapUshellTileContainerHeader\"),\"down\"===t)this._goToTileContainerBeforeContent(o)||(this.setTabIndexOnTileContainerHeader(i),this.setTileContainerSelectiveFocus(o));else{if(this._goToTileContainerAfterContent(o))return;\"up\"===t?this._goToFirstTileInTileContainer(o)||(this.setTabIndexOnTileContainerHeader(i),i.focus()):\"left\"===t&&(this._goToLastTileInTileContainer(o)||(this.setTabIndexOnTileContainerHeader(i),i.focus()))}},_goToLastTileInTileContainer:function(e){var t=e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\"),o=t.find(\".sapUshellTile:last\"),i=t.find(\".sapUshellLinkTile:last\");return!(!i.length&&!o.length)&&(this.setTileFocus(i.length?i:o),!0)},_goToFirstTileInTileContainer:function(e){var t=e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\"),o=jQuery(t.find(\".sapUshellTile\").get(0));return!!o.length&&(this.setTileFocus(o),!0)},_goToTileContainerBeforeContent:function(e){var t=(e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\")).find(\".sapUshellTileContainerBeforeContent button:visible\");return!!t.length&&(t.focus(),!0)},_goToTileContainerAfterContent:function(e){var t=(e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\")).find(\".sapUshellTileContainerAfterContent button:visible\");return!!t.length&&(t.focus(),!0)},goFromFocusedTile:function(e,t,o,i){var s,n,a,r,l=this.getGroupAndTilesInfo(t,o);if(l)if(s=this.getNextTile(e,l,i),i)if(n=jQuery(t).closest(\".sapUshellTileContainer\"),s)if(a=jQuery(s.getDomRef()).closest(\".sapUshellTileContainer\"),n.length&&a.length&&n.attr(\"id\")===a.attr(\"id\")){var u=jQuery(s.getDomRef());this.scrollToTileAndSetFocus(u,o)}else\"down\"===e||\"right\"===e?this._goToTileContainerAfterContent(n)||(this.setTabIndexOnTileContainerHeader(a.find(\".sapUshellTileContainerHeader\")),this.setTileContainerSelectiveFocus(a)):(r=n.find(\".sapUshellTileContainerHeader\"),this.setTabIndexOnTileContainerHeader(r),r.focus());else{if(\"down\"===e||\"right\"===e)return void jQuery(n).find(\".sapUshellTileContainerAfterContent button:visible\").focus();if(\"up\"===e)return this.setTabIndexOnTileContainerHeader(n.find(\".sapUshellTileContainerHeader\")),void this.setTileContainerSelectiveFocus(n);\"left\"===e&&(r=n.find(\".sapUshellTileContainerHeader\")).focus()}else if(s){u=jQuery(s.getDomRef());this.scrollToTileAndSetFocus(u,o)}},scrollToTileAndSetFocus:function(e,t){var o=e.offset().top+e.height();if(\"catalog\"===t){var i=o-jQuery(\"body\").height()-jQuery(\"#catalogTilesPage\").offset().top+200;jQuery(\"#catalogTilesPage section\").animate({scrollTop:i},0,function(){this.setTileFocus(e)}.bind(this))}else this.moveScrollDashboard(e)},deleteTile:function(e){var t=e.attr(\"id\");if(t){var o=sap.ui.getCore().byId(t),i=this.getGroupAndTilesInfo(e),s=this.getNextTile(\"right\",i);(!s||s&&s.getParent()!=i.group)&&(s=this.getNextTile(\"left\",i)),(!s||s&&s.getParent()!=i.group)&&(s=i.group.oPlusTile),s&&(this.setTileFocus(jQuery(s.getDomRef())),setTimeout(function(e,t){var o=e.getTiles();if(o.length){for(var s,n=0;n<o.length;n++)if(o[n].getProperty(\"uuid\")==t){s=o[n];break}s&&this.setTileFocus(jQuery(s.getDomRef()))}else{if(i.group.getProperty(\"defaultGroup\")){var a=this.getNextGroup(\"right\",i);s=a.getTiles()[0]||a.oPlusTile,this.setTileFocus(jQuery(s.getDomRef()))}this.setTileFocus(jQuery(e.oPlusTile.getDomRef()))}}.bind(this,i.group,s.getProperty(\"uuid\")),100)),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",{tileId:o.getUuid()})}},setTabIndexOnTileContainerHeader:function(e){if(jQuery(\".sapUshellTileContainerHeader\").attr(\"tabindex\",-1),jQuery(\".sapUshellTileContainerHeader .sapUshellContainerTitle\").attr(\"tabindex\",-1),jQuery(\".sapUshellTileContainerHeader .sapUshellContainerHeaderActions button\").attr(\"tabindex\",-1),e){var t=e.find(\".sapUshellContainerTitle:first\"),o=e.find(\".sapUshellContainerHeaderActions:first\");e.attr(\"tabindex\",0),t.attr(\"tabindex\",0),o.find(\"button\").attr(\"tabindex\",0)}},setTileContainerSelectiveFocus:function(e){var t=e.find(\".sapUshellTileContainerBeforeContent button\"),o=e.find(\".sapUshellTileContainerHeader:first\");t.length&&t.is(\":visible\")?t.focus():o.length&&(this.setTabIndexOnTileContainerHeader(o),o.focus())},setTileFocus:function(e){if(!e.hasClass(\"sapUshellPlusTile\")){var t,o=sap.ui.getCore().byId(\"navContainerFlp\"),i=o.getCurrentPage(),s=!(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"!==(o?o.getCurrentPage().getViewName():void 0)||\"catalog\"!==i.getController().getCurrentMenuName());if(t=e.find(\"[tabindex]\"),s)sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(t.eq(0))}jQuery(\".sapUshellTile\").attr(\"tabindex\",-1),jQuery(\".sapUshellLinkTile\").attr(\"tabindex\",-1),e.attr(\"tabindex\",0);var n=jQuery(\"#loadingDialog\")[0];n&&\"hidden\"!==n.style.visibility||e.focus()},setFocusOnCatalogTile:function(e){var t,o=jQuery(\".sapUshellTile[tabindex=0]\");if(o.length&&(jQuery(\".sapUshellTileContainerContent\").find(\"[tabindex*=0]\").attr(\"tabindex\",-1),o.find(\"[tabindex], a\").andSelf().filter(\"[tabindex], a\").attr(\"tabindex\",-1)),!e){if(!(t=jQuery(\".sapUshellTile:visible\")).length)return;e=jQuery(t[0]).find(\"[tabindex], a\").eq(0)}e.closest(\".sapUshellTile\").attr(\"tabindex\",0),e.attr(\"tabindex\",0),e.closest(\".sapUshellTile\").find(\"button\").attr(\"tabindex\",0)},moveScrollDashboard:function(e){var t=e.closest(\".sapUshellTileContainer\")[0].id,o=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+document.getElementById(t).getBoundingClientRect().top;o+=49,jQuery(\"#sapUshellDashboardPage section\").stop().animate({scrollTop:o},0,function(){this.setTileFocus(e)}.bind(this))},moveScrollCatalog:function(e){var t=jQuery(\"#catalogTilesPage-cont\"),o=jQuery(\"#shell-hdr\").height()+jQuery(\".sapMPageHeader\").height()+2*parseInt(jQuery(\".sapMPanelHdr\").css(\"margin-top\"),10),i=e.offset().top+t.scrollTop()-o;sap.ui.getCore().byId(\"catalogTilesPage\").scrollTo(i,200)},moveGroupFromDashboard:function(e,t){var o,i,s,n=jQuery(\".sapUshellDashboardGroupsContainerItem\");o=t.closest(\".sapUshellDashboardGroupsContainerItem\"),i=n.index(o),s=\"up\"==e||\"left\"==e?i-1:i+1,this.moveGroup(i,s)},moveGroup:function(e,t){var o=jQuery(\".sapUshellDashboardGroupsContainerItem\"),i=jQuery(\".sapUshellDisableDragAndDrop\").length;if(!(t<0||t>=o.length||t<i)){var s=sap.ui.getCore(),n={fromIndex:e,toIndex:t};s.getEventBus().publish(\"launchpad\",\"moveGroup\",n),setTimeout(function(){var e=jQuery(\".sapUshellTileContainerHeader\")[t];this.setTabIndexOnTileContainerHeader(jQuery(e)),jQuery(e).focus()}.bind(this),100)}},getFocusGroupFromDashboard:function(e){return!!(e.closest(\".sapUshellTileContainerHeader\").length&&\"H2\"===e[0].tagName)&&e},getFocusTileContainerBeforeContent:function(e){var t=e.closest(\".sapUshellTileContainerBeforeContent\");return!!t.length&&t},getFocusTileContainerHeader:function(e){var t=e.closest(\".sapUshellTileContainerHeader\");return!!t.length&&t},getFocusOnTileContainerAfterContent:function(e){var t=e.closest(\".sapUshellTileContainerAfterContent\");return!!t.length&&t},getFocusOnTile:function(e){var t;return jQuery.each(this.aTileWrapperClasses,function(o,i){var s=e.closest(i);return!(t=!!s.length&&s)}),t},renameGroup:function(){var e=jQuery(document.activeElement),t=this.getFocusGroupFromDashboard(e);t&&t.click()},upDownButtonsHandler:function(e,t){var o=jQuery(document.activeElement);this.goFromFocusedTile(e,o,t)},arrowsButtonsHandler:function(e,t){var o=jQuery(document.activeElement),i=this.oModel.getProperty(\"/tileActionModeActive\");o.hasClass(\"sapUshellAnchorItem\")?(t.preventDefault(),this.handleAnchorNavigationItemsArrowKeys(e)):i?o.hasClass(\"sapMInputBaseInner\")||(t.preventDefault(),this.goToSiblingElementInTileContainer(e,o)):(t.preventDefault(),this.goFromFocusedTile(e,o))},handleAnchorNavigationItemsArrowKeys:function(e){var t=jQuery(\".sapUshellAnchorItem:visible\"),o=jQuery(document.activeElement),i=t.index(o),s=o;sap.ui.getCore().getConfiguration().getRTL()&&(e=\"left\"===e?\"right\":\"left\"),\"left\"===e||\"down\"===e?i>0&&(s=t.get(i-1)):\"right\"!==e&&\"up\"!==e||i<t.length-1&&(s=t.get(i+1)),jQuery(s).focus()},homeEndButtonsHandler:function(e,t){var o,i=jQuery(document.activeElement);return i.hasClass(\"sapUshellAnchorItem\")?(t.preventDefault(),void jQuery(\".sapUshellAnchorItem:visible:\"+e).focus()):i.hasClass(\"sapUshellTile\")&&(i.closest(\"#dashboardGroups\").length||i.closest(\"#catalogTiles\").length)?(t.preventDefault(),o=!0===t.ctrlKey?jQuery(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[e]():i.parent().find(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[e](),void this.setTileFocus(o)):void 0},deleteButtonHandler:function(){if(this.oModel.getProperty(\"/personalization\")&&this.oModel.getProperty(\"/tileActionModeActive\")){var e,t=jQuery(document.activeElement);if(e=this.getFocusOnTile(t))return void(e.hasClass(\"sapUshellLockedTile\")||e.hasClass(\"sapUshellPlusTile\")||this.deleteTile(e))}},ctrlPlusArrowKeyButtonsHandler:function(e){var t,o=jQuery(document.activeElement);if(jQuery(o).hasClass(\"sapUshellLinkTile\")||!(t=this.getFocusOnTile(o))){if(t=this.getFocusTileContainerHeader(o)){var i=t.closest(\".sapUshellTileContainerContent\");if(i.hasClass(\"sapUshellTileContainerDefault\")||i.hasClass(\"sapUshellTileContainerLocked\"))return;this.moveGroupFromDashboard(e,t)}}else this.moveTile(e)},spaceButtonHandler:function(e){var t=jQuery(document.activeElement);if(t.hasClass(\"sapUshellTile\")){e.preventDefault();var o=t.find('[role=\"button\"]');if(o){var i=o.attr(\"id\"),s=sap.ui.getCore().byId(i),n=this.oModel.getProperty(\"/tileActionModeActive\");if(s&&!n)return s.firePress(),!1}return t.click(),!1}},goToFirstCatalogTile:function(){var e=sap.ushell.components.flp.ComponentKeysHandler,t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");e.setTileFocus(t)},goToFirstCatalogHeaderItem:function(){jQuery(\"#catalogTilesPage header button\")[0].focus()},goToFirstAnchorNavigationItem:function(){jQuery(\".sapUshellAnchorItem:visible:first\").focus()},handleFocusOnMe:function(e,t){var o=sap.ushell.components.flp.ComponentKeysHandler,i=sap.ui.getCore().byId(\"navContainerFlp\").getCurrentPage(),s=i.getViewName();if(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==s&&(t?e.shiftKey?o.goToTileContainer(e):o.goToFirstAnchorNavigationItem():(o.mainKeydownHandler(e),o.dashboardKeydownHandler(e))),\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"==s){if(o.appFinderKeydownHandler(e,t))return;\"catalog\"===i.getController().getCurrentMenuName()?t?e.shiftKey?o.goToFirstCatalogTile():o.goToFirstCatalogHeaderItem():(o.mainKeydownHandler(e),o.catalogKeydownHandler(e)):o.easyAccessKeydownHandler(e)}},groupHeaderNavigation:function(){var e,t=jQuery(document.activeElement);t.hasClass(\"sapUshellTileContainerHeader\")?(e=t.find(\".sapUshellContainerTitle\")).focus():(e=t.closest(\".sapUshellTileContainerHeader\"))&&e.focus()},handleShortcuts:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;if(e.altKey)switch(String.fromCharCode(e.keyCode)){case\"C\":t.oModel.getProperty(\"/personalization\")&&t.handleCatalogKey();break;case\"H\":t.handleHomepageKey()}},mainKeydownHandler:function(e){switch((e=e||window.event).keyCode){case this.keyCodes.SPACE:this.spaceButtonHandler(e);break;case this.keyCodes.HOME:this.homeEndButtonsHandler(\"first\",e);break;case this.keyCodes.END:this.homeEndButtonsHandler(\"last\",e)}},catalogKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.ARROW_UP:t.upDownButtonsHandler(\"up\",\"catalog\");break;case t.keyCodes.ARROW_DOWN:t.upDownButtonsHandler(\"down\",\"catalog\");break;case t.keyCodes.ARROW_RIGHT:t.goFromFocusedTile(\"right\",\"\",\"catalog\");break;case t.keyCodes.ARROW_LEFT:t.goFromFocusedTile(\"left\",\"\",\"catalog\");break;case t.keyCodes.PAGE_UP:t.goToFirstTileOfSiblingGroupInCatalog(\"prev\",e);break;case t.keyCodes.PAGE_DOWN:t.goToFirstTileOfSiblingGroupInCatalog(\"next\",e)}},appFinderFocusAppBox:function(e,t){e.attr(\"tabindex\",\"-1\").find(\".sapUshellPinButton\").attr(\"tabindex\",\"-1\"),t.find(\".sapUshellPinButton\").attr(\"tabindex\",\"0\"),t.attr(\"tabindex\",\"0\").focus()},appFinderKeydownHandler:function(e,t){if(t){var o=jQuery(\"#catalog, #userMenu, #sapMenu\").filter(\"[tabindex=0]\");return o.length?(o.eq(0).focus(),!0):void 0}},easyAccessRightLeftHandler:function(e,t){t.preventDefault();var o=sap.ushell.components.flp.ComponentKeysHandler,i=\"right\"==e?\"next\":\"prev\",s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var n=s.parent()[i]();n.length&&o.appFinderFocusAppBox(s,n.children())}},easyAccessUpDownHandler:function(e,t){var o=sap.ushell.components.flp.ComponentKeysHandler;t.preventDefault();var i=document.activeElement,s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var n,a=i.getBoundingClientRect(),r=[].slice.call(document.querySelectorAll(\".sapUshellAppBox\"));\"up\"==e&&r.reverse(),r.splice(0,r.indexOf(i)+1);for(var l=0;l<r.length;l++){var u=r[l].getBoundingClientRect();if(u.left<a.right&&u.right>a.left){n=r[l];break}}n&&o.appFinderFocusAppBox(s,jQuery(n))}},easyAccessHomeEndHandler:function(e,t){t.preventDefault();var o=sap.ushell.components.flp.ComponentKeysHandler,i=\"home\"==e?\"first\":\"last\",s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var n=s.parent().parent().children()[i]().children();s!=n&&o.appFinderFocusAppBox(s,jQuery(n))}},easyAccessKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.ARROW_UP:t.easyAccessUpDownHandler(\"up\",e);break;case t.keyCodes.ARROW_DOWN:t.easyAccessUpDownHandler(\"down\",e);break;case t.keyCodes.ARROW_RIGHT:t.easyAccessRightLeftHandler(\"right\",e);break;case t.keyCodes.ARROW_LEFT:t.easyAccessRightLeftHandler(\"left\",e);break;case t.keyCodes.HOME:case t.keyCodes.PAGE_UP:t.easyAccessHomeEndHandler(\"home\",e);break;case t.keyCodes.END:case t.keyCodes.PAGE_DOWN:t.easyAccessHomeEndHandler(\"end\",e)}},dashboardKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.F2:t.renameGroup();break;case t.keyCodes.F7:t.groupHeaderNavigation();break;case t.keyCodes.DELETE:case t.keyCodes.BACKSPACE:t.deleteButtonHandler();break;case t.keyCodes.ARROW_UP:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"up\"):t.arrowsButtonsHandler(\"up\",e);break;case t.keyCodes.ARROW_DOWN:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"down\"):t.arrowsButtonsHandler(\"down\",e);break;case t.keyCodes.ARROW_RIGHT:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"right\"):t.arrowsButtonsHandler(\"right\",e);break;case t.keyCodes.ARROW_LEFT:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"left\"):t.arrowsButtonsHandler(\"left\",e);break;case t.keyCodes.PAGE_UP:t.goToFirstTileOfSiblingGroup(\"prev\",e);break;case t.keyCodes.PAGE_DOWN:t.goToFirstTileOfSiblingGroup(\"next\",e)}return!0},init:function(e,t){this.oModel=e,this.oRouter=t}},sap.ushell.components.flp.ComponentKeysHandler=new e}()},\"sap/ushell/components/flp/CustomRouter.js\":function(){!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.CustomRouter\"),sap.ui.core.routing.Router.extend(\"sap.ushell.components.flp.CustomRouter\",{constructor:function(){sap.ui.core.routing.Router.apply(this,arguments),this.attachRouteMatched(this._onHandleRouteMatched,this)},navTo:function(){this._bIsInitialized||this.initialize(),sap.ui.core.routing.Router.prototype.navTo.apply(this,arguments)},destroy:function(){sap.ui.core.routing.Router.prototype.destroy.apply(this,arguments)},_onHandleRouteMatched:function(e){var t=e.getParameters(),o=sap.ui.getCore().byId(t.config.controlId),i=this.getTarget(t.config.target).display();o.to(i.oTargetParent)}})}()},\"sap/ushell/components/flp/FLPAnalytics.js\":function(){!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.FLPAnalytics\");var e=sap.ui.getCore().getEventBus(),t=this,o={};function i(e){var t=sap.ushell.services.AppConfiguration.getMetadata();o[e]={},o[e].startTime=new Date,o[e].title=t.title}function s(e){var t=0;try{t=(new Date-o[e].startTime)/1e3,sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Time in Application (sec)\",t,[o[e].title])}catch(t){jQuery.sap.log.warning(\"Duration in application \"+e+\" could not be calculated\",null,\"sap.ushell.components.flp.FLPAnalytics\")}}function n(t,s,a){var r,l=hasher.getHash();switch(window.swa.custom1={ref:l},s){case\"appOpened\":i(l),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Opened\",\"Direct Launch\",[o[l].title]),e.unsubscribe(\"launchpad\",\"appOpened\",n);break;case\"bookmarkTileAdded\":r=window.document.title,sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Personalization\",\"Save as Tile\",[r,a&&a.group&&a.group.title?a.group.title:\"\",a&&a.group&&a.group.id?a.group.id:\"\",a&&a.tile&&a.tile.title?a.tile.title:r]);break;case\"actionModeActive\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Personalization\",\"Enter Action Mode\",[a.source]);break;case\"catalogTileClick\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Catalog\",[]);break;case\"dashboardTileClick\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Homepage\",[]);break;case\"dashboardTileLinkClick\":window.swa.custom1={ref:a.targetHash.substr(1)},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Tile Group Link\",[])}}jQuery(window).unload(function(e){s(window.location.hash.substr(1))});try{sap.ui.getCore().byId(\"viewPortContainer\").attachAfterNavigate(function(e){var t,n;e.getParameter(\"from\")&&e.getParameter(\"to\")&&(t=e.getParameter(\"from\").getId().replace(\"application-\",\"\").replace(\"applicationShellPage-\",\"\"),window.swa.custom1={ref:t},s(t),i(n=e.getParameter(\"to\").getId().replace(\"application-\",\"\").replace(\"applicationShellPage-\",\"\")),window.swa.custom1={ref:n},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Opened\",\"Fiori Navigation\",[o[n].title]))},t)}catch(e){jQuery.sap.log.warning(\"Failure when subscribing to viewPortContainer 'AfterNavigate' event\",null,\"sap.ushell.components.flp.FLPAnalytics\")}e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileAdded\",n,t),[\"appOpened\",\"deleteTile\",\"createGroup\",\"actionModeActive\",\"catalogTileClick\",\"dashboardTileClick\",\"dashboardTileLinkClick\"].forEach(function(o,i,s){e.subscribe(\"launchpad\",o,n,t)})}()},\"sap/ushell/components/flp/launchpad/DashboardManager.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.DashboardManager\"),jQuery.sap.require(\"sap.ushell.services.Message\");var e=function(e,t){return t?sap.ushell.resources.i18n.getText(e,t):sap.ushell.resources.i18n.getText(e)},t=function(e){return this.oModel.getProperty(\"/catalogTiles\").filter(function(t){return t.catalog===e.title&&!0===t.isTileIntentSupported}).length};sap.ui.base.EventProvider.extend(\"sap.ushell.components.flp.launchpad.DashboardManager\",{metadata:{publicMethods:[\"getModel\",\"getDashboardView\",\"loadPersonalizedGroups\",\"attachEvent\",\"detachEvent\",\"attachEventOnce\",\"createTile\",\"deleteCatalogTileFromGroup\",\"resetGroupsOnFailure\",\"createGroupAndSaveTile\"]},analyticsConstants:{PERSONALIZATION:\"FLP: Personalization\",RENAME_GROUP:\"FLP: Rename Group\",MOVE_GROUP:\"FLP: Move Group\",DELETE_GROUP:\"FLP: Delete Group\",RESET_GROUP:\"FLP: Reset Group\",DELETE_TILE:\"FLP: Delete Tile\",ADD_TILE:\"FLP: Add Tile\",MOVE_TILE:\"FLP: Move Tile\"},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.getDashboardManager&&sap.ushell.components.flp.launchpad.getDashboardManager())return sap.ushell.components.flp.launchpad.getDashboardManager();(sap.ushell.components.flp.launchpad.getDashboardManager=jQuery.sap.getter(this.getInterface()),this.oPageBuilderService=sap.ushell.Container.getService(\"LaunchPage\"),this.oModel=t.model,this.oConfig=t.config,this.oRouter=t.router,this.oSortableDeferred=$.Deferred(),this.oSortableDeferred.resolve(),this.aRequestQueue=[],this.bRequestRunning=!1,this.tagsPool=[],this.registerEvents(),this.oTileCatalogToGroupsMap={},this.tileViewUpdateQueue=[],this.tileViewUpdateTimeoutID=0,this.oPopover=null,this.tileUuid=null,this.oGroupCreatedDeferred=void 0,this.aMoveTileCallsData=void 0,this.segmentsStore=[],this.oGroupNotLockedFilter=new sap.ui.model.Filter(\"isGroupLocked\",sap.ui.model.FilterOperator.EQ,!1),this.oRouter)&&this.oRouter.getTarget(\"home\").attachDisplay(function(e){this.oDashboardView=e.getParameter(\"view\")}.bind(this))},createMoveActionDialog:function(){var e=this.oGroupNotLockedFilter;this.moveDialog=new sap.m.SelectDialog(\"moveDialog\",{title:sap.ushell.resources.i18n.getText(\"moveTileDialog_title\"),rememberSelections:!1,search:function(t){var o=t.getParameter(\"value\"),i=new sap.ui.model.Filter(\"title\",sap.ui.model.FilterOperator.Contains,o);t.getSource().getBinding(\"items\").filter([i,e])},contentWidth:\"400px\",confirm:function(e){var t=e.getParameter(\"selectedContexts\"),o=sap.ui.getCore().getEventBus();t.length&&(o.publish(\"launchpad\",\"moveTile\",{sTileId:this.tileUuid,toGroupId:t[0].getObject().groupId,toIndex:t[0].getObject().tiles.length,source:this.moveDialog.getId()}),o.publish(\"launchpad\",\"scrollToGroup\",{groupId:t[0].getObject().groupId,groupChanged:!1,focus:!1}))}.bind(this),cancel:function(){var e=jQuery('.sapUshellTile[tabindex=\"0\"]')[0];e&&e.focus()},items:{path:\"/groups\",filters:[e],template:new sap.m.StandardListItem({title:\"{title}\"})}}),this.moveDialog.setModel(this.oModel)},registerEvents:function(){var e=sap.ui.getCore().getEventBus(),t=this;e.subscribe(\"launchpad\",\"addBookmarkTile\",this._createBookmark,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileAdded\",this._addBookmarkToModel,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"catalogTileAdded\",this._refreshGroupInModel,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileDeleted\",this.loadPersonalizedGroups,this),e.subscribe(\"launchpad\",\"loadDashboardGroups\",this.loadPersonalizedGroups,this),e.subscribe(\"launchpad\",\"createGroupAt\",this._createGroupAt,this),e.subscribe(\"launchpad\",\"createGroup\",this._createGroup,this),e.subscribe(\"launchpad\",\"deleteGroup\",this._deleteGroup,this),e.subscribe(\"launchpad\",\"resetGroup\",this._resetGroup,this),e.subscribe(\"launchpad\",\"changeGroupTitle\",this._changeGroupTitle,this),e.subscribe(\"launchpad\",\"moveGroup\",this._moveGroup,this),e.subscribe(\"launchpad\",\"deleteTile\",this._deleteTile,this),e.subscribe(\"launchpad\",\"moveTile\",this._moveTile,this),e.subscribe(\"launchpad\",\"sortableStart\",this._sortableStart,this),e.subscribe(\"launchpad\",\"sortableStop\",this._sortableStop,this),e.subscribe(\"renderCatalog\",this.loadAllCatalogs,this),e.subscribe(\"showCatalog\",this.updateTilesAssociation,this),e.subscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),this.oPageBuilderService.registerTileActionsProvider(function(e){return jQuery.sap.require(\"sap.m.MessageBox\"),[{text:sap.ushell.resources.i18n.getText(\"moveTileDialog_action\"),press:function(o){t.tileUuid=t.getModelTileById(t.oPageBuilderService.getTileId(e)).uuid,t.moveDialog||t.createMoveActionDialog(),t.moveDialog.getBinding(\"items\").filter([t.oGroupNotLockedFilter]),t.moveDialog.open()}}]})},destroy:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"launchpad\",\"addBookmarkTile\",this._createBookmark,this),e.unsubscribe(\"launchpad\",\"loadDashboardGroups\",this.loadPersonalizedGroups,this),e.unsubscribe(\"launchpad\",\"createGroupAt\",this._createGroupAt,this),e.unsubscribe(\"launchpad\",\"createGroup\",this._createGroup,this),e.unsubscribe(\"launchpad\",\"deleteGroup\",this._deleteGroup,this),e.unsubscribe(\"launchpad\",\"resetGroup\",this._resetGroup,this),e.unsubscribe(\"launchpad\",\"changeGroupTitle\",this._changeGroupTitle,this),e.unsubscribe(\"launchpad\",\"moveGroup\",this._moveGroup,this),e.unsubscribe(\"launchpad\",\"deleteTile\",this._deleteTile,this),e.unsubscribe(\"launchpad\",\"moveTile\",this._moveTile,this),e.unsubscribe(\"launchpad\",\"sortableStart\",this._sortableStart,this),e.unsubscribe(\"launchpad\",\"sortableStop\",this._sortableStop,this),e.unsubscribe(\"renderCatalog\",this.loadAllCatalogs,this),e.unsubscribe(\"showCatalog\",this.updateTilesAssociation,this),e.unsubscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),sap.ushell.components.flp.launchpad.getDashboardManager=void 0},_refreshTiles:function(){var e=this,t=this.oModel.getProperty(\"/groups\");jQuery.each(t,function(t,o){jQuery.each(o.tiles,function(t,o){e.oPageBuilderService.refreshTile(o.object)})})},_sortableStart:function(){this.oSortableDeferred=$.Deferred()},_createBookmark:function(e,t,o){var i=o.group?o.group.object:\"\";delete o.group,this._addRequest($.proxy(function(){var e=sap.ushell.Container.getService(\"Bookmark\").addBookmark(o,i),t=sap.ushell.resources.i18n;e.always($.proxy(this._checkRequestQueue,this)),e.done(function(){sap.ushell.Container&&sap.ushell.Container.getService(\"Message\").info(t.getText(\"tile_created_msg\"))}),e.fail(function(e){jQuery.sap.log.error(\"Failed to add bookmark\",e,\"sap.ushell.ui.footerbar.AddBookmarkButton\"),sap.ushell.Container&&sap.ushell.Container.getService(\"Message\").error(t.getText(\"fail_to_add_tile_msg\"))})},this))},_addBookmarkToModel:function(e,t,o){var i,s,n,a,r,l,u,p,d=o.tile,c=o.group;if(!o||!d)return this.bIsGroupsModelDirty=!0,void(this.bGroupsModelLoadingInProcess||this._handleBookmarkModelUpdate());if(!c)for(i=this.getModel().getProperty(\"/groups\"),p=0;p<i.length;p++)if(!0===i[p].isDefaultGroup){c=i[p].object;break}n=(s=this.oPageBuilderService).getTileType(d),a=this._getTileModel(d,s.isGroupLocked(c),n,this._addModelToTileViewUpdateQueue),r=this._getIndexOfGroupByObject(c),(l=this.oModel.getProperty(\"/groups/\"+r)).tiles.push(a),l.visibilityModes=sap.ushell.utils.calcVisibilityModes(l,!0),u=l.tiles.length,this._updateModelWithTileView(r,u),this.oModel.setProperty(\"/groups/\"+r,l)},_refreshGroupInModel:function(e,t,o){var i=sap.ushell.Container.getService(\"LaunchPage\"),s=\"Failed to refresh group with id:\"+o+\" in the model\",n=this;i.getGroups().fail(jQuery.sap.log.error(s,null,\"sap.ushell.components.flp.launchpad.DashboardManager\")).done(function(e){e.some(function(e){if(i.getGroupId(e)===o)return i.getDefaultGroup().done(function(t){var i=o===t.getId(),s=n._getGroupModel(e,i),a=n._getIndexOfGroupByObject(s.object);n.oModel.setProperty(\"/groups/\"+a,s)}),!0})})},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(e){return $.proxy(function(){var t=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){e.apply(null,t)})},this)},_addRequest:function(e){this.aRequestQueue.push(e),this.bRequestRunning||(this.bRequestRunning=!0,this.aRequestQueue.shift()())},_checkRequestQueue:function(){0===this.aRequestQueue.length?this.bRequestRunning=!1:this.aRequestQueue.shift()()},_requestFailed:function(){this.aRequestQueue=[],this.bRequestRunning=!1},_createGroup:function(e,t,o){var i=this._getGroupModel(null),s=this.oModel.getProperty(\"/groups\"),n=this.oModel;n.setProperty(\"/groupList-skipScrollToGroup\",!0),window.setTimeout(function(){n.setProperty(\"/groups/\"+s.length,i)},500),window.setTimeout(function(){n.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3)},_createGroupAt:function(e,t,o){var i,s=parseInt(o.location,10),n=this.oModel.getProperty(\"/groups\"),a=this._getGroupModel(null,!1,s===n.length,o),r=this.oModel;for(a.index=s,n.splice(s,0,a),i=0;i<n.length-1;i++)n[i].isLastGroup=!1;for(i=s+1;i<n.length;i++)n[i].index++;r.setProperty(\"/groups\",n)},_getIndexOfGroup:function(e){var t=null,o=this.oModel.getProperty(\"/groups\");return jQuery.each(o,function(o,i){if(i.groupId===e)return t=o,!1}),t},_getIndexOfGroupByObject:function(e){var t=null,o=this.oModel.getProperty(\"/groups\"),i=this.oPageBuilderService.getGroupId(e);return o.forEach(function(e,o){if(this.oPageBuilderService.getGroupId(e.object)===i)return t=o,!1}.bind(this)),t},_getPathOfGroup:function(e){return\"/groups/\"+this._getIndexOfGroup(e)},_getPathOfTile:function(e){var t=this.oModel.getProperty(\"/groups\"),o=null,i=null;return jQuery.each(t,function(t,s){if(jQuery.each(s.tiles,function(s,n){if(n.uuid===e)return o=t,i=s,!1}),null!==o)return!1}),null!==o?\"/groups/\"+o+\"/tiles/\"+i:null},_moveInArray:function(e,t,o){if(o>=e.length)for(var i=o-e.length;1+i--;)e.push(void 0);e.splice(o,0,e.splice(t,1)[0])},_updateGroupIndices:function(e){var t;for(t=0;t<e.length;t++)e[t].index=t},_deleteGroup:function(e,t,o){var i,s,n,a,r,l,u=this,p=o.groupId,d=this.oModel.getProperty(\"/groups\"),c=this._getIndexOfGroup(p),h=d.length-1===c;r=h?c-1:c,this._destroyGroupModel(\"/groups/\"+c),s=d.splice(c,1)[0].object,h&&this.oModel.setProperty(\"/groups/\"+r+\"/isLastGroup\",h),i=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(s),(a=this.oModel).setProperty(\"/groupList-skipScrollToGroup\",!0),a.setProperty(\"/groups\",d),this._updateGroupIndices(d),r>=0&&(l=sap.ui.getCore().getEventBus(),window.setTimeout($.proxy(l.publish,l,\"launchpad\",\"scrollToGroup\",{groupId:this.oModel.getProperty(\"/groups\")[r].groupId}),200)),window.setTimeout(function(){a.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3),this._addRequest($.proxy(function(){var e=sap.ushell.Container.getService(\"LaunchPage\").getGroupTitle(s);try{n=this.oPageBuilderService.removeGroup(s)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_delete_group_msg\")}n.done(function(){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.DELETE_GROUP,[e,i]),this._showLocalizedMessage(\"group_deleted_msg\",[e])}.bind(this)),n.fail(this._handleAfterSortable(u._resetGroupsOnFailureHelper(\"fail_to_delete_group_msg\"))),n.always($.proxy(this._checkRequestQueue,this))},this))},_resetGroup:function(e,t,o){var i,s,n,a,r=this,l=o.groupId,u=this._getIndexOfGroup(l),p=this.oModel.getProperty(\"/groups/\"+u);this.oModel.setProperty(\"/groups/\"+u+\"/sortable\",!1),s=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(p.object),i=sap.ushell.Container.getService(\"LaunchPage\").getGroupTitle(p.object),this._addRequest($.proxy(function(){try{n=this.oPageBuilderService.resetGroup(p.object)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_reset_group_msg\")}n.done(this._handleAfterSortable($.proxy(function(e,t,o){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.RESET_GROUP,[i,s]);var n=r._getIndexOfGroup(e);this._loadGroup(n,o||t.object,this._addAndUpdateModelWithTileView),this._showLocalizedMessage(\"group_reset_msg\",[t.title]),this.oModel.setProperty(\"/groups/\"+n+\"/sortable\",!0),(a=sap.ui.getCore().byId(\"dashboardGroups\").getGroupControlByGroupId(e))&&a.rerender()},this,l,p))),n.fail(this._handleAfterSortable(r._resetGroupsOnFailureHelper(\"fail_to_reset_group_msg\"))),n.always($.proxy(this._checkRequestQueue,this))},this))},_moveGroup:function(e,t,o){var i,s,n,a,r,l=o.fromIndex,u=o.toIndex,p=this.oModel.getProperty(\"/groups\"),d=this.oModel,c=this.oModel.getProperty(\"/tileActionModeActive\"),h=this;for(c||(l=this._adjustFromGroupIndex(l,p)),s=p[l],n=s.groupId,c||(u=this._adjustToGroupIndex(u,p,n)),r=p[u].object,this._moveInArray(p,l,u),this._updateGroupIndices(p),d.setProperty(\"/groupList-skipScrollToGroup\",!0),a=0;a<p.length-1;a++)p[a].isLastGroup=!1;p[p.length-1].isLastGroup=!0,d.setProperty(\"/groups\",p),window.setTimeout(function(){d.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3),this._addRequest($.proxy(function(){var e=this.oModel.getProperty(this._getPathOfGroup(n));try{this._getOriginalGroupIndex(r).done(function(t){(i=this.oPageBuilderService.moveGroup(e.object,t)).done(function(){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(h.analyticsConstants.PERSONALIZATION,h.analyticsConstants.MOVE_GROUP,[e.title,l,u,n])}),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_move_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))}.bind(this))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_move_group_msg\")}},this))},_adjustToGroupIndex:function(e,t,o){var i=0,s=!1,n=0;for(n=0;n<t.length&&i<e;n++)t[n].isGroupVisible&&(t[n].groupId===o?s=!0:i++);return s?n-1:n},_adjustFromGroupIndex:function(e,t){var o,i=0;for(o=0;o<t.length;o++)if(t[o].isGroupVisible&&i++,i===e+1)return o;return e},_getOriginalGroupIndexByIndex:function(e){var t=this.oModel.getProperty(\"/groups\")[e].object;return this._getOriginalGroupIndex(t)},_getOriginalGroupIndex:function(e){var t=this.oPageBuilderService,o=this,i=this.oPageBuilderService.getGroups(),s=new jQuery.Deferred;return i.done(function(o){var i=null;jQuery.each(o,function(o,s){if(t.getGroupId(s)===t.getGroupId(e))return i=o,!1}),s.resolve(i)}),i.fail(function(){o._showLocalizedErrorHelper(\"fail_to_load_groups_msg\")(),s.reject()}),s},_changeGroupTitle:function(e,t,o){var i,s=o.newTitle,n=this.oModel.getProperty(\"/groups\"),a=o.groupId,r=o.groupId,l=this._getIndexOfGroup(a),u=this.oModel.getProperty(\"/groups/\"+l),p=u.title,d=this;this.oModel.setProperty(\"/groups/\"+l+\"/title\",s),u.object?(this._addRequest($.proxy(function(){try{i=this.oPageBuilderService.setGroupTitle(u.object,s)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_rename_group_msg\")}i.done(function(){r=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(u.object),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(d.analyticsConstants.PERSONALIZATION,d.analyticsConstants.RENAME_GROUP,[p,s,r])}),i.fail(this._handleAfterSortable($.proxy(function(e,t){var o=this._getPathOfGroup(e);this._showLocalizedError(\"fail_to__msg\"),this.oModel.setProperty(o+\"/title\",t),this._requestFailed()},this,a)))},this)),i&&i.always($.proxy(this._checkRequestQueue,this))):this._addRequest($.proxy(function(){try{this.oGroupCreatedDeferred=new jQuery.Deferred,l===n.length-1?((i=this.oPageBuilderService.addGroup(s,l)).done(this._handleAfterSortable($.proxy(function(e,t){l=this._getIndexOfGroup(e),this._createGroupUpdate(e,l,t),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(d.analyticsConstants.PERSONALIZATION,d.analyticsConstants.RENAME_GROUP,[p,s,e])},this,a))),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))):this._getOriginalGroupIndexByIndex(l+1).done(function(e){(i=this.oPageBuilderService.addGroupAt(s,e)).done(this._handleAfterSortable($.proxy(function(e,t){l=this._getIndexOfGroup(e),this._createGroupUpdate(e,l,t),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(d.analyticsConstants.PERSONALIZATION,d.analyticsConstants.RENAME_GROUP,[p,s,e])},this,a))),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))}.bind(this))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_create_group_msg\")}},this))},_createGroupUpdate:function(e,t,o){t=this._getIndexOfGroup(e),this._loadGroup(t,o),this.oGroupCreatedDeferred.resolve()},createTile:function(e){var t,o,i=e.catalogTileContext,s=e.groupContext,n=this.oModel.getProperty(s.getPath()),a=n.groupId,r=jQuery.Deferred(),l={};if(sap.ui.getCore().getEventBus(),o=sap.ui.getCore().getEventBus(),$.proxy(o.publish,o,\"launchpad\",\"addTile\",{catalogTileContext:i,groupContext:s}),i)return this._addRequest($.proxy(function(){try{t=this.oPageBuilderService.addTile(i.getProperty(\"src\"),s.getProperty(\"object\"))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_add_tile_msg\")}var e=this;t.done(function(t){var o=e._getPathOfGroup(a),i=sap.ushell.Container.getService(\"LaunchPage\").getTileTitle(t);e._addTileToGroup(o,t),l={group:n,status:1,action:\"add\"},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(e.analyticsConstants.PERSONALIZATION,e.analyticsConstants.ADD_TILE,[n.title,i]),r.resolve(l)}).fail(function(){l={group:n,status:0,action:\"add\"},r.resolve(l)}).always(function(){e._checkRequestQueue()})},this)),r.promise();jQuery.sap.log.warning(\"DashboardManager: Did not receive catalog tile object. Abort.\",this)},createGroup:function(e){var t,o,i,s,n,a,r,l,u=jQuery.Deferred();return sap.ushell.utils.validHash(e)?(t=this._getGroupModel(null,!1,!0),o=this.oModel.getProperty(\"/groups\"),i=t.groupId,(s=o.length)>0&&(o[s-1].isLastGroup=!1),t.title=e,t.index=s,t.editMode=!1,o.push(t),this.oModel.setProperty(\"/groups/\",o),this._addRequest(function(e){try{n=this.oPageBuilderService.addGroup(e)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_create_group_msg\")}n.done(this._handleAfterSortable(function(e,t){a=this._getIndexOfGroup(e),this._loadGroup(a,t),r=new sap.ui.model.Context(this.oModel,\"/groups/\"+a),u.resolve(r)}.bind(this,i))),n.fail(function(e){this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\")),l={group:e.group,status:0,action:\"createNewGroup\"},u.resolve(l)}.bind(this)),n.always($.proxy(this._checkRequestQueue,this))}.bind(this,e)),u.promise()):u.reject({status:0,action:\"createNewGroup\"})},createGroupAndSaveTile:function(e){var t=e.catalogTileContext,o=e.newGroupName,i=jQuery.Deferred(),s={};return sap.ushell.utils.validHash(o)&&t&&this.createGroup(o).then(function(e){this.createTile({catalogTileContext:t,groupContext:e}).done(function(e){s={group:e.group,status:1,action:\"addTileToNewGroup\"},i.resolve(s)}).fail(function(e){s={group:e.group,status:0,action:\"addTileToNewGroup\"},i.resolve(s)})}.bind(this)),i.promise()},_deleteTile:function(e,t,o){var i=this,s=o.tileId||o.originalTileId,n=this.oModel.getProperty(\"/groups\");jQuery.each(n,function(e,t){var o=!1;if(jQuery.each(t.tiles,function(n,a){if(a.uuid===s||a.originalTileId===s){i._destroyTileModel(\"/groups/\"+e+\"/tiles/\"+n);var r,l=t.tiles.splice(n,1)[0],u=sap.ushell.Container.getService(\"LaunchPage\").getTileTitle(l.object),p=sap.ushell.Container.getService(\"LaunchPage\").getCatalogTileId(l.object),d=sap.ushell.Container.getService(\"LaunchPage\").getCatalogTileTitle(l.object),c=sap.ushell.Container.getService(\"LaunchPage\").getTileId(l.object),h=i.oModel.getProperty(\"/personalization\");return t.visibilityModes=sap.ushell.utils.calcVisibilityModes(t,h),i.oModel.setProperty(\"/groups/\"+e,t),i._addRequest(function(){try{r=i.oPageBuilderService.removeTile(t.object,l.object)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_remove_tile_msg\")}r.done(i._handleAfterSortable(function(){i._showLocalizedMessage(\"tile_deleted_msg\",[u,t.title]),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(i.analyticsConstants.PERSONALIZATION,i.analyticsConstants.DELETE_TILE,[u||c,p,d,t.title])})),r.fail(i._handleAfterSortable(i._resetGroupsOnFailureHelper(\"fail_to_remove_tile_msg\"))),r.always($.proxy(i._checkRequestQueue,i))}),sap.ushell.utils.handleTilesVisibility(),o=!0,!1}}),o)return!1})},_sendDeleteTileRequest:function(e,t){var o,i=sap.ushell.Container.getService(\"LaunchPage\");try{o=i.removeTile(e,t.object)}catch(e){jQuery.sap.log.error(\"deleteCatalogTileFromGroup ; removeTile ; Exception occurred: \"+e)}return o},deleteCatalogTileFromGroup:function(e){var t,o,i,s=this,n=decodeURIComponent(e.tileId),a=e.groupIndex,r=this.oModel.getProperty(\"/groups/\"+a),l=sap.ushell.Container.getService(\"LaunchPage\"),u=jQuery.Deferred(),p=[];return t=r.tiles.filter(function(e){var t;return l.getCatalogTileId(e.object)!==n||(o=jQuery.Deferred(),(i=s._sendDeleteTileRequest(r.object,e)).done((t=o,function(){t.resolve({status:!0})})),i.fail(function(e){return function(){e.resolve({status:!1})}}(o)),p.push(o),!1)}),r.tiles=t,r.visibilityModes=sap.ushell.utils.calcVisibilityModes(r,!0),jQuery.when.apply(jQuery,p).done(function(e){for(var t=!0,o=0,i=p.length;o<i;o++)if(!e.status){t=!1;break}t&&s.oModel.setProperty(\"/groups/\"+a,r),u.resolve({group:r,status:t,action:\"remove\"})}),u.promise()},_moveTile:function(e,t,o){var i,s,n,a,r,l,u,p,d,c,h,g=o.toIndex,f=o.toGroupId,m=o.sTileId,y=o.source,v=this.oModel.getProperty(\"/groups\");if(jQuery.each(v,function(e,t){var o=!1;if(jQuery.each(t.tiles,function(r,l){if(l.uuid===m)return i=l,s=r,n=t,a=e,o=!0,!1}),o)return!1}),jQuery.each(v,function(e,t){t.groupId===f&&(r=t,l=e)}),n.groupId!=r.groupId||\"moveDialog\"!==y&&null!==g)if(g&&g>r.tiles.length&&(g=r.tiles.length),n.groupId===f?(null===g||void 0===g?(n.tiles.splice(s,1),g=n.tiles.length,n.tiles.push(i)):(g=this._adjustTileIndex(g,i,n),this._moveInArray(n.tiles,s,g)),this.oModel.setProperty(\"/groups/\"+a+\"/tiles\",n.tiles)):(d=this.oModel.getProperty(\"/personalization\"),n.tiles.splice(s,1),n.visibilityModes=sap.ushell.utils.calcVisibilityModes(n,d),this.oModel.setProperty(\"/groups/\"+a+\"/tiles\",n.tiles),null===g||void 0===g?(g=r.tiles.length,r.tiles.push(i)):(g=this._adjustTileIndex(g,i,r),r.tiles.splice(g,0,i)),r.visibilityModes=sap.ushell.utils.calcVisibilityModes(r,d),this.oModel.setProperty(\"/groups/\"+l+\"/tiles\",r.tiles)),sap.ushell.utils.handleTilesVisibility(),u=this.oModel.getProperty(\"/groups/\"+a).object,!(p=this.oModel.getProperty(\"/groups/\"+l).object)&&this.oGroupCreatedDeferred&&\"pending\"===this.oGroupCreatedDeferred.state()){if(void 0===this.aMoveTileCallsData&&(this.aMoveTileCallsData=[]),this.aMoveTileCallsData.push({sTileId:m,oTile:i,nTileIndex:s,nNNewIndex:g,oSourceGroup:u,nNewGroupIndex:l}),this.aMoveTileCallsData.length>1)return;this.oGroupCreatedDeferred.promise().done(function(){if(void 0!==this.aMoveTileCallsData&&this.aMoveTileCallsData.length>0){for(p=this.oModel.getProperty(\"/groups/\"+l).object,c=0;c<this.aMoveTileCallsData.length;c++)h=this.aMoveTileCallsData[c],this._moveTileRequest(h.sTileId,h.oTile,h.nTileIndex,h.nNewIndex,h.oSourceGroup,h.nNewGroupIndex,p,!0);this.aMoveTileCallsData=void 0,this.oGroupCreatedDeferred=void 0}}.bind(this))}else this._moveTileRequest(m,i,s,g,u,l,p,!1)},_moveTileRequest:function(e,t,o,i,s,n,a,r){var l,u,p,d,c=sap.ushell.Container.getService(\"LaunchPage\");this._addRequest($.proxy(function(){try{l=this.oPageBuilderService.moveTile(t.object,o,i,s,a)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_move_tile_msg\")}t.tileIsBeingMoved=!0,l.done(this._handleAfterSortable($.proxy(function(e,o){d=[c.getTileTitle(t.object),c.getGroupTitle(s),c.getGroupTitle(a),e],sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.MOVE_TILE,d),(u=this._getPathOfTile(e))&&(this.oModel.setProperty(u+\"/object\",o),this.oModel.setProperty(u+\"/originalTileId\",this.oPageBuilderService.getTileId(o)),this.oPageBuilderService.getTileView(o).done(function(e){p=this.oModel.getProperty(u+\"/content\"),this.oModel.setProperty(u+\"/content\",[e]),p&&p[0]&&p[0].destroy(),this.oModel.setProperty(u+\"/tileIsBeingMoved\",!1)}.bind(this))),r&&this._loadGroup(n,a),this.updateTilesAssociation()},this,e))),l.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_move_tile_msg\"))),l.always($.proxy(this._checkRequestQueue,this))},this))},_adjustTileIndex:function(e,t,o){var i=0,s=!1,n=0;for(n=0;n<o.tiles.length&&i<e;n++)o.tiles[n].isTileIntentSupported&&(o.tiles[n]===t?s=!0:i++);return s?n-1:n},getModel:function(){return this.oModel},getDashboardView:function(){return this.oDashboardView},updateTilesAssociation:function(){this.mapCatalogTilesToGroups(),this.updateCatalogTilesToGroupsMap()},loadAllCatalogs:function(e,t,o){var i,s=new jQuery.Deferred,n=this;s.resolve(),i=function(){s.done(function(){var e=n.getModel().getProperty(\"/groups\");e&&0!==e.length&&n.updateTilesAssociation()})},this.oModel.getProperty(\"/catalogs\")?i():(this.oModel.getProperty(\"/groups\")&&0!==this.oModel.getProperty(\"/groups\").length||(s=this.loadPersonalizedGroups()),this._destroyAllGroupModels(\"/catalogs\"),this._destroyAllTileModels(\"/catalogTiles\"),this.oModel.setProperty(\"/catalogs\",[]),this.oModel.setProperty(\"/catalogTiles\",[]),this.aPromises=[],sap.ushell.Container.getService(\"LaunchPage\").getCatalogs().done(function(e){jQuery.when.apply(jQuery,this.aPromises).then(this.onDoneLoadingCatalogs(e)),i()}.bind(this)).fail(n._showLocalizedErrorHelper(\"fail_to_load_catalog_msg\")).progress(this.addCatalogToModel.bind(this)))},updateCatalogTilesToGroupsMap:function(){var e,t,o,i,s=this.getModel().getProperty(\"/catalogTiles\"),n=sap.ushell.Container.getService(\"LaunchPage\");if(s)for(t=0;t<s.length;t++)e=s[t],o=encodeURIComponent(n.getCatalogTileId(e.src)),i=this.getModel().getProperty(\"/catalogTiles/\"+t+\"/associatedGroups\"),i=this.oTileCatalogToGroupsMap[o]||[],s[t].associatedGroups=i;this.getModel().setProperty(\"/catalogTiles\",s)},addCatalogToModel:function(e){var o,i,s=this.oModel.getProperty(\"/catalogs\"),n=sap.ushell.Container.getService(\"LaunchPage\"),a=n.getCatalogId(e),r=!1;s.forEach(function(e){e.id===a&&(r=!0)}),r||(o={title:n.getCatalogTitle(e),id:n.getCatalogId(e),static:!1,tiles:[],numberOfTiles:0},i=n.getCatalogTiles(e),this.aPromises.push(i),i.done(function(i){if(i.length){var n,a={catalog:o.title,id:o.id,index:s.length,numberOfExistingTiles:0};(n=function(){if(!this.oModel.getProperty(\"/isCatalogInUpdate\")){this.oModel.setProperty(\"/isCatalogInUpdate\",!0);var r,l=this.searchModelCatalogByTitle(o.title);return l.result?(a.index=l.indexOfPreviousInstanceInModel,a.numberOfExistingTiles=l.numOfTilesInCatalog,this.setCatalogTiles(\"/catalogTiles\",!0,a,i),r=this.oModel.getProperty(\"/catalogs\"),(e=r[l.indexOfPreviousInstanceInModel]).numIntentSupportedTiles=t.call(this,o),e.numberOfTiles=l.numOfTilesInCatalog+i.length,s[l.indexOfPreviousInstanceInModel]=e):(this.setCatalogTiles(\"/catalogTiles\",!0,a,i),o.numIntentSupportedTiles=t.call(this,o),o.numberOfTiles=i.length,s.push(o)),this.oModel.setProperty(\"/catalogs\",s),void this.oModel.setProperty(\"/isCatalogInUpdate\",!1)}setTimeout(n,50)}.bind(this))()}}.bind(this)).fail(this._showLocalizedErrorHelper(\"fail_to_load_catalog_tiles_msg\")))},searchModelCatalogByTitle:function(e){var t,o=this.oModel.getProperty(\"/catalogs\"),i=!1,s=0,n=!1;return $.each(o,function(o,a){if(a.title===sap.ushell.resources.i18n.getText(\"catalogsLoading\"))n=!0;else if(e==a.title)return t=o,s=a.numberOfTiles,i=!0,!1}),{result:i,indexOfPreviousInstanceInModel:t,indexOfPreviousInstanceInPage:n?t-1:t,numOfTilesInCatalog:s}},getTagList:function(e){var t,o,i,s={},n=0,a=[];for(n=0;n<this.tagsPool.length;n++)s[o=this.tagsPool[n]]?s[o]++:s[o]=1;for(t in s)a.push({tag:t,occ:s[t]});0===(i=a.sort(function(e,t){return t.occ-e.occ})).length&&this.oModel.setProperty(\"/tagFiltering\",!1),e?this.oModel.setProperty(\"/tagList\",i.slice(0,e)):this.oModel.setProperty(\"/tagList\",i)},onDoneLoadingCatalogs:function(t){t.length||this.oModel.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noCatalogs\"));var o,i=sap.ushell.Container.getService(\"LaunchPage\");t.filter(function(e){return!i.getCatalogError(e)}).length!==t.length&&this._showLocalizedError(\"partialCatalogFail\"),!0===this.oModel.getProperty(\"/tagFiltering\")&&this.getTagList(),(o=this.oModel.getProperty(\"/catalogs\"))[0]&&o[0].title===sap.ushell.resources.i18n.getText(\"catalogsLoading\")&&o.splice(0,1),o.splice(0,0,{title:e(\"catalogSelect_initial_selection\"),static:!0,tiles:[],numIntentSupportedTiles:-1}),this.oModel.setProperty(\"/catalogs\",o),sap.ushell.utils.handleTilesVisibility()},setCatalogTiles:function(e,t,o,i){var s=sap.ushell.Container.getService(\"LaunchPage\"),n=$.map(i,function(e,t){var i,n=encodeURIComponent(s.getCatalogTileId(e)),a=this.oTileCatalogToGroupsMap[n]||[],r=s.getCatalogTileTags(e)||[];return r.length>0&&(this.tagsPool=this.tagsPool.concat(r)),i=s.getCatalogTileView(e),{associatedGroups:a,src:e,catalog:o.catalog,catalogIndex:this.calculateCatalogTileIndex(o.index,o.numberOfExistingTiles,t),catalogId:o.id,title:s.getCatalogTileTitle(e),tags:r,keywords:(s.getCatalogTileKeywords(e)||[]).join(\",\"),id:n,size:s.getCatalogTileSize(e),content:[i],isTileIntentSupported:s.isTileIntentSupported(e)}}.bind(this));this.oModel.setProperty(e,$.merge(t&&this.oModel.getProperty(e)||[],n))},calculateCatalogTileIndex:function(e,t,o){var i=parseInt(1e5*e,10);return i+=(void 0!==t?t:0)+o},mapCatalogTilesToGroups:function(){this.oTileCatalogToGroupsMap={};var e,t,o,i,s,n,a=this.oModel.getProperty(\"/groups\"),r=sap.ushell.Container.getService(\"LaunchPage\"),l=0;for(l=0;l<a.length;l++)if(o=(e=a[l]).tiles)for(t=0;t<o.length;++t)i=encodeURIComponent(r.getCatalogTileId(o[t].object)),s=this.oTileCatalogToGroupsMap[i]||[],n=r.getGroupId(e.object),-1!==s.indexOf(n)||void 0!==e.isGroupVisible&&!e.isGroupVisible||e.isGroupLocked||s.push(n),this.oTileCatalogToGroupsMap[i]=s},_showLocalizedMessage:function(t,o,i){sap.ushell.Container.getService(\"Message\").show(i||sap.ushell.services.Message.Type.INFO,e(t,o),o)},_showLocalizedError:function(e,t){this._showLocalizedMessage(e,t,sap.ushell.services.Message.Type.ERROR)},_showLocalizedErrorHelper:function(e,t){var o=this;return function(){o._showLocalizedError(e,t)}},_resetGroupsOnFailureHelper:function(e){var t=this;return function(o){t._showLocalizedError(e),t._requestFailed(),setTimeout(function(){t.loadGroupsFromArray(o)})}},_resetGroupsOnFailure:function(e,t){this._requestFailed(),this._showLocalizedError(e,t),this.loadPersonalizedGroups(),this.oModel.updateBindings(!0)},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments)},_bindSegment:function(e,t){var o,i,s;for(o=0;o<t.length;o++)(i=e[(s=t[o]).index]).isRendered=!0,i.tiles=i.tiles.concat(s.tiles),i.links=i.links.concat(s.links);return e},createGroupsModelFrame:function(e,t){var o,i,s,n=[];for(s=function(e){var t=jQuery.extend({},e);return t.tiles=[],t.links=[],t},o=0;o<e.length;o++)i=e[o],n[o]=s(i),n[o].isRendered=!1,n[o].visibilityModes=sap.ushell.utils.calcVisibilityModes(i,t);return n},_splitGroups:function(e,t,o){var i,s,n,a,r,l,u,p=e,d=o,c=[],h=[\"tiles\",\"links\"],g=1;for(l=function(e){var t=jQuery.extend({},e);return t.tiles=[],t.links=[],t},i=0;i<t.length;i++)for(n=l(u=t[i]),c.push(n),a=0;a<h.length;a++)for(r=h[a],g=this.PagingManager.getSizeofSupportedElementInUnits(\"links\"===r?\"link\":\"tile\"),s=0;s<u[r].length;s++)d<=0&&(d=p,c&&this.segmentsStore.push(c),n=l(u),(c=[]).push(n)),n[r].push(u[r][s]),d-=g;c&&this.segmentsStore.push(c)},_processSegment:function(e){var t,o,i,s=sap.ui.getCore().getEventBus();this.segmentsStore.length>0?(i=e[o=(t=this.segmentsStore.shift())[0].index].tiles.length+e[o].links.length,e=this._bindSegment(e,t),this.oModel.setProperty(\"/groups\",e),this._updateModelWithTileView(o,i),this._handleSegment()):(this._updateModelWithTileView(0,0),sap.ushell.utils.handleTilesVisibility(),s.publish(\"launchpad\",\"dashboardModelContentLoaded\"))},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=!1,this.bGroupsModelLoadingInProcess=!0,this.loadPersonalizedGroups()},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=!1,this.bIsGroupsModelDirty&&this._handleBookmarkModelUpdate()},_handleSegment:function(){clearTimeout(this.oSegmentTimer),this.oSegmentTimer=setTimeout(function(){this._processSegment(this.oModel.getProperty(\"/groups\"))}.bind(this),100)},loadGroupsFromArray:function(e){var t=this;this.oPageBuilderService.getDefaultGroup().done(function(o){if(0!=e.length||void 0!=o){var i,s,n,a,r,l,u,p,d,c,h=0,g=[],f=e.indexOf(o),m=[],y=5,v=10,C=15,b=0,T=0;for(e.splice(f,1);h<e.length;)a=e[h],t.oPageBuilderService.isGroupLocked(a)?(g.push(a),e.splice(h,1)):h++;for(s=g.length,t.oModel.getProperty(\"/disableSortedLockedGroups\")||g.sort(function(e,o){return t.oPageBuilderService.getGroupTitle(e).toLowerCase()<t.oPageBuilderService.getGroupTitle(o).toLowerCase()?-1:1}),(i=g).push(o),i.push.apply(i,e),r=(e=i).length,l=t.oModel.getProperty(\"/groups/length\"),t.oModel.setProperty(\"/groups/indexOfDefaultGroup\",s),h=r;h<l;++h)t._destroyGroupModel(\"/groups/\"+h);for(t.PagingManager||(jQuery.sap.require(\"sap.ushell.components.flp.launchpad.PagingManager\"),t.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager(\"dashboardPaging\",{supportedElements:{tile:{className:\"sapUshellTile\"},link:{className:\"sapUshellLinkTile\"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth}),0===t.PagingManager.currentPageIndex&&(t.PagingManager.moveToNextPage(),b=t.PagingManager._calcElementsPerPage())),p=t.PagingManager.getSizeofSupportedElementInUnits(\"link\"),d=t.PagingManager.getSizeofSupportedElementInUnits(\"tile\"),h=0;h<r;++h)(n=t._getGroupModel(e[h],h===s,h===r-1)).index=h,T+=n.tiles.length*d+n.links.length*p,m.push(n);(u=(T-b)/(sap.ui.Device.system.desktop?y:sap.ui.Device.system.tablet?v:C))<14&&(u=14),c=t.createGroupsModelFrame(m,t.oModel.getProperty(\"/personalization\")),t._splitGroups(u,m,b),t._processSegment(c),t.oModel.setProperty(\"/groups/length\",c.length),\"catalog\"===t.oModel.getProperty(\"/currentState/stateName\")&&(t.mapCatalogTilesToGroups(),t.updateCatalogTilesToGroupsMap())}}).fail(t._resetGroupsOnFailureHelper(\"fail_to_get_default_group_msg\"))},_loadGroup:function(e,t,o){var i,s,n=\"/groups/\"+e,a=this.oModel.getProperty(\"/groups/indexOfDefaultGroup\"),r=this.oModel.getProperty(n).isLastGroup;this._destroyGroupModel(n),i=this.oModel.getProperty(n+\"/groupId\"),s=this._getGroupModel(t,e===a,r,void 0,o),i&&(s.groupId=i),s.index=e,s.isRendered=!0,this.oModel.setProperty(n,s)},_getGroupModel:function(t,o,i,s,n){var a,r,l=this.oPageBuilderService,u=t&&l.getGroupTiles(t)||[],p=[],d=[];r=this.getModel().getProperty(\"/personalization\");var c=!(!t||!l.isGroupLocked(t));for(a=0;a<u.length;++a){var h=u[a],g=l.getTileType(h).toLowerCase();\"tile\"===g?p.push(this._getTileModel(u[a],c,g,n)):\"link\"===g?d.push(this._getTileModel(u[a],c,g,n)):jQuery.sap.log.error(\"Unknown tile type: '\"+g+\"'\",void 0,\"sap.ushell.components.flp.launchpad.DashboardManager\")}return{title:o&&e(\"my_group\")||t&&l.getGroupTitle(t)||s&&s.title||\"\",object:t,groupId:jQuery.sap.uid(),links:d,tiles:p,isDefaultGroup:o||!1,editMode:!t,isGroupLocked:c,visibilityModes:[!0,!0],removable:!t||l.isGroupRemovable(t),sortable:r,isGroupVisible:!t||l.isGroupVisible(t),isEnabled:!o,isLastGroup:i||!1,isRendered:!!s&&!!s.isRendered}},_addTileToGroup:function(e,t){var o=e+\"/tiles\",i=this.oModel.getProperty(e),s=this.oModel.getProperty(o).length,n=this.oPageBuilderService.getTileType(t),a=this.oModel.getProperty(e+\"/isGroupLocked\"),r=this.oModel.getProperty(\"/personalization\");i.tiles[s]=this._getTileModel(t,a,n,this._addModelToTileViewUpdateQueue),i.visibilityModes=sap.ushell.utils.calcVisibilityModes(i,r),this._updateModelWithTileView(i.index,s),this.oModel.setProperty(e,i)},_addAndUpdateModelWithTileView:function(e,t){this._addModelToTileViewUpdateQueue(e,t),this._updateModelWithTileView(0,0)},_addModelToTileViewUpdateQueue:function(e,t){this.tileViewUpdateQueue.push({uuid:e,view:t})},_updateModelWithTileView:function(e,t){var o=this;this.tileViewUpdateTimeoutID&&clearTimeout(this.tileViewUpdateTimeoutID),this.tileViewUpdateTimeoutID=setTimeout(function(){o.tileViewUpdateTimeoutID=void 0,o.oSortableDeferred.done(function(){o._updateModelWithTilesViews(e,t)})},50)},_updateModelWithTilesViews:function(e,t){var o,i,s,n,a,r,l=this.oModel.getProperty(\"/groups\"),u=e||0,p=t||0,d=[];if(l&&0!==this.tileViewUpdateQueue.length){for(var c=u;c<l.length;c+=1){o=l[c].tiles,i=l[c].links,o=o.concat(i);for(var h=p;h<o.length;h+=1){s=o[h];for(var g=0;g<this.tileViewUpdateQueue.length;g++)if(n=this.tileViewUpdateQueue[g],s.uuid==n.uuid){d.push(g),n.view?(s.content[0].destroy(),s.content=[n.view],r=null!==(a=this.oPageBuilderService.getTileSize(s.object))&&\"1x2\"===a||!1,s.long!==r&&(s.long=r)):s.content[0].setState(\"Failed\");break}}}var f,m=[];for(f=0;f<this.tileViewUpdateQueue.length;f++)-1===d.indexOf(f)&&m.push(this.tileViewUpdateQueue[f]);this.tileViewUpdateQueue=m,this.oModel.setProperty(\"/groups\",l)}},getModelTileById:function(e){var t;return this.oModel.getProperty(\"/groups\").forEach(function(o){o.tiles.forEach(function(o){o.uuid!==e&&o.originalTileId!==e||(t=o)})}),t},_getTileModel:function(e,t,o,i){var s,n,a,r,l=this.oPageBuilderService,u=jQuery.sap.uid(),p=this;if(this.sTileType=o,l.setTileVisible(e,!1),(n=l.getTileView(e)).done(function(e){s=e,r&&(r.apply(p,[u,s]),p._handleSegment())}),n.fail(function(){r?(r.apply(p,[u]),p._handleSegment()):(jQuery.sap.require(\"sap.ushell.ui.launchpad.TileState\"),s=\"link\"===p.sTileType?new sap.m.Link({text:sap.ushell.resources.i18n.getText(\"cannotLoadTile\")}):new sap.ushell.ui.launchpad.TileState({state:\"Failed\"}))}),s||(r=i||this._addModelToTileViewUpdateQueue,jQuery.sap.require(\"sap.ushell.ui.launchpad.TileState\"),s=new sap.ushell.ui.launchpad.TileState({state:\"Loading\"})),\"link\"===o)a={object:e,originalTileId:l.getTileId(e),uuid:u,tileCatalogId:encodeURIComponent(l.getCatalogTileId(e)),content:[s],target:l.getTileTarget(e)||\"\",debugInfo:l.getTileDebugInfo(e),isTileIntentSupported:l.isTileIntentSupported(e),isLocked:t};else if(\"tile\"===o){var d=l.getTileSize(e);a={object:e,originalTileId:l.getTileId(e),uuid:u,tileCatalogId:encodeURIComponent(l.getCatalogTileId(e)),content:[s],long:null!==d&&\"1x2\"===d||!1,target:l.getTileTarget(e)||\"\",debugInfo:l.getTileDebugInfo(e),isTileIntentSupported:l.isTileIntentSupported(e),rgba:\"\",isLocked:t,showActionsIcon:this.oModel.getProperty(\"/tileActionsIconEnabled\")||!1}}return a},_destroyAllGroupModels:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o)for(t=0;t<o.length;t+=1)this._destroyGroupModel(o[t])},_destroyGroupModel:function(e){var t=\"string\"==typeof e?this.oModel.getProperty(e):e;t&&this._destroyAllTileModels(t.tiles)},_destroyAllTileModels:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o)for(t=0;t<o.length;t+=1)this._destroyTileModel(o[t])},_destroyTileModel:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o&&o.content)for(t=0;t<o.content.length;t+=1)o.content[t].destroy()},loadPersonalizedGroups:function(){var e=this,t=this.oPageBuilderService.getGroups(),o=new jQuery.Deferred;return t.done(function(t){e.loadGroupsFromArray(t),o.resolve()}),t.fail(function(){e._showLocalizedErrorHelper(\"fail_to_load_groups_msg\")(),o.reject()}),o}})}()},\"sap/ushell/components/flp/launchpad/PagingManager.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.PagingManager\"),sap.ui.base.EventProvider.extend(\"sap.ushell.components.flp.launchpad.PagingManager\",{metadata:{publicMethods:[\"setElementClass\",\"setContainerSize\",\"getNumberOfAllocatedElements\",\"moveToNextPage\",\"getTileHeight\"]},constructor:function(e,t){sap.ushell.components.flp.launchpad.getPagingManager=jQuery.sap.getter(this.getInterface()),this.currentPageIndex=0,this.containerHeight=t.containerHeight||0,this.containerWidth=t.containerWidth||0,this.supportedElements=t.supportedElements||\"\",this.tileHeight=0},getTileHeight:function(){return this.tileHeight},setElementClass:function(e){this.supportedElements=e},setContainerSize:function(e,t){var o=this.getNumberOfAllocatedElements();this.containerHeight=e,this.containerWidth=t,this._changePageSize(o)},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex},_changePageSize:function(e){this.currentPageIndex=Math.ceil(e/this._calcElementsPerPage())},moveToNextPage:function(){this.currentPageIndex++},getSizeofSupportedElementInUnits:function(e){return this.supportedElements[e].sizeInBaseUnits},_calcElementMatrix:function(e){var t=jQuery(\"<div>\").addClass(e);jQuery(\"body\").append(t);var o=t.height(),i=t.width();return(o<20||i<40)&&(i=40,o=20),t.remove(),{width:i,height:o}},_calcElementsPerPage:function(){var e,t,o,i,s,n,a;for(e in this.supportedElements)i=this.supportedElements[e],o=this._calcElementMatrix(i.className),i.matrix=o,t?(t.width=t.width>o.width?o.width:t.width,t.height=t.height>o.height?o.height:t.height):t={width:o.width,height:o.height};for(e in this.supportedElements)s=(i=this.supportedElements[e]).matrix,i.sizeInBaseUnits=Math.round(s.width/t.width*s.height/t.height);return n=Math.round(this.containerWidth/t.width),(a=Math.round(this.containerHeight/t.height))&&n&&n!==1/0&&a!==1/0&&0!==n&&0!==a?a*n:10}})}()},\"sap/ushell/components/flp/launchpad/appfinder/AppFinder.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.launchpad.AccessibilityCustomData\"),sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\",{onInit:function(){sap.ushell.Container.getRenderer(\"fiori2\").createExtendedShellState(\"appFinderExtendedShellState\",function(){sap.ushell.Container.getRenderer(\"fiori2\").showHeaderItem(\"homeBtn\",!0);var e=sap.ui.Device.system.phone;sap.ushell.Container.getRenderer(\"fiori2\").setHeaderHiding(e)});var e=this,t=this.getView(),o=t.getModel();o.getProperty(\"/groups\")&&0!==o.getProperty(\"/groups\").length||sap.ushell.components.flp.launchpad.getDashboardManager().loadPersonalizedGroups();var i=t.enableEasyAccess;this.oRouter=this.getView().parentComponent.getRouter(),this.catalogView=sap.ui.view(\"catalogView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",height:\"100%\",viewData:{parentComponent:t.parentComponent}}),this.catalogView.addStyleClass(\"sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce\"),this._addViewCustomData(this.catalogView,\"appFinderCatalogTitle\"),this.oRouter.getRoute(\"catalog\").attachPatternMatched(function(t){e._navigateTo.apply(e,[\"appFinder\",\"catalog\"])}),this.oRouter.getRoute(\"appFinder\").attachPatternMatched(function(t){e._applyExtendedShellstate(),e._getPathAndHandleGroupContext(t),e.oView.isFiori2&&e._updateShellHeader(e.oView.oPage.getTitle()),i&&e.onShow(t),sap.ui.getCore().getEventBus().publish(\"showCatalog\")}),i||(this.currentMenu=\"catalog\",t.oPage.addContent(this.catalogView))},_applyExtendedShellstate:function(){setTimeout(function(){sap.ushell.Container&&sap.ushell.Container.getRenderer(\"fiori2\").applyExtendedShellState(\"appFinderExtendedShellState\")},0)},getCurrentMenuName:function(){return this.currentMenu},_navigateTo:function(e,t){var o=this.oView.getModel().getProperty(\"/groupContext\"),i=o?o.path:null;i?this.oRouter.navTo(e,{menu:t,filters:JSON.stringify({targetGroup:encodeURIComponent(i)})},!0):this.oRouter.navTo(e,{menu:t},!0)},getSystemsModel:function(){if(this.getSystemsPromise)return this.getSystemsPromise;var e=new sap.ui.model.json.JSONModel;return e.setProperty(\"/systemSelected\",null),e.setProperty(\"/systemsList\",[]),this.getSystemsPromise=this.getSystems().then(function(t){return e.setProperty(\"/systemsList\",t),e}),this.getSystemsPromise},onSegmentButtonClick:function(e){switch(e.getParameters().id){case\"catalog\":this._navigateTo(\"appFinder\",\"catalog\");break;case\"userMenu\":this._navigateTo(\"appFinder\",\"userMenu\");break;case\"sapMenu\":this._navigateTo(\"appFinder\",\"sapMenu\")}},onShow:function(e){var t=e.getParameter(\"arguments\").menu;if(t!==this.getCurrentMenuName()){this.currentMenu=t;var o=this.getView();o.segmentedButton.setSelectedButton(t),\"catalog\"===t?(o.oPage.removeAllContent(),o.oPage.addContent(this.catalogView)):this.getSystemsModel().then(function(e,t){\"userMenu\"===e?(this.userMenuView||(this.userMenuView=new sap.ui.view(\"userMenuView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",height:\"100%\",viewData:{menuName:\"USER_MENU\",easyAccessSystemsModel:t,parentComponent:o.parentComponent}}),this._addViewCustomData(this.userMenuView,\"appFinderUserMenuTitle\")),o.oPage.removeAllContent(),o.oPage.addContent(this.userMenuView)):\"sapMenu\"===e&&(this.sapMenuView||(this.sapMenuView=new sap.ui.view(\"sapMenuView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",height:\"100%\",viewData:{menuName:\"SAP_MENU\",easyAccessSystemsModel:t,parentComponent:o.parentComponent}}),this._addViewCustomData(this.sapMenuView,\"appFinderSapMenuTitle\")),o.oPage.removeAllContent(),o.oPage.addContent(this.sapMenuView))}.bind(this,this.currentMenu))}},_getPathAndHandleGroupContext:function(e){var t=e.getParameter(\"arguments\").filters,o=t?JSON.parse(t):t,i=o&&decodeURIComponent(o.targetGroup)||\"\";i=\"undefined\"===i?void 0:i,this._updateModelWithGroupContext(i)},_updateModelWithGroupContext:function(e){var t,o=sap.ushell.Container.getService(\"LaunchPage\"),i=this.oView.getModel(),s={path:e,id:\"\",title:\"\"};if(e&&\"\"!==e){var n=function(){if(i.getProperty(\"/groups\").length)return t=i.getProperty(e),s.id=o.getGroupId(t.object),void(s.title=t.title||o.getGroupTitle(t.object));setTimeout(n,100)};n()}i.setProperty(\"/groupContext\",s)},getSystems:function(){var e=new jQuery.Deferred,t=[],o=sap.ushell.Container.getService(\"ClientSideTargetResolution\");return o?o.getEasyAccessSystems().done(function(o){for(var i=Object.keys(o),s=0;s<i.length;s++){var n=i[s];t[s]={systemName:o[n].text,systemId:n}}e.resolve(t)}).fail(function(t){e.reject(\"An error occurred while retrieving the systems: \"+t)}):e.reject(\"cannot get ClientSideTargetResolution service\"),e.promise()},_addViewCustomData:function(e,t){var o=sap.ushell.resources.i18n;e.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"role\",value:\"main\",writeToDom:!0})),e.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"aria-label\",value:o.getText(t),writeToDom:!0}))},_initializeShellUIService:function(){jQuery.sap.require(\"sap.ushell.ui5service.ShellUIService\"),this.oShellUIService=new sap.ushell.ui5service.ShellUIService({scopeObject:this.getOwnerComponent(),scopeType:\"component\"})},_updateShellHeader:function(e){this.oShellUIService||this._initializeShellUIService(),this.oShellUIService.setTitle(e)}})}()},\"sap/ushell/components/flp/launchpad/appfinder/AppFinder.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\",{createContent:function(e){var t=this;this.addEventDelegate({onAfterShow:function(){var e=sap.ui.getCore().byId(\"homeBtn\");e&&e.setEnabled&&e.getTarget()&&e.setEnabled(!0)},onAfterHide:function(){var e=sap.ui.getCore().byId(\"homeBtn\");e&&e.setEnabled&&e.getTarget()&&e.setEnabled(!1),t.isFiori2&&t.oController._updateShellHeader(void 0)}}),this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.setModel(this.parentComponent.getModel()),this.enableEasyAccess=this.getModel().getProperty(\"/enableEasyAccess\"),this.enableEasyAccess&&(sap.ui.Device.system.phone||sap.ui.Device.system.tablet&&!sap.ui.Device.system.combi)&&(this.enableEasyAccess=!1);var o=sap.ushell.resources.i18n;if(this.enableEasyAccess){this.segmentedButton=new sap.m.SegmentedButton({buttons:[new sap.m.Button(\"catalog\",{text:o.getText(\"appFinderCatalogTitle\"),press:function(t){e.onSegmentButtonClick(t)}}),new sap.m.Button(\"userMenu\",{text:o.getText(\"appFinderUserMenuTitle\"),press:function(t){e.onSegmentButtonClick(t)}}),new sap.m.Button(\"sapMenu\",{text:o.getText(\"appFinderSapMenuTitle\"),press:function(t){e.onSegmentButtonClick(t)}})]});for(var i=this.segmentedButton.getButtons(),s=0;s<i.length;s++){var n=i[s];n.addAriaLabelledBy(n.getId()+\"View\"),n.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"aria-controls\",value:n.getId()+\"View\",writeToDom:!0}))}}var a=sap.ushell.Container.getRenderer(\"fiori2\");return this.isFiori2=a.isFiori2(),this.oPage=new sap.m.Page(\"appFinderPage\",{showHeader:!this.isFiori2,showSubHeader:!!this.enableEasyAccess,showFooter:!1,showNavButton:!1,enableScrolling:!1,title:{parts:[\"/groupContext/title\"],formatter:function(e){return e?o.getText(\"appFinder_group_context_title\",e):o.getText(\"appFinderTitle\")}},subHeader:this.enableEasyAccess?new sap.m.Toolbar({justifyContent:sap.m.FlexJustifyContent.Center,content:this.segmentedButton}):void 0}),this.oPage},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"}})}()},\"sap/ushell/components/flp/launchpad/appfinder/Catalog.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",{oPopoverView:void 0,onInit:function(){var e=this;sap.ui.getCore().byId(\"catalogSelect\").addEventDelegate({onBeforeRendering:this.onBeforeSelectRendering},this);var t=this.getView().parentComponent.getRouter();t.getRoute(\"catalog\").attachPatternMatched(function(t){e.onShow(t)}),t.getRoute(\"appFinder\").attachPatternMatched(function(t){e.onShow(t)}),this.timeoutId=0},onBeforeRendering:function(){sap.ui.getCore().getEventBus().publish(\"renderCatalog\"),setTimeout(function(){jQuery(\"#catalogSelect\").focus()},0)},onAfterRendering:function(){var e=this.getView().getModel(),t=e.getProperty(\"/catalogs\"),o=this;t.length?t[0].title!=sap.ushell.resources.i18n.getText(\"catalogsLoading\")&&e.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noFilteredItems\")):(e.setProperty(\"/catalogs\",[{title:sap.ushell.resources.i18n.getText(\"catalogsLoading\"),static:!0,tiles:[],numIntentSupportedTiles:-1}]),e.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"loadingTiles\"))),this.PagingManager||(this.lastCatalogId=0,jQuery.sap.require(\"sap.ushell.components.flp.launchpad.PagingManager\"),this.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager(\"catalogPaging\",{supportedElements:{tile:{className:\"sapUshellTile\"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth})),0===this.PagingManager.currentPageIndex&&o.allocateNextPage(),jQuery(\"#catalogTilesPage-cont\").scroll(function(){var e=sap.ui.getCore().byId(\"catalogTilesPage\").getScrollDelegate(),t=e.getScrollTop();e.getMaxScrollTop()-t<=30+o.PagingManager.getTileHeight()&&o.allocateNextPage()}),jQuery(window).resize(function(){var e=$(window).width(),t=$(window).height();o.PagingManager.setContainerSize(e,t),o.resetPageFilter(),o.applyTileFilters()})},onShow:function(e){var t,o,i,s=this.getView().getModel(),n=s.getProperty(\"/catalogTiles\")||[],a=e.getParameter(\"arguments\").filters,r=a?JSON.parse(a):a;if((t=sap.ui.getCore().byId(\"viewPortContainer\"))&&t.shiftCenterTransition(!1),$.extend(this.getView().getViewData(),e),this.PagingManager&&this.resetPageFilter(),this.categoryFilter=r&&r.catalogSelector&&r.catalogSelector||null,this.categoryFilter&&(this.categoryFilter=window.decodeURIComponent(this.categoryFilter)),this.searchFilter=r&&r.tileFilter&&r.tileFilter||null,this.searchFilter&&(this.searchFilter=window.decodeURIComponent(this.searchFilter)),o=r&&r.tagFilter&&r.tagFilter||\"\")try{this.tagFilter=JSON.parse(o)}catch(e){this.tagFilter=[]}else this.tagFilter=[];for(this.tagFilter&&s.setProperty(\"/selectedTags\",this.tagFilter),s.setProperty(\"/showCatalogHeaders\",!0),s.setProperty(\"/catalogSearchFilter\",this.searchFilter),i=0;i<n.length;i+=1)n[i].active=!1;this.categoryFilter||this.searchFilter?sap.ui.getCore().byId(\"catalogSelect\").rerender():sap.ui.getCore().byId(\"catalogSelect\")&&sap.ui.getCore().byId(\"catalogSelect\").setSelectedItemId(\"\"),this.oRenderingFilter=new sap.ui.model.Filter(\"\",\"EQ\",\"a\"),this.oRenderingFilter.fnTest=function(e){return e.catalogIndex<=this.lastCatalogId||this.allocateTiles>0&&(this.lastCatalogId=e.catalogIndex,this.allocateTiles--,!0)}.bind(this),this.PagingManager&&this.applyTileFilters()},resetPageFilter:function(){this.lastCatalogId=0,this.allocateTiles=this.PagingManager.getNumberOfAllocatedElements()},allocateNextPage:function(){this.allocateTiles&&0!==this.allocateTiles||(this.PagingManager.moveToNextPage(),this.allocateTiles=this.PagingManager._calcElementsPerPage(),this.applyTileFilters())},onBeforeSelectRendering:function(){var e=sap.ui.getCore().byId(\"catalogSelect\"),t=jQuery.grep(e.getItems(),jQuery.proxy(function(e){return e.getBindingContext().getObject().title===this.categoryFilter},this));t.length||t.push(e.getItemAt(0)),t[0]&&e.getSelectedItemId()!==t[0].getId()&&window.setTimeout($.proxy(e.setSelectedItem,e,t[0].getId()),500)},setTagsFilter:function(e){var t={catalogSelector:this.categoryFilter,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):\"\",tagFilter:e,targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)},!0)},setCategoryFilter:function(e){var t={catalogSelector:e,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):\"\",tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)},!0)},setSearchFilter:function(e){var t={catalogSelector:this.categoryFilter,tileFilter:e?encodeURIComponent(e):\"\",tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)})},getGroupContext:function(){var e=this.getView().getModel().getProperty(\"/groupContext/path\");return e||\"\"},applyTileFilters:function(){var e,t,o,i,s=[];this.tagFilter&&((e=new sap.ui.model.Filter(\"tags\",\"EQ\",\"v\")).fnTest=function(e){var t,o;if(0===this.tagFilter.length)return!0;for(t=0;t<this.tagFilter.length;t++)if(o=this.tagFilter[t],-1===e.indexOf(o))return!1;return!0}.bind(this),s.push(e)),this.searchFilter=this.searchFilter?this.searchFilter.replace(/\\*/g,\"\"):this.searchFilter,this.searchFilter&&(t=new sap.ui.model.Filter($.map(this.searchFilter.split(/[\\s,]+/),function(e){return e&&new sap.ui.model.Filter(\"keywords\",sap.ui.model.FilterOperator.Contains,e)||e&&new sap.ui.model.Filter(\"title\",sap.ui.model.FilterOperator.Contains,e)||void 0}),!0),s.push(t)),this.categoryFilter&&(i=this.categoryFilter,o=new sap.ui.model.Filter(\"catalog\",sap.ui.model.FilterOperator.EQ,i),s.push(o)),s.push(new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0)),this.oRenderingFilter&&s.push(this.oRenderingFilter),sap.ui.getCore().byId(\"catalogTiles\").getBinding(\"tiles\").filter(s)},onLiveFilter:function(e){clearTimeout(this.timeoutId);var t=this,o=e.getParameter(\"newValue\");this.timeoutId=setTimeout(function(e){e?t.setSearchFilter(e):t.setSearchFilter()},300,o)},onTagsFilter:function(e){var t=e.getParameters(\"selectedItem\").changedItem,o=e.getParameter(\"selected\"),i=[],s=t.getText();this.tagFilter&&(i=this.tagFilter),o?i.push(s):i=i.filter(function(e){return e!==s}),this.setTagsFilter(i.length>0?JSON.stringify(i):\"\")},onCategoryFilter:function(e){var t=e.getParameter(\"selectedItem\"),o=t.getBindingContext(),i=o.getModel();i.getProperty(\"static\",o)?(i.setProperty(\"/showCatalogHeaders\",!0),this.setCategoryFilter(),this.selectedCategory=void 0):(i.setProperty(\"/showCatalogHeaders\",!1),this.setCategoryFilter(window.encodeURIComponent(t.getBindingContext().getObject().title)),this.selectedCategory=t.getId())},onTileAfterRendering:function(e){var t=e.getSource().getFootItems()[0];void 0!==t&&t.addStyleClass(\"sapUshellCatalogPlusIcon\")},catalogTilePress:function(e){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"catalogTileClick\")},onTileFooterClick:function(e){var t=e.getSource(),o=t.getBindingContext(),i=this.getView().getModel(),s=i.getProperty(\"/groupContext/path\");if(s)this._handleTileFooterClickInGroupContext(o,s);else{this.oPopoverView&&!0===this.oPopoverView.getVisible()&&this.oPopoverView.setVisible(!1);var n=i.getProperty(\"/groups\"),a=sap.ushell.Container.getService(\"LaunchPage\"),r=this.getCatalogTileDataFromModel(o),l=r.tileData.associatedGroups,u=n.map(function(e){var t=a.getGroupId(e.object),o=!(-1==$.inArray(t,l));return{selected:o,initiallySelected:o,oGroup:e}});void 0===this.oPopoverView&&(this.oPopoverView=sap.ui.getCore().byId(\"groupListPopoverView\"),void 0===this.oPopoverView&&(this.oPopoverView=new sap.ui.view({id:\"groupListPopoverView\",type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",viewData:{enableHideGroups:i.getProperty(\"/enableHideGroups\"),enableHelp:i.getProperty(\"/enableHelp\")}}),this.oPopoverView.setVisible(!1))),!1===this.oPopoverView.getVisible()&&(this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.MultiSelect),this.oPopoverView.setGroupsData(u),this.oPopoverView.setVisible(!0),this.oPopoverView.open(t).then(this._handlePopoverResponse.bind(this,o,r)))}},_handlePopoverResponse:function(e,t,o){var i=this.getView().getModel(),s=i.getProperty(\"/groups\"),n=[];o.addToGroups.forEach(function(t){var o=s.indexOf(t),a=new sap.ui.model.Context(i,\"/groups/\"+o),r=this._addTile(e,a);n.push(r)}.bind(this)),o.removeFromGroups.forEach(function(t){var o=e.getModel().getProperty(e.getPath()).id,i=s.indexOf(t),a=this._removeTile(o,i);n.push(a)}.bind(this)),o.newGroups.forEach(function(t){var o=t.length>0?t:sap.ushell.resources.i18n.getText(\"new_group_name\"),i=this._createGroupAndSaveTile(e,o);n.push(i)}.bind(this)),jQuery.when.apply(jQuery,n).then(function(){var e=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(t,o,e)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,o){var i=o.filter(function(e,t,o){return!e.status});if(i.length){var s=this.prepareErrorMessage(i,e.tileData.title);sap.ushell.components.flp.launchpad.DashboardManager().resetGroupsOnFailure(s.messageId,s.parameters)}else{var n=[],a=sap.ushell.Container.getService(\"LaunchPage\");t.allGroups.forEach(function(e){if(e.selected){var t=a.getGroupId(e.oGroup.object);n.push(t)}});var r=this.getView().getModel();if(t.newGroups.length){var l=r.getProperty(\"/groups\");l.slice(l.length-t.newGroups.length).forEach(function(e){var t=a.getGroupId(e.object);n.push(t)})}r.setProperty(\"/catalogTiles/\"+e.tileIndex+\"/associatedGroups\",n);var u=t.addToGroups[0]?t.addToGroups[0].title:\"\";!u.length&&t.newGroups.length&&(u=t.newGroups[0]);var p=t.removeFromGroups[0]?t.removeFromGroups[0].title:\"\",d=this.prepareDetailedMessage(e.tileData.title,t.addToGroups.length+t.newGroups.length,t.removeFromGroups.length,u,p);sap.m.MessageToast.show(d,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"})}},_getCatalogTileIndexInModel:function(e){var t=e.sPath.split(\"/\");return t[t.length-1]},_handleTileFooterClickInGroupContext:function(e,t){var o,i,s,n,a,r=sap.ushell.Container.getService(\"LaunchPage\"),l=this.getView().getModel(),u=this.getCatalogTileDataFromModel(e),p=u.tileData.associatedGroups,d=l.getProperty(t),c=r.getGroupId(d.object),h=$.inArray(c,p),g=this._getCatalogTileIndexInModel(e),f=this;u.isBeingProcessed||(l.setProperty(\"/catalogTiles/\"+g+\"/isBeingProcessed\",!0),-1==h?(o=new sap.ui.model.Context(e.getModel(),t),(i=this._addTile(e,o)).done(function(t){1==t.status?f._groupContextOperationSucceeded(e,u,d,!0):f._groupContextOperationFailed(u,d,!0)}),i.always(function(){l.setProperty(\"/catalogTiles/\"+g+\"/isBeingProcessed\",!1)})):(n=e.getModel().getProperty(e.getPath()).id,a=t.split(\"/\")[2],(s=this._removeTile(n,a)).done(function(t){1==t.status?f._groupContextOperationSucceeded(e,u,d,!1):f._groupContextOperationFailed(u,d,!1)}),s.always(function(){l.setProperty(\"/catalogTiles/\"+g+\"/isBeingProcessed\",!1)})))},_groupContextOperationSucceeded:function(e,t,o,i){var s,n,a=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(o.object),r=t.tileData.associatedGroups;if(i)r.push(a),e.getModel().setProperty(\"/catalogTiles/\"+t.tileIndex+\"/associatedGroups\",r),s=this.prepareDetailedMessage(t.tileData.title,1,0,o.title,\"\");else{for(n in r)if(r[n]==a){r.splice(n,1);break}e.getModel().setProperty(\"/catalogTiles/\"+t.tileIndex+\"/associatedGroups\",r),s=this.prepareDetailedMessage(t.tileData.title,0,1,\"\",o.title)}sap.m.MessageToast.show(s,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"})},_groupContextOperationFailed:function(e,t,o){var i,s=sap.ushell.components.flp.launchpad.getDashboardManager();i=o?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_group\",parameters:[e.tileData.title,t.title]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_group\",parameters:[e.tileData.title,t.title]}),s.resetGroupsOnFailure(i.messageId,i.parameters)},prepareErrorMessage:function(e,t){var o,i,s,n,a=0,r=0,l=!1;for(var u in e)o=e[u].group,\"add\"==(i=e[u].action)?1==++a&&(s=o.title):\"remove\"==i?1==++r&&(n=o.title):\"addTileToNewGroup\"==i?1==++a&&(s=o.title):l=!0;return l?1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_create_new_group\"}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"}):1==e.length?a?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_group\",parameters:[t,s]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_group\",parameters:[t,n]}):0==r?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_several_groups\",parameters:[t]}):0==a?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_several_groups\",parameters:[t]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"})},prepareDetailedMessage:function(e,t,o,i,s){var n;return 0==t?1==o?n=sap.ushell.resources.i18n.getText(\"tileRemovedFromSingleGroup\",[e,s]):o>1&&(n=sap.ushell.resources.i18n.getText(\"tileRemovedFromSeveralGroups\",[e,o])):1==t?0==o?n=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroup\",[e,i]):1==o?n=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroupAndRemovedFromSingleGroup\",[e,i,s]):o>1&&(n=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroupAndRemovedFromSeveralGroups\",[e,i,o])):t>1&&(0==o?n=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroups\",[e,t]):1==o?n=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroupsAndRemovedFromSingleGroup\",[e,t,s]):o>1&&(n=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroupsAndRemovedFromSeveralGroups\",[e,t,o]))),n},getCatalogTileDataFromModel:function(e){var t=this._getCatalogTileIndexInModel(e),o=e.getModel().getProperty(\"/catalogTiles/\"+t);return{tileData:o,tileIndex:t,isBeingProcessed:!!o.isBeingProcessed}},_addTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.createTile({catalogTileContext:e,groupContext:t}).done(function(e){i.resolve(e)}),i},_removeTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.deleteCatalogTileFromGroup({tileId:e,groupIndex:t}).done(function(e){i.resolve(e)}),i},_createGroupAndSaveTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.createGroupAndSaveTile({catalogTileContext:e,newGroupName:t}).done(function(e){i.resolve(e)}),i}})}()},\"sap/ushell/components/flp/launchpad/appfinder/Catalog.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ui.core.IconPool\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Tile\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.CatalogTileContainer\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Panel\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",{oController:null,createContent:function(e){this.parentComponent=this.getViewData().parentComponent;var t=this.parentComponent.getModel();this.setModel(t),this.oController=e;var o=new sap.m.Button({icon:{parts:[\"associatedGroups\",\"associatedGroups/length\",\"/groupContext/path\",\"/groupContext/id\"],formatter:function(e,t,o,i){return function(e,t,o){var i;return i=t?-1!==$.inArray(o,e)?\"accept\":\"add\":e&&e.length>0?\"accept\":\"add\",sap.ui.core.IconPool.getIconURI(i)}(e,o,i)}},tooltip:{parts:[\"i18n>addTileToGroup\",\"i18n>addAssociatedTileToGroup\",\"associatedGroups\",\"associatedGroups/length\",\"/groupContext/path\",\"/groupContext/id\",\"/groupContext/title\"],formatter:function(e,t,o,i,s,n,a){return function(e,t,o,i,s,n){var a;if(i){var r=sap.ushell.resources.i18n,l=$.inArray(s,o);a=r.getText(-1!==l?\"removeAssociatedTileFromContextGroup\":\"addAssociatedTileToContextGroup\",n)}else a=o&&o.length?t:e;return a}(e,t,o,s,n,a)}},press:[e.onTileFooterClick,e]}),i=new sap.ushell.ui.launchpad.Tile({afterRendering:[e.onTileAfterRendering,e],tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},footItems:[o],long:{path:\"size\",formatter:function(e){return null!==e&&(\"1x2\"===e||\"2x2\"===e)||!1}},index:{path:\"id\",formatter:function(e){return parseInt(e,10)||0}},tileCatalogId:\"{id}\",press:[e.catalogTilePress,e]}),s=new sap.ushell.ui.launchpad.CatalogTileContainer(\"catalogTiles\",{showHeader:!1,showPlaceholder:!1,showGroupHeader:\"{/showCatalogHeaders}\",noDataText:\"{/catalogsNoDataText}\",groupHeaderLevel:sap.m.HeaderLevel.H3,showNoData:!0,tiles:{path:\"/catalogTiles\",template:i,sorter:new sap.ui.model.Sorter(\"catalogIndex\",!1,function(e){return e&&e.getProperty(\"catalog\")||\"\"})},afterRendering:function(e){var t,o,i=this.getModel();for((this.getTiles().length||i.getProperty(\"/catalogTiles/length\"))&&(setTimeout(function(){sap.ui.getCore().byId(\"catalogSearch\").setEnabled(!0)}),i.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noFilteredItems\")),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRendered\"),sap.ui.Device.os.ios||sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRefresh\")),jQuery.sap.byId(\"catalogTiles\").removeAttr(\"tabindex\",0),jQuery.sap.byId(\"catalogTilesPage-intHeader-BarPH\").removeAttr(\"tabindex\",0),t=jQuery(\".sapUshellTile button\"),o=0;o<t.length;o++)t[o].setAttribute(\"tabindex\",-1)}});s.addStyleClass(\"sapUshellCatalogTileContainer\"),s.addEventDelegate({onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogSelect\").focus()}catch(e){}}}),o.constructor.prototype.setIcon=function(e){return this.setProperty(\"icon\",e,!0),e&&this._image&&this._image.setSrc&&this._image.setSrc(e),this};var n=new sap.ui.model.Filter(\"numIntentSupportedTiles\",sap.ui.model.FilterOperator.NE,0),a=new sap.m.Select(\"catalogSelect\",{visible:\"{/catalogSelection}\",name:\"Browse\",tooltip:\"{i18n>catalogSelect_tooltip}\",width:\"17rem\",items:{path:\"/catalogs\",template:new sap.ui.core.ListItem({text:\"{title}\"}),filters:[n]},change:[e.onCategoryFilter,e]}),r=a.onAfterRendering;a.addEventDelegate({onsapskipforward:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),jQuery(\"#catalogTiles .sapUshellTile:visible:first\").focus()}catch(e){}},onsaptabprevious:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}},onsapskipback:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}}}),t.getProperty(\"/enableHelp\")&&a.addStyleClass(\"help-id-catalogCategorySelect\"),a.onAfterRendering=function(){r&&r.apply(this,arguments),jQuery.sap.byId(\"catalogSelect\").attr(\"tabindex\",0)};var l=a._onAfterRenderingPopover;a._onAfterRenderingPopover=function(){this._oPopover&&this._oPopover.setFollowOf(!1),l&&l.apply(this,arguments)};var u=new sap.m.SearchField(\"catalogSearch\",{visible:\"{/searchFiltering}\",tooltip:\"{i18n>catalogSearch_tooltip}\",width:\"17rem\",enabled:!1,value:{path:\"/catalogSearchFilter\"},placeholder:\"{i18n>search_catalog}\",liveChange:[e.onLiveFilter,e]}).addStyleClass(\"sapUshellCatalogSearch\"),p=u.onAfterRendering;t.getProperty(\"/enableHelp\")&&u.addStyleClass(\"help-id-catalogSearch\"),u.onAfterRendering=function(){p.apply(this,arguments),jQuery.sap.byId(\"catalogSearch\").find(\"input\").attr(\"tabindex\",0),this.data(\"sap-ui-fastnavgroup\",\"true\",!0)},u.addEventDelegate({onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}},onsapskipforward:function(e){try{e.preventDefault();var t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(t)}catch(e){}},onsaptabnext:function(e){try{if(!d.getVisible()){e.preventDefault();var t=jQuery(\".sapUshellTile:visible\"),o=jQuery(t[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),o.focus()}}catch(e){}}});var d=new sap.m.MultiComboBox(\"catalogTagFilter\",{visible:\"{/tagFiltering}\",selectedKeys:{path:\"/selectedTags\",mode:sap.ui.model.BindingMode.TwoWay},tooltip:\"{i18n>catalogTilesTagfilter_tooltip}\",width:\"17rem\",placeholder:\"{i18n>catalogTilesTagfilter_HintText}\",items:{path:\"/tagList\",sorter:new sap.ui.model.Sorter(\"tag\",!1,!1),template:new sap.ui.core.ListItem({text:\"{tag}\",key:\"{tag}\"})},selectionChange:[e.onTagsFilter,e]});t.getProperty(\"/enableHelp\")&&d.addStyleClass(\"help-id-catalogTagFilter\"),d.addEventDelegate({onsaptabnext:function(e){try{e.preventDefault();var t=jQuery(\".sapUshellTile:visible\"),o=jQuery(t[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),o.focus()}catch(e){}},onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogSelect\").focus()}catch(e){}},onsapskipforward:function(e){try{e.preventDefault();var t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(t)}catch(e){}}});var c=new sap.m.Page(\"catalogTilesPage\",{showHeader:!1,showFooter:!1,showNavButton:!1,content:[new sap.ushell.ui.launchpad.Panel({translucent:!0,headerText:\"\",headerLevel:sap.m.HeaderLevel.H2,headerBar:new sap.m.Bar(\"catalogHeader\",{translucent:!0,tooltip:\"{i18n>tile_catalog_header_tooltip}\",contentLeft:[a,u,d]}).addStyleClass(\"sapUshellCatalogHeaderBar\"),content:[s]}).addStyleClass(\"sapUshellCatalogPage\")]});return c.addDelegate({onAfterRendering:function(){jQuery(\"#catalogTilesPage header button\").attr(\"tabindex\",-1)}}),c},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.Catalog\"}})}()},\"sap/ushell/components/flp/launchpad/appfinder/EasyAccess.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",{DEFAULT_URL:\"/sap/opu/odata/UI2\",DEFAULT_NUMBER_OF_LEVELS:3,onInit:function(){this.translationBundle=sap.ushell.resources.i18n,this.oView=this.getView();var e=this.oView.getModel(\"easyAccessSystemsModel\");new sap.ui.model.Binding(e,\"/systemSelected\",e.getContext(\"/systemSelected\")).attachChange(this.adjustUiOnSystemChange.bind(this)),this.menuName=this.oView.getViewData().menuName,this.systemId=null,this.easyAccessCache={},this.easyAccessModel=new sap.ui.model.json.JSONModel,this.oView.hierarchyFolders.setModel(this.easyAccessModel,\"easyAccess\"),this.oView.hierarchyApps.setModel(this.easyAccessModel,\"easyAccess\"),this.checkIfSystemSelectedAndLoadData()},onAfterRendering:function(){this.oView.hierarchyApps.getController()._updateAppBoxedWithPinStatuses()},checkIfSystemSelectedAndLoadData:function(){var e=this.oView.getModel(\"easyAccessSystemsModel\").getProperty(\"/systemSelected\");e&&(this.systemId=e.systemId,this.loadMenuItemsFirstTime(this.oView.getViewData().menuName,e))},navigateHierarchy:function(e,t){this.oView.hierarchyFolders.setBusy(!1);var o=this.easyAccessModel.getProperty(e||\"/\");if(void 0!==o.folders)return this.oView.hierarchyFolders.updatePageBindings(e,t),void this.oView.hierarchyApps.getController().updatePageBindings(e);this.oView.hierarchyFolders.setBusy(!0),this.getMenuItems(this.menuName,this.systemId,o.id,o.level).then(function(e,o){this.easyAccessModel.setProperty(e+\"/folders\",o.folders),this.easyAccessModel.setProperty(e+\"/apps\",o.apps),this.oView.hierarchyFolders.updatePageBindings(e,t),this.oView.hierarchyApps.getController().updatePageBindings(e),this.oView.hierarchyFolders.setBusy(!1)}.bind(this,e),function(e){this.handleGetMenuItemsError(e)}.bind(this))},adjustUiOnSystemChange:function(){this.systemId&&this.easyAccessModel.getData()&&(this.easyAccessCache[this.systemId]=this.easyAccessModel.getData());var e=this.oView.getModel(\"easyAccessSystemsModel\").getProperty(\"/systemSelected\");if(e){this.systemId=e.systemId;var t=this.easyAccessCache[this.systemId];t?(this.easyAccessModel.setData(t),this.navigateHierarchy(\"\",!1)):(this.oView.hierarchyFolders.setBusy(!0),this.loadMenuItemsFirstTime(this.menuName,e))}},loadMenuItemsFirstTime:function(e,t){return this.getMenuItems(e,t.systemId,\"\",0).then(function(e){e.text=t.systemName||t.systemId,this.easyAccessModel.setData(e),this.oView.hierarchyFolders.setBusy(!1),this.navigateHierarchy(\"\",!1)}.bind(this),function(e){this.handleGetMenuItemsError(e),this.oView.hierarchyFolders.updatePageBindings(\"/\",!1),this.oView.hierarchyApps.getController().updatePageBindings(\"/\")}.bind(this))},handleGetMenuItemsError:function(e){jQuery.sap.require(\"sap.m.MessageBox\");var t=this.getErrorMessage(e);sap.m.MessageBox.error(t),this.easyAccessModel.setData(\"\"),this.oView.hierarchyFolders.setBusy(!1)},getErrorMessage:function(e){var t=\"\";return\"SAP_MENU\"==this.menuName?t=this.translationBundle.getText(\"easyAccessSapMenuNameParameter\"):\"USER_MENU\"==this.menuName&&(t=this.translationBundle.getText(\"easyAccessUserMenuNameParameter\")),e?e.message?this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsg\",[t,e.message]):this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsg\",[t,e]):this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsgNoReason\",t)},getMenuItems:function(e,t,o,i,s){var n=new jQuery.Deferred;\"SAP_MENU\"!=e&&\"USER_MENU\"!=e&&n.reject(\"Invalid menuType parameter\"),\"string\"==typeof t&&\"\"!==t||n.reject(\"Invalid systemId parameter\"),\"string\"!=typeof o&&n.reject(\"Invalid entityId parameter\"),\"number\"!=typeof i&&n.reject(\"Invalid entityLevel parameter\"),s&&\"number\"!=typeof s&&n.reject(\"Invalid numberOfNextLevels parameter\"),\"\"==o&&(i=0);var a=this.getView().getModel().getProperty(\"/easyAccessNumbersOfLevels\"),r=i+(a||(s||this.DEFAULT_NUMBER_OF_LEVELS))+1,l={requestUri:this._getODataRequestUrl(e,t,o,r)},u=this._callODataService(l,t,o,r);return u.done(function(e){n.resolve(e)}),u.fail(function(e){n.reject(e)}),n.promise()},_callODataService:function(e,t,o,i){jQuery.sap.require(\"sap.ui.thirdparty.datajs\");var s=this,n=new jQuery.Deferred;return OData.read(e,function(e,a){if(e&&e.results&&a&&200===a.statusCode){var r=s._oDataResultFormatter(e.results,t,o,i);n.resolve(r)}},function(e){n.reject(e)}),n.promise()},_appendSystemToUrl:function(e,t){if(e.url)return e.url+(e.url.indexOf(\"?\")>0?\"&\":\"?\")+\"sap-system=\"+t},_oDataResultFormatter:function(e,t,o,i){var s,n={},a={};\"\"==o?(a={id:\"root\",text:\"root\",level:0,folders:[],apps:[]},n.root=a):(a={id:o,folders:[],apps:[]},n[o]=a);for(var r=0;r<e.length;r++){var l;l=\"\"==(s=e[r]).parentId&&\"01\"==s.level?n.root:n[s.parentId];var u={id:s.Id,text:s.text,level:parseInt(s.level,10)};\"FL\"==s.type?(u.folders=[],u.apps=[],s.level==i-1&&(u.folders=void 0,u.apps=void 0),l&&l.folders&&l.folders.push(u),n[s.Id]=u):(u.url=this._appendSystemToUrl(s,t),l&&l.apps&&l.apps.push(u))}return a},_getODataRequestUrl:function(e,t,o,i){var s,n,a=this.getView().getModel();if(\"SAP_MENU\"==e){var r=a.getProperty(\"/sapMenuServiceUrl\");s=r||this.DEFAULT_URL+\"/EASY_ACCESS_MENU\"}else if(\"USER_MENU\"==e){var l=a.getProperty(\"/userMenuServiceUrl\");s=l||this.DEFAULT_URL+\"/USER_MENU\"}n=i<10?\"0\"+i:i.toString();var u=\"\";return o&&(decodeURIComponent(o)===o&&(o=encodeURIComponent(o)),u=\"('\"+o+\"')/AllChildren\"),s+\";o=\"+t+\"/MenuItems\"+u+\"?$filter=level lt '\"+n+\"'&$orderby=level,text\"}})}()},\"sap/ushell/components/flp/launchpad/appfinder/EasyAccess.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",{createContent:function(e){this.setModel(this.getViewData().easyAccessSystemsModel,\"easyAccessSystemsModel\"),this.setModel(this.getViewData().parentComponent.getModel()),this.hierarchyFolders=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",height:\"100%\",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(e),easyAccessSystemsModel:this.getModel(\"easyAccessSystemsModel\")}}),this.hierarchyFolders.addStyleClass(\"sapUshellHierarchyFolders\"),this.hierarchyApps=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",height:\"100%\",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(e)}}),this.hierarchyApps.addStyleClass(\" sapUshellAppsView sapMShellGlobalInnerBackground\");var t=new sap.m.SplitApp({masterPages:this.hierarchyFolders,detailPages:this.hierarchyApps});return t.setInitialMaster(this.hierarchyFolders),t.setInitialDetail(this.hierarchyApps),t},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\"}})}()},\"sap/ushell/components/flp/launchpad/appfinder/GroupListPopover.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",{onInit:function(){var e=this.getView();this.oPopoverModel=new sap.ui.model.json.JSONModel,e.oPopover.setModel(this.oPopoverModel)},okButtonHandler:function(e){var t,o=this.getView(),i=this.oPopoverModel.getProperty(\"/userGroupList\");this._isListModeMultiSelect()&&\"select\"===e.sId||(e.preventDefault(),e._bIsStopHandlers=!0,i=this.oPopoverModel.getProperty(\"/userGroupList\"),t={addToGroups:[],removeFromGroups:[],newGroups:[],allGroups:i},i.forEach(function(e){e.selected!==e.initiallySelected&&(e.selected?t.addToGroups.push(e.oGroup):t.removeFromGroups.push(e.oGroup))}),o.newGroupInput&&o.newGroupInput.getValue().length&&t.newGroups.push(o.newGroupInput.getValue()),o.oPopover.close(),o.deferred.resolve(t))},_isListModeMultiSelect:function(){return this.getView().oGroupList.getMode()===sap.m.ListMode.MultiSelect},_isListModeSingleSelectMaster:function(){return this.getView().oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster},_cancelButtonHandler:function(e){e.preventDefault(),e._bIsStopHandlers=!0;var t=this.getView();t.oPopover.close(),t.deferred.reject()},_navigateToCreateNewGroupPane:function(){var e=this.getView();e.headBarForNewGroup||(e.headBarForNewGroup=e._createHeadBarForNewGroup()),e.newGroupInput||(e.newGroupInput=e._createNewGroupInput()),e.oPopover.removeAllContent(),e.oPopover.addContent(e.newGroupInput),e.oPopover.setCustomHeader(e.headBarForNewGroup),e.oPopover.setContentHeight(\"\"),this._isListModeSingleSelectMaster()&&this._setFooterVisibility(!0),setTimeout(function(){e.newGroupInput.focus()},0)},_afterCloseHandler:function(){var e=this.getView();e.oPopover.removeAllContent(),e.oPopover.addContent(e.oGroupsContainer),e.oPopover.setTitle(sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\")),e.oPopover.setCustomHeader(),e.setVisible(!1)},_backButtonHandler:function(){var e=this.getView();e.oPopover.removeAllContent(),this._isListModeSingleSelectMaster()&&this._setFooterVisibility(!1),sap.ui.Device.system.phone?e.oPopover.setContentHeight(\"100%\"):e.oPopover.setContentHeight(e.iPopoverDataSectionHeight+\"px\"),e.oPopover.setVerticalScrolling(!0),e.oPopover.setHorizontalScrolling(!1),e.oPopover.addContent(e.oGroupsContainer),e.oPopover.setTitle(sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\")),e.oPopover.setCustomHeader(),e.newGroupInput.setValue(\"\")},_setFooterVisibility:function(e){var t=sap.ui.getCore().byId(\"groupsPopover-footer\");t&&t.setVisible(e)}})}()},\"sap/ushell/components/flp/launchpad/appfinder/GroupListPopover.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",{bPopoverCreated:!1,oPopover:void 0,oGroupList:void 0,createContent:function(e){this.iPopoverDataSectionHeight=192,this.oGroupsContainer=this._createPopoverContainer(this.iPopoverDataSectionHeight),this.bPopoverCreated||(this.oPopover=new sap.m.ResponsivePopover({id:\"groupsPopover\",placement:sap.m.PlacementType.Auto,enableScrolling:!0,title:sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\"),contentWidth:\"20rem\",beginButton:this._createOkButton(),endButton:this._createCancelButton(),content:this.oGroupsContainer,afterClose:this.getController()._afterCloseHandler.bind(this.getController())}),this.bPopoverCreated=!0,this.oPopover.setInitialFocus(\"newGroupItem\"))},setGroupsData:function(e){this.getController().oPopoverModel.setData({userGroupList:e})},setGroupListSingleSelection:function(e){this.oGroupList.setMode(e),e===sap.m.ListMode.SingleSelectMaster?this.oGroupList.attachSelect(this.getController().okButtonHandler.bind(this.getController())):this.oGroupList.detachSelect(this.getController().okButtonHandler,this.getController())},open:function(e){return document.body.clientHeight-e.getDomRef().getBoundingClientRect().bottom>=310?this.oPopover.setPlacement(sap.m.PlacementType.Bottom):this.oPopover.setPlacement(sap.m.PlacementType.Auto),this.oPopover.openBy(e),void 0!==this.newGroupInput&&this.newGroupInput.setValue(\"\"),this.oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster?this.getController()._setFooterVisibility(!1):this.getController()._setFooterVisibility(!0),this.deferred=jQuery.Deferred(),this.deferred.promise()},_createPopoverContainer:function(e){var t,o,i=this._createNewGroupUiElements();return o=this._createPopoverGroupList(),t=new sap.m.ScrollContainer({horizontal:!1,vertical:!0,content:[i,o]}),sap.ui.Device.system.phone?t.setHeight(\"100%\"):t.setHeight(e-2+\"px\"),t},_createNewGroupUiElements:function(){var e=new sap.m.StandardListItem({id:\"newGroupItem\",title:sap.ushell.resources.i18n.getText(\"newGroup_listItemText\"),type:\"Navigation\",press:this.getController()._navigateToCreateNewGroupPane.bind(this.getController())}),t=new sap.m.List({});return this.getViewData().enableHelp&&e.addStyleClass(\"help-id-newGroupItem\"),t.addItem(e),t},_createNewGroupInput:function(){var e=new sap.m.Input({id:\"newGroupNameInput\",type:\"Text\",placeholder:sap.ushell.resources.i18n.getText(\"new_group_name\")});return e.setValueState(sap.ui.core.ValueState.None),e.setPlaceholder(sap.ushell.resources.i18n.getText(\"new_group_name\")),e.enabled=!0,e.addStyleClass(\"sapUshellCatalogNewGroupInput\"),e},_createHeadBarForNewGroup:function(){var e=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI(\"nav-back\"),press:this.getController()._backButtonHandler.bind(this.getController()),tooltip:sap.ushell.resources.i18n.getText(\"newGroupGoBackBtn_tooltip\")});return e.addStyleClass(\"sapUshellCatalogNewGroupBackButton\"),new sap.m.Bar({contentLeft:[e],contentMiddle:[new sap.m.Label({text:sap.ushell.resources.i18n.getText(\"newGroup_popoverTitle\")})]})},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\"},_createPopoverGroupList:function(){var e=new sap.m.DisplayListItem({label:\"{oGroup/title}\",selected:\"{selected}\",tooltip:\"{oGroup/title}\",type:sap.m.ListType.Active}),t=this,o=[];return o.push(new sap.ui.model.Filter(\"oGroup/isGroupLocked\",sap.ui.model.FilterOperator.EQ,!1)),this.getViewData().enableHideGroups&&o.push(new sap.ui.model.Filter(\"oGroup/isGroupVisible\",sap.ui.model.FilterOperator.EQ,!0)),this.oGroupList=new sap.m.List(\"groupListId\",{includeItemInSelection:!0,items:{path:\"/userGroupList\",template:e,filters:o}}),this.oGroupList.addEventDelegate({onsapup:function(e){try{if(e.preventDefault(),t.getView().getModel().getProperty(\"/groups/length\"))0===jQuery(\":focus\").index()&&(jQuery(\"#newGroupItem\").focus(),e._bIsStopHandlers=!0)}catch(e){jQuery.sap.log.error(\"Groups popup Accessibility `up` key failed\")}}}),this.oGroupList},_createOkButton:function(){var e=new sap.m.Button({id:\"okButton\",press:this.getController().okButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText(\"okBtn\")});return e.addEventDelegate({onsaptabprevious:function(e){try{e.preventDefault(),e._bIsStopHandlers=!0;var t=jQuery(\"#newGroupItem\");t.length||(t=jQuery(\"#newGroupNameInput input\")),t.focus()}catch(e){jQuery.sap.log.error(\"Groups popup Accessibility `shift-tab` key failed\")}}}),e},_createCancelButton:function(){return new sap.m.Button({id:\"cancelButton\",press:this.getController()._cancelButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText(\"cancelBtn\")})}})}()},\"sap/ushell/components/flp/launchpad/appfinder/HierarchyApps.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",{onInit:function(){},oPopoverView:void 0,getCrumbsData:function(e,t){var o,i=e.split(\"/\"),s=[],n=i.join(\"/\");for(i.splice(i.length-2,2);i.length;)n=i.join(\"/\"),o=t.getProperty(n+\"/text\"),s.unshift({text:o,path:n}),i.splice(i.length-2,2);return s},_updateAppBoxedWithPinStatuses:function(e){var t=this.getView();e||(e=t.layout.getBinding(\"items\").getPath());var o=t.getModel(\"easyAccess\"),i=o.getProperty(e),s=sap.ushell.Container.getService(\"Bookmark\"),n=i.map(function(e){return s.countBookmarks(e.url).then(function(t){return e.bookmarkCount=t,e})});jQuery.when.apply(jQuery,n).then(function(){var t=Array.prototype.slice.call(arguments);o.setProperty(e,t)})},updatePageBindings:function(e){this.getView().layout.bindAggregation(\"items\",\"easyAccess>\"+e+\"/apps\",this.getView().oItemTemplate),this._updateAppBoxedWithPinStatuses(e+\"/apps\"),this.getView().breadcrumbs.bindProperty(\"currentLocationText\",\"easyAccess>\"+e+\"/text\");var t=this.getCrumbsData(e,this.getView().getModel(\"easyAccess\"));this.getView().crumbsModel.setProperty(\"/crumbs\",t)},onAppBoxPressed:function(e){if(!e.mParameters.srcControl.$().closest(\".sapUshellPinButton\").length){var t=e.getSource().getProperty(\"url\");t&&0===t.indexOf(\"#\")&&hasher.setHash(t)}},_handleSuccessMessage:function(e,t){var o,i,s=t.addToGroups?t.addToGroups.length:0,n=s+(t.newGroups?t.newGroups.length:0);return 1===n?(i=1===s?t.addToGroups[0].title:t.newGroups[0],o=sap.ushell.resources.i18n.getText(\"appAddedToSingleGroup\",[e.text,i])):o=sap.ushell.resources.i18n.getText(\"appAddedToSeveralGroups\",[e.text,n]),sap.m.MessageToast.show(o,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"}),o},_prepareErrorMessage:function(e,t){var o,i,s,n,a=0,r=!1;for(n in e)o=e[n].group,\"addBookmark_ToExistingGroup\"==(i=e[n].action)?1===++a&&(s=o.title):\"addBookmark_ToNewGroup\"==i?1===++a&&(s=o):r=!0;return r?1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_create_new_group\"}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"}):1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_app_operation_add_to_group\",parameters:[t,s]}):sap.ushell.resources.i18n.getText({messageId:\"fail_app_operation_add_to_several_groups\",parameters:[t]})},_handleBookmarkAppPopoverResponse:function(e,t){var o=[];t.newGroups.forEach(function(t){o.push(this._createGroupAndAddBookmark(t,e))}.bind(this)),t.addToGroups.forEach(function(t){o.push(this._addBookmark(t,e))}.bind(this)),jQuery.when.apply(jQuery,o).then(function(){var o=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(e,t,o)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,o){var i=o.filter(function(e,t,o){return!e.status});if(i.length){var s=this._prepareErrorMessage(i,e.text);sap.ushell.components.flp.launchpad.getDashboardManager().resetGroupsOnFailure(s.messageId,s.parameters)}else this._updateAppBoxedWithPinStatuses(),this._handleSuccessMessage(e,t)},_createGroupAndAddBookmark:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred(),s={};return o.createGroup(e).done(function(o){this._addBookmark(o.getObject(),t,!0).done(function(e){i.resolve(e)}).fail(function(){s={group:e,status:0,action:\"addBookmark_ToNewGroup\"},i.resolve(s)})}.bind(this)).fail(function(){s={group:e,status:0,action:\"addBookmark_NewGroupCreation\"},i.resolve(s)}),i.promise()},_addBookmark:function(e,t,o){var i=sap.ushell.Container.getService(\"Bookmark\"),s=jQuery.Deferred(),n={},a=i.addBookmark({url:t.url,title:t.text},e.object),r=o?\"addBookmark_ToNewGroup\":\"addBookmark_ToExistingGroup\";return a.done(function(){n={group:e,status:1,action:r},s.resolve(n)}).fail(function(){n={group:e,status:0,action:r},s.resolve(n)}),s.promise()},showSaveAppPopover:function(e){var t,o=this.getView().getModel(),i=e.oSource.getParent().getBinding(\"title\").getContext().getObject();if(o.getProperty(\"/groupContext\").path){var s=o.getProperty(\"/groupContext\").path,n={newGroups:[],addToGroups:[o.getProperty(s)]};this._handleBookmarkAppPopoverResponse(i,n)}else t=o.getProperty(\"/groups\").map(function(e){return{selected:!1,initiallySelected:!1,oGroup:e}}),void 0===this.oPopoverView&&(this.oPopoverView=sap.ui.getCore().byId(\"groupListPopoverView\"),void 0===this.oPopoverView&&(this.oPopoverView=new sap.ui.view({id:\"groupListPopoverView\",type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",viewData:{enableHideGroups:o.getProperty(\"/enableHideGroups\"),enableHelp:o.getProperty(\"/enableHelp\")}}))),this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.SingleSelectMaster),this.oPopoverView.setGroupsData(t),this.oPopoverView.open(e.oSource).then(this._handleBookmarkAppPopoverResponse.bind(this,i))}})}()},\"sap/ushell/components/flp/launchpad/appfinder/HierarchyApps.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.appfinder.AppBox\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",{createContent:function(e){this.oController=e;var t=new sap.m.Button({icon:{path:\"easyAccess>bookmarkCount\",formatter:function(e){return e?\"sap-icon://accept\":\"sap-icon://add\"}},press:e.showSaveAppPopover.bind(e)});return t.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"tabindex\",value:\"-1\",writeToDom:!0})),t.addStyleClass(\"sapUshellPinButton\"),this.oItemTemplate=new sap.ushell.ui.appfinder.AppBox({title:\"{easyAccess>text}\",url:\"{easyAccess>url}\",pinButton:t,tabindex:{path:\"easyAccess>text\"},press:[e.onAppBoxPressed,e]}),this.oItemTemplate.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"tabindex\",value:\"-1\",writeToDom:!0})),this.layout=new sap.m.FlexBox({items:{path:\"easyAccess>/apps\",template:this.oItemTemplate},wrap:sap.m.FlexWrap.Wrap}),this.layout.addDelegate({onAfterRendering:function(){var e=this.getItems(),t=function(e){\"tabindex\"===e.getKey()&&e.setValue(\"0\")};e.length&&(e[0].getCustomData().forEach(t),e[0].getPinButton().getCustomData().forEach(t))}.bind(this.layout)}),this.crumbsModel=new sap.ui.model.json.JSONModel({crumbs:[]}),this.linkTemplate=new sap.m.Link({text:\"{crumbs>text}\",press:function(e){var t=e.oSource.getBinding(\"text\").getContext().getObject();this.getViewData().navigateHierarchy(t.path,!1)}.bind(this)}),this.breadcrumbs=new sap.m.Breadcrumbs({links:{path:\"crumbs>/crumbs\",template:this.linkTemplate},currentLocationText:\"{/text}\"}),this.breadcrumbs.setModel(this.crumbsModel,\"crumbs\"),[this.breadcrumbs,this.layout]},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\"}})}()},\"sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",{onInit:function(){this.oDialog=null,this.getView().setModel(this.getView().getViewData().easyAccessSystemsModel,\"easyAccessSystems\"),this.getSelectedSystem().then(function(e){e?this.setSystemSelected(e):(this.setSystemSelected(void 0),this.onSystemSelectionPress())}.bind(this),function(){this.setSystemSelected(void 0),this.onSystemSelectionPress()})},onExit:function(){this.oDialog&&this.destroyDialog()},getPersonalizer:function(){if(this.oPersonalizer)return this.oPersonalizer;var e=sap.ushell.Container.getService(\"Personalization\"),t=sap.ui.core.Component.getOwnerComponentFor(this),o={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:!0};return this.oPersonalizer=e.getPersonalizer({container:\"flp.launchpad.appfinder.HierarchyFolders\",item:\"lastSelectedSystem\"},o,t),this.oPersonalizer},getSelectedSystem:function(){var e=new jQuery.Deferred,t=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemsList\");if(t&&t.length&&1===t.length){var o=t[0];this.setSystemSelectedInPersonalization(o),e.resolve(o)}else this.getSelectedSystemInPersonalization().then(function(o){if(o){for(var i=!1,s=0;s<t.length;s++)(t[s].systemName&&t[s].systemName===o.systemName||t[s].systemId===o.systemId)&&(i=!0,e.resolve(o));i||(e.resolve(),this.setSystemSelectedInPersonalization())}else e.resolve()}.bind(this));return e.promise()},setSystemSelected:function(e){this.getView().getModel(\"easyAccessSystems\").setProperty(\"/systemSelected\",e),this.setSystemSelectedInPersonalization(e)},getSelectedSystemInPersonalization:function(){var e=new jQuery.Deferred;return this.getPersonalizer().getPersData().then(function(t){t?e.resolve(t):e.resolve()},function(t){jQuery.sap.log.error(\"Failed to get selected system from the personalization\",t,\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\"),e.reject()}),e.promise()},setSystemSelectedInPersonalization:function(e){this.getPersonalizer().setPersData(e).fail(function(e){jQuery.sap.log.error(\"Failed to save selected system in the personalization\",e,\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\")})},onSystemSelectionPress:function(){var e=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemsList\");e&&e.length&&e.length<=1||this.createDialog().open()},createDialog:function(){return this.oDialog||(this.oDialog=new sap.m.SelectDialog({id:\"systemSelectionDialog\",title:this.getView().translationBundle.getText(\"easyAccessSelectSystemDialogTitle\"),multiSelect:!1,contentHeight:\"20rem\",items:{path:\"/systemsList\",template:new sap.m.StandardListItem({adaptTitleSize:!1,title:{parts:[\"systemName\",\"systemId\"],formatter:this.titleFormatter},description:{parts:[\"systemName\",\"systemId\"],formatter:this.descriptionFormatter},selected:{parts:[\"systemName\",\"systemId\"],formatter:this.selectedFormatter.bind(this)}})},confirm:this.systemConfirmHandler.bind(this),search:this.systemSearchHandler.bind(this),cancel:this.destroyDialog.bind(this)}),this.oDialog.setModel(this.getView().getModel(\"easyAccessSystems\"))),this.oDialog},destroyDialog:function(){this.oDialog.destroyItems(),this.oDialog.destroy(),this.oDialog=null},systemConfirmHandler:function(e){var t=e.getParameters().selectedItem.getBindingContext().getObject();this.setSystemSelected(t),this.destroyDialog()},systemSearchHandler:function(e){var t=e.getParameter(\"value\"),o=new sap.ui.model.Filter(\"systemName\",sap.ui.model.FilterOperator.Contains,t),i=new sap.ui.model.Filter(\"systemId\",sap.ui.model.FilterOperator.Contains,t),s=new sap.ui.model.Filter({filters:[i,o],and:!1});e.getSource().getBinding(\"items\").filter(s)},titleFormatter:function(e,t){return e||t},descriptionFormatter:function(e,t){return e?t:null},selectedFormatter:function(e,t){var o=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemSelected\");return!!o&&(e?o.systemName===e:o.systemId===t)},systemSelectorTextFormatter:function(e){return e?e.systemName?this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithSystem\",e.systemName):this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithSystem\",e.systemId):this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithoutSystem\")}})}()},\"sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",{createContent:function(e){var t=this;return this.translationBundle=sap.ushell.resources.i18n,this.treePath=\"\",this.systemSelectorText=new sap.m.Text({text:{path:\"easyAccessSystemsModel>/systemSelected\",formatter:e.systemSelectorTextFormatter.bind(e)}}),this.oItemTemplate=new sap.m.StandardListItem({title:\"{easyAccess>text}\",type:\"Navigation\",press:function(){var e=this.getBindingContextPath();t.getViewData().navigateHierarchy(e,!0)}}),this.oList=new sap.m.List({items:{path:\"easyAccess>\"+this.treePath+\"/folders\",template:this.oItemTemplate},updateFinished:function(){t.finishEasyAccessAnimation(!0)},noDataText:{path:\"easyAccessSystemsModel>/systemSelected\",formatter:function(e){if(e)return t.translationBundle.getText(\"easyAccessFolderWithNoItems\")}}}),this.pageMenu=new sap.m.Page({title:\"{easyAccess>/text}\",showNavButton:!1,enableScrolling:!0,subHeader:new sap.m.Toolbar({design:\"Info\",height:\"2rem\",active:{path:\"easyAccessSystemsModel>/systemsList\",formatter:function(e){return e.length>1}},content:[this.systemSelectorText,new sap.m.ToolbarSpacer,new sap.ui.core.Icon({width:\"2rem\",src:\"sap-icon://edit\"})],press:[e.onSystemSelectionPress,e]}),content:this.oList}),this.pageMenu.attachNavButtonPress(function(){var e=this.treePath.split(\"/\"),t=e.slice(0,e.length-2);this.getViewData().navigateHierarchy(t.join(\"/\"),!1)}.bind(this)),this.pageMenu},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\"},finishEasyAccessAnimation:function(){this.jqFolderClone&&(this.forwardAnimation?(this.pageMenu.$().addClass(\"forwardToViewAnimation\"),this.jqFolderClone.addClass(\"forwardOutOfViewAnimation\")):(this.pageMenu.$().addClass(\"backToViewAnimation\"),this.jqFolderClone.addClass(\"backOutOfViewAnimation\")),this.jqFolderClone.on(\"animationend\",function(){this.pageMenu.$().removeClass(\"forwardToViewAnimation backToViewAnimation\");var e=this.pageMenu.$().find(\".sapMBarLeft button\");e.length?e.focus():setTimeout(function(){this.pageMenu.$().find(\"header + header\").focus()}.bind(this)),this.jqFolderClone&&this.jqFolderClone.remove()}.bind(this)))},prepareEasyAccessAnimation:function(e){this.forwardAnimation=e,this.jqFolderClone=this.pageMenu.$().clone().removeAttr(\"data-sap-ui\").css(\"z-index\",\"1\"),this.jqFolderClone.find(\"*\").removeAttr(\"id\"),this.pageMenu.$().parent().append(this.jqFolderClone)},updatePageBindings:function(e,t){var o=e.split(\"/\").length>2;this.treePath=e,this.pageMenu.setShowNavButton(o),this.pageMenu.setShowSubHeader(!o),this.prepareEasyAccessAnimation(t),this.pageMenu.bindProperty(\"title\",\"easyAccess>\"+e+\"/text\"),this.oList.bindItems(\"easyAccess>\"+e+\"/folders\",this.oItemTemplate)}})}()},\"sap/ushell/components/flp/launchpad/dashboard/DashboardContent.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.TileContainer\"),sap.ui.controller(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\",{onInit:function(){var e=sap.ui.getCore().getEventBus();this.handleDashboardScroll=this._handleDashboardScroll.bind(this),e.subscribe(\"launchpad\",\"appClosed\",this._resizeHandler,this),e.subscribe(\"launchpad\",\"appOpened\",this._appOpenedHandler,this),e.subscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),e.subscribe(\"launchpad\",\"actionModeInactive\",this._handleGroupVisibilityChanges,this),window.document.addEventListener(\"visibilitychange\",sap.ushell.utils.handleTilesVisibility,!1),this.sViewId=\"#\"+this.oView.getId(),sap.ui.Device.browser.mobile&&e.subscribe(\"launchpad\",\"contentRefresh\",this._webkitMobileRenderFix,this),this.isDesktop=sap.ui.Device.system.desktop&&navigator.userAgent.toLowerCase().indexOf(\"tablet\")<0,this.isNotificationPreviewLoaded=!1,this._setCenterViewPortShift()},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"launchpad\",\"contentRefresh\",this._webkitMobileRenderFix,this),e.unsubscribe(\"launchpad\",\"appClosed\",this._resizeHandler,this),e.unsubscribe(\"launchpad\",\"appOpened\",this._appOpenedHandler,this),e.unsubscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),window.document.removeEventListener(\"visibilitychange\",sap.ushell.utils.handleTilesVisibility,!1)},onAfterRendering:function(){var e,t,o,i,s,n=sap.ui.getCore().getEventBus(),a=this.getView().getDomRef().getElementsByTagName(\"section\");jQuery(a[0]).off(\"scrollstop\",this.handleDashboardScroll),jQuery(a[0]).on(\"scrollstop\",this.handleDashboardScroll),n.unsubscribe(\"launchpad\",\"scrollToGroup\",this._scrollToGroup,this),n.subscribe(\"launchpad\",\"scrollToGroup\",this._scrollToGroup,this),n.unsubscribe(\"launchpad\",\"scrollToFirstVisibleGroup\",this._scrollToFirstVisibleGroup,this),n.subscribe(\"launchpad\",\"scrollToFirstVisibleGroup\",this._scrollToFirstVisibleGroup,this),sap.ui.Device.orientation.attachHandler(function(){var s=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\");s.length&&(e=this.getView().getModel(),t=e.getProperty(\"/topGroupInViewPortIndex\"),s.get(t)&&(o=sap.ui.getCore().byId(s.get(t).id),i=e.getProperty(\"/editTitle\"),this._publishAsync(\"launchpad\",\"scrollToGroup\",{group:o,isInEditTitle:i})))},this),jQuery(window).bind(\"resize\",function(){clearTimeout(s),s=setTimeout(this._resizeHandler.bind(this),300)}.bind(this)),this.getView().getModel().getProperty(\"/personalization\")&&!sap.ushell.components.flp.ActionMode&&(jQuery.sap.require(\"sap.ushell.components.flp.ActionMode\"),sap.ushell.components.flp.ActionMode.init(this.getView().getModel())),this._updateTopGroupInModel()},_setCenterViewPortShift:function(){var e=sap.ui.getCore().byId(\"viewPortContainer\");e&&e.shiftCenterTransition(!0)},_dashboardDeleteTileHandler:function(e){var t=e.getSource().getBindingContext().getObject().object,o={originalTileId:sap.ushell.Container.getService(\"LaunchPage\").getTileId(t)};sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",o,this)},dashboardTilePress:function(){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"dashboardTileClick\")},_updateTopGroupInModel:function(){var e=this.getView().getModel(),t=this._getIndexOfTopGroupInViewPort();e.setProperty(\"/topGroupInViewPortIndex\",t)},_getIndexOfTopGroupInViewPort:function(){var e,t=this.getView().getDomRef().getElementsByTagName(\"section\"),o=$(t).find(\".sapUshellTileContainer\"),i=o.not(\".sapUshellHidden\").first().offset(),s=i&&i.top||0,n=[],a=t[0].scrollTop,r=0;return o&&i?(o.each(function(){if(!jQuery(this).hasClass(\"sapUshellHidden\")){var e=jQuery(this).parent().offset().top;n.push([e,e+jQuery(this).parent().height()])}}),e=a+s,jQuery.each(n,function(t,o){var i=o[0],s=o[1];if(i-24<=e&&e<=s)return r=t,!1}),r):r},_handleDashboardScroll:function(){var e=this.getView();this._updateTopGroupInModel(),sap.ushell.utils.handleTilesVisibility(),e.oAnchorNavigationBar.closeOverflowPopup(),e.oAnchorNavigationBar.reArrangeNavigationBarElements()},_handleGroupDeletion:function(e){jQuery.sap.require(\"sap.m.MessageBox\");var t=sap.ui.getCore().getEventBus(),o=e.getObject(),i=o.removable,s=o.title,n=o.groupId,a=sap.ushell.resources.i18n,r=sap.ushell.Container.getService(\"Message\"),l=sap.m.MessageBox.Action,u=i?l.DELETE:a.getText(\"ResetGroupBtn\");r.confirm(a.getText(i?\"delete_group_msg\":\"reset_group_msg\",s),function(e){e===u&&t.publish(\"launchpad\",i?\"deleteGroup\":\"resetGroup\",{groupId:n})},a.getText(i?\"delete_group\":\"reset_group\"),[u,l.CANCEL])},_modelLoaded:function(){this.bModelInitialized=!0,sap.ushell.Layout.getInitPromise().then(function(){this._initializeUIActions()}.bind(this))},_initializeUIActions:function(){(new sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions).initializeUIActions(this)},_forceBrowserRerenderElement:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame;t?t(function(){var t=e.style.display;e.style.display=\"none\",e.style.display=t}):jQuery.sap.log.info(\"unsupported browser for animation frame\")},_webkitMobileRenderFix:function(){(sap.ui.Device.browser.chrome||sap.ui.Device.os.android)&&this._forceBrowserRerenderElement(document.body)},_resizeHandler:function(){this._addBottomSpace(),sap.ushell.utils.handleTilesVisibility();var e=jQuery.find(\"#dashboardGroups:visible\").length;sap.ushell.Layout&&e&&(sap.ushell.Layout.reRenderGroupsLayout(null),this._initializeUIActions())},_appOpenedHandler:function(e,t,o){var i,s,n=this.getView().getModel();s=this.getOwnerComponent().getMetadata().getComponentName(),-1===o.additionalInformation.indexOf(s)&&(sap.ushell.utils.setTilesNoVisibility(),(i=sap.ui.getCore().byId(\"viewPortContainer\"))&&i.shiftCenterTransition(!1)),sap.ushell.components.flp.ActionMode&&sap.ushell.components.flp.ActionMode.oModel&&sap.ushell.components.flp.ActionMode.oModel.getProperty(\"/tileActionModeActive\")&&sap.ushell.components.flp.ActionMode.toggleActionMode(n,\"Menu Item\")},_addBottomSpace:function(){sap.ushell.utils.addBottomSpace()},_scrollToFirstVisibleGroup:function(e,t,o){var i,s=this.oView.oDashboardGroupsBox.getGroups(),n=o.fromTop>0?o.fromTop:0;i=o.group?o.group.getGroupId():o.groupId,s&&(jQuery.each(s,function(e,t){if(t.getGroupId()===i){var s=document.getElementById(t.sId).offsetTop;return jQuery(\".sapUshellDashboardView section\").stop().animate({scrollTop:s+n},0),o.group&&o.focus&&jQuery.sap.byId(t.sId).focus(),!1}}),sap.ushell.utils.addBottomSpace())},_scrollToGroup:function(e,t,o){var i,s=this,n=this.oView.oDashboardGroupsBox.getGroups();i=o.group?o.group.getGroupId():o.groupId,n&&jQuery.each(this.oView.oDashboardGroupsBox.getGroups(),function(e,t){var n;if(t.getGroupId()===i)return setTimeout(function(){n=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+document.getElementById(t.sId).getBoundingClientRect().top,n+=49,jQuery(\".sapUshellDashboardView section\").stop().animate({scrollTop:n},500),o.isInEditTitle&&t.setEditMode(!0)},300),(o.groupId||o.groupChanged)&&s._addBottomSpace(),sap.ushell.utils.handleTilesVisibility(),!1})},_handleDrop:function(e,t){var o,i,s=sap.ushell.Layout.getLayoutEngine().layoutEndCallback(),n=sap.ui.getCore().getEventBus();s.tileMovedFlag&&(o=!0,i=!0,s.srcGroup!==s.dstGroup?o=i=!1:s.tile!==s.dstGroup.getTiles()[s.dstTileIndex]&&(i=!1),s.srcGroup.removeAggregation(\"tiles\",s.tile,o),s.dstGroup.insertAggregation(\"tiles\",s.tile,s.dstTileIndex,i),n.publish(\"launchpad\",\"moveTile\",{sTileId:s.tile.getUuid(),toGroupId:s.dstGroup.getGroupId(),toIndex:s.dstTileIndex}),n.publish(\"launchpad\",\"sortableStop\"))},_handleAnchorItemPress:function(e){this._scrollToGroup(\"launchpad\",\"scrollToGroup\",{group:e.getParameter(\"group\"),groupChanged:!1,focus:\"sapenter\"===e.getParameter(\"action\")})},_addGroupHandler:function(e){var t,o=e.getSource().getBindingContext().getPath().split(\"/\");t=window.parseInt(o[o.length-1],10),\"afterContent\"===e.getSource().sParentAggregationName&&(t+=1),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"createGroupAt\",{title:sap.ushell.resources.i18n.getText(\"new_group_name\"),location:t,isRendered:!0})},_notificationsUpdateCallback:function(){var e,t,o,i,s,n,a,r=this,l=0,u=this.getView().getModel().getProperty(\"/previewNotificationItems\"),p=[],d=[],c=!1,h=5-u.length-1;sap.ushell.Container.getService(\"Notifications\").getNotifications().done(function(g){if(g){var f=sap.ui.getCore().byId(\"notifications-preview-container\");if(this.isNotificationPreviewLoaded||f.setEnableBounceAnimations(!0),u&&u.length)for(s=0;s<u.length;s++){var m=u[s].originalItemId,y=!1;for(n=0;n<g.length;n++){if(g[n].Id===m){y=!0;break}if(u[s].originalTimestamp>g[n].CreatedAt)break}y||(u.splice(s,1),c=!0,s--)}for(u&&u.length>0&&(e=u[0].originalTimestamp,t=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(e)),s=0;s<g.length&&l<5;s++)o=g[s].CreatedAt,i=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(o),(!t||i>t)&&(p[l]=g[s],l++);var v=p.length;if(u&&u.length>0&&u.length<5&&g.length>u.length)for(e=u[u.length-1].originalTimestamp,t=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(e),l=0,s=0;s<g.length&&l<=h;s++)o=g[s].CreatedAt,(i=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(o))<t&&(p[v+l]=g[s],l++);if(0!==p.length||c){for(n=0;n<p.length;n++)a=new sap.m.NotificationListItem({hideShowMoreButton:!0,description:p[n].SensitiveText,title:p[n].Text,datetime:sap.ushell.utils.formatDate(p[n].CreatedAt),priority:sap.ui.core.Priority[p[n].Priority.charAt(0)+p[n].Priority.substr(1).toLowerCase()],press:function(e){var t=this.getBindingContext().getPath().split(\"/\"),o=\"/\"+t[1]+\"/\"+t[2],i=this.getModel().getProperty(o),s=i.NavigationTargetObject,n=i.NavigationTargetAction,a=i.NavigationTargetParams,r=i.originalItemId,l=sap.ushell.Container.getService(\"Notifications\");sap.ushell.utils.toExternalWithParameters(s,n,a),l.markRead(r).fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"notificationsFailedMarkRead\"))})},close:function(e){var t=this.getBindingContext().getPath().split(\"/\"),o=\"/\"+t[1]+\"/\"+t[2],i=this.getModel().getProperty(o).originalItemId,s=r.getView().getModel().getProperty(\"/previewNotificationItems\"),n=sap.ushell.Container.getService(\"Notifications\").dismissNotification(i);n.done(function(){var e;for(e=0;e<s.length&&s[e].originalItemId!==i;e++);s.splice(e,1),r.getView().getModel().setProperty(\"/previewNotificationItems\",s)}),n.fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"notificationsFailedDismiss\")),r.getView().getModel().setProperty(\"/previewNotificationItems\",s)})}}),sap.ui.Device.system.desktop&&(a.removeStyleClass(\"sapUiSizeCozy\"),a.addStyleClass(\"sapUiSizeCompact\")),d.push({previewItemId:a.getId(),originalItemId:p[n].Id,originalTimestamp:p[n].CreatedAt,NavigationTargetObject:p[n].NavigationTargetObject,NavigationTargetAction:p[n].NavigationTargetAction,NavigationTargetParams:p[n].NavigationTargetParams}),\"RightCenter\"===sap.ui.getCore().byId(\"viewPortContainer\").getCurrentState()&&a.addStyleClass(\"sapUshellRightFloatingContainerItemBounceOut\");if(0===u.length)return r.getView().getModel().setProperty(\"/previewNotificationItems\",d),void this._disableNotificationPreviewBouncingAnimation(f);for(s=d.length-1;s>-1;s--)5===u.length&&setTimeout(function(){u.pop(),r.getView().getModel().setProperty(\"/previewNotificationItems\",u)},1e3),d[s].originalTimestamp>u[0].originalTimestamp?u.unshift(d[s]):u.push(d[s]);r.getView().getModel().setProperty(\"/previewNotificationItems\",u),this._disableNotificationPreviewBouncingAnimation(f)}else this._disableNotificationPreviewBouncingAnimation(f)}}.bind(this)).fail(function(){})},_disableNotificationPreviewBouncingAnimation:function(e){this.isNotificationPreviewLoaded||(this.isNotificationPreviewLoaded=!0,e.setEnableBounceAnimations(!1))},_publishAsync:function(e,t,o){var i=sap.ui.getCore().getEventBus();window.setTimeout(jQuery.proxy(i.publish,i,e,t,o),1)},_changeGroupVisibility:function(e){var t=e.getPath(),o=e.getModel(),i=o.getProperty(t+\"/isGroupVisible\");o.setProperty(t+\"/isGroupVisible\",!i)},_handleGroupVisibilityChanges:function(e,t,o){var i,s=sap.ushell.Container.getService(\"LaunchPage\"),n=this.getView().getModel(),a=sap.ushell.utils.getCurrentHiddenGroupIds(n),r=a.length===o.length;a.some(function(e,t){return!r||!(r=-1!==jQuery.inArray(e,o))}),r||((i=s.hideGroups(a)).done(function(){n.updateBindings(\"groups\"),this._handleToastMessage(a.length)}.bind(this)),i.fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"hideGroups_error\"))}))},_handleToastMessage:function(e){var t=\"\";void 0!==typeof e&&(t=0===e?sap.ushell.resources.i18n.getText(\"hideGroups_none\"):1===e?sap.ushell.resources.i18n.getText(\"hideGroups_single\"):sap.ushell.resources.i18n.getText(\"hideGroups_multiple\",e),sap.ushell.Container.getService(\"Message\").show(sap.ushell.services.Message.Type.INFO,t))}})}()},\"sap/ushell/components/flp/launchpad/dashboard/DashboardContent.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.TileContainer\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Tile\"),jQuery.sap.require(\"sap.ushell.override\"),jQuery.sap.require(\"sap.ushell.resources\"),jQuery.sap.require(\"sap.ushell.Layout\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.AnchorItem\"),jQuery.sap.require(\"sap.ushell.ui.shell.RightFloatingContainer\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\",{createContent:function(e){var t,o,i=this,s=sap.ui.getCore().byId(\"viewPortContainer\");this.isTouch=!sap.ui.Device.system.combi&&(sap.ui.Device.system.phone||sap.ui.Device.system.tablet),this.isCombi=sap.ui.Device.system.combi,this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.oModel=this.parentComponent.getModel(),this.addStyleClass(\"sapUshellDashboardView\"),this.ieHtml5DnD=!!(this.oModel.getProperty(\"/personalization\")&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)&&sap.ui.Device.browser.version>=11&&(sap.ui.Device.system.combi||sap.ui.Device.system.tablet)),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"contentRendered\",this._onAfterDashboardShow,this),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"initialConfigurationSet\",this._onAfterDashboardShow,this),sap.ui.getCore().byId(\"navContainerFlp\").attachAfterNavigate(this.onAfterNavigate,this),this.addEventDelegate({onBeforeFirstShow:function(){sap.ushell.components.flp.launchpad.getDashboardManager().loadPersonalizedGroups(),i.onAfterNavigate()},onAfterShow:function(){i.getController()._addBottomSpace(),sap.ushell.Container.getRenderer(\"fiori2\").showRightFloatingContainer(!1)},onAfterHide:function(e){}}),this.oAnchorNavigationBar=this._getAnchorNavigationBar(e),t=new sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox,this.oDashboardGroupsBox=t.createGroupsBox(e,this.oModel),o=this.oModel.getProperty(\"/configEnableNotificationsPreview\"),s&&s.shiftCenterTransitionEnabled(o);return this.oPreviewNotificationsContainerPlaceholder=new sap.ushell.ui.shell.RightFloatingContainer({id:\"notifications-preview-container-placeholder\",visible:{path:\"/enableNotificationsPreview\",formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass(\"sapUshellPreviewNotificationsConainer\"),this.oPreviewNotificationsContainer=new sap.ushell.ui.shell.RightFloatingContainer({id:\"notifications-preview-container\",top:5.5,right:\"1rem\",floatingContainerItems:{path:\"/previewNotificationItems\",factory:function(e,t){return sap.ui.getCore().byId(t.getObject().previewItemId)}},visible:{path:\"/enableNotificationsPreview\",formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass(\"sapContrastPlus\").addStyleClass(\"sapContrast\"),this.oPreviewNotificationsContainer.updateAggregation=function(e){var t,o=this.mBindingInfos[e],i=this.getMetadata().getJSONKeys()[e];jQuery.each(this[i._sGetter](),jQuery.proxy(function(e,t){this[i._sRemoveMutator](t)},this)),jQuery.each(o.binding.getContexts(),jQuery.proxy(function(e,s){t=o.factory(this.getId()+\"-\"+e,s)?o.factory(this.getId()+\"-\"+e,s).setBindingContext(s,o.model):\"\",this[i._sMutator](t)},this))},this.oPage=new sap.m.Page(\"sapUshellDashboardPage\",{customHeader:this.oAnchorNavigationBar,content:[this.oDashboardGroupsBox,this.oPreviewNotificationsContainerPlaceholder,this.oPreviewNotificationsContainer]}),[this.oPage]},_handleNotificationsPreviewVisibility:function(e){var t=sap.ushell.Container.getRenderer(\"fiori2\"),o=\"Center\"===t.getCurrentViewportState(),i=sap.ushell.Container.getService(\"Notifications\");return this.oDashboardGroupsBox.toggleStyleClass(\"sapUshellDashboardGroupsContainerSqueezed\",e),this.oAnchorNavigationBar.toggleStyleClass(\"sapUshellAnchorNavigationBarSqueezed\",e),(e=e&&o)&&(this.bNotificationsRegistered||(i.registerNotificationsUpdateCallback(this.oController._notificationsUpdateCallback.bind(this.oController)),this.bNotificationsRegistered=!0),i.isFirstDataLoaded()&&setTimeout(function(){this.oController&&this.oController._notificationsUpdateCallback&&this.oController._notificationsUpdateCallback()}.bind(this),300),this.bSubscribedToViewportStateSwitch||(this.bHeadsupNotificationsInitialyVisible=t.getRightFloatingContainerVisibility(),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"afterSwitchState\",this._handleViewportStateSwitch,this),this.bSubscribedToViewportStateSwitch=!0)),e},_fOnAfterAnchorBarRenderingHandler:function(e){var t=this.getModel()&&this.getModel().getProperty(\"/enableHelp\");this.getDefaultGroup()?t&&this.addStyleClass(\"help-id-homeAnchorNavigationBarItem\"):t&&this.addStyleClass(\"help-id-anchorNavigationBarItem\")},_getAnchorItemTemplate:function(){return new sap.ushell.ui.launchpad.AnchorItem({index:\"{index}\",title:\"{title}\",groupId:\"{groupId}\",defaultGroup:\"{isDefaultGroup}\",selected:!1,isGroupRendered:\"{isRendered}\",visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,t,o){return!!o[e?1:0]&&(t||e)}},afterRendering:this._fOnAfterAnchorBarRenderingHandler})},_getAnchorNavigationBar:function(e){var t=this._getAnchorItemTemplate(),o=new sap.ushell.ui.launchpad.AnchorNavigationBar(\"anchorNavigationBar\",{selectedItemIndex:\"{/topGroupInViewPortIndex}\",itemPress:[function(e){this._handleAnchorItemPress(e)},e],groups:{path:\"/groups\",template:t}});return(o=this._extendAnchorNavigationBar(o)).addStyleClass(\"sapContrastPlus\"),o},_extendAnchorNavigationBar:function(e){return jQuery.extend(e,{onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e,this.bGroupWasPressed),this.bGroupWasPressed=!1},onsaptabnext:function(e){e.preventDefault();var t=jQuery(\":focus\");!t.parent().parent().siblings().hasClass(\"sapUshellAnchorItemOverFlow\")||t.parent().parent().siblings().hasClass(\"sapUshellAnchorItemOverFlow\")&&t.parent().parent().siblings().hasClass(\"sapUshellShellHidden\")?(sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e),this.bGroupWasPressed=!1):jQuery(\".sapUshellAnchorItemOverFlow button\").focus()},onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabprevious:function(e){if(e.preventDefault(),jQuery(\":focus\").parent().hasClass(\"sapUshellAnchorItemOverFlow\")){var t=jQuery(\".sapUshellAnchorItem:visible:first\");t.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),t.focus()}else sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsapenter:function(e){e.srcControl.getDomRef().click()},onsapspace:function(e){e.srcControl.getDomRef().click()}})},_addActionModeButtonsToDashboard:function(){sap.ushell.components.flp.ActionMode&&sap.ushell.components.flp.ActionMode.init(this.getModel())},_createActionModeMenuButton:function(){var e=sap.ushell.Container.getRenderer(\"fiori2\").addActionButton(\"sap.ushell.ui.launchpad.ActionItem\",{id:\"ActionModeBtn\",text:sap.ushell.resources.i18n.getText(\"activateActionMode\"),icon:\"sap-icon://edit\",press:function(){var e=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,\"Menu Item\",e)}.bind(this)},!1,!0);this.oModel.getProperty(\"/enableHelp\")&&e.addStyleClass(\"help-id-ActionModeBtn\"),sap.ushell.Container.getRenderer(\"fiori2\").showActionButton(e.getId(),!0)},_createFloatingActionButton:function(){var e=sap.ushell.Container.getRenderer(\"fiori2\").addFloatingActionButton(\"sap.ushell.ui.shell.ShellFloatingAction\",{id:\"floatingActionBtn\",icon:\"sap-icon://edit\",press:function(e){var t=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,\"Floating Button\",t),sap.ushell.Layout.reRenderGroupsLayout(null)}.bind(this),tooltip:sap.ushell.resources.i18n.getText(\"activateActionMode\")},!1,!0);e.data(\"sap-ui-fastnavgroup\",\"true\",!0),e.addEventDelegate({onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=!1},onsaptabprevious:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=!1}}),this.oModel.getProperty(\"/enableHelp\")&&e.addStyleClass(\"help-id-floatingActionBtn\"),sap.ushell.Container.getRenderer(\"fiori2\").showFloatingActionButton(e.getId(),!0)},_createActionButtons:function(){var e=this.oModel.getProperty(\"/personalization\"),t=this;this.oModel.getProperty(\"/actionModeMenuButtonEnabled\")&&e&&this._createActionModeMenuButton();var o=sap.ushell.Container.getRenderer(\"fiori2\").getModelConfiguration().enableMeArea;this.oModel.getProperty(\"/actionModeFloatingButtonEnabled\")&&e&&!o&&this._createFloatingActionButton(),e&&(this.oOpenCatalogItem=sap.ushell.Container.getRenderer(\"fiori2\").addActionButton(\"sap.ushell.ui.launchpad.ActionItem\",{id:\"openCatalogBtn\",text:sap.ushell.resources.i18n.getText(\"open_appFinder\"),icon:\"sap-icon://sys-find\",actionType:o?\"action\":\"default\",press:function(){t.parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\"}),sap.ui.getCore().byId(\"viewPortContainer\").switchState(\"Center\")}},!0,!0),this.oModel.getProperty(\"/enableHelp\")&&this.oOpenCatalogItem.addStyleClass(\"help-id-openCatalogActionItem\"))},onAfterNavigate:function(e){var t=sap.ui.getCore().byId(\"navContainerFlp\"),o=\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==(t?t.getCurrentPage().getViewName():void 0),i=sap.ushell.Container.getRenderer(\"fiori2\");if(o=o&&sap.ui.getCore().byId(\"shell\")&&sap.ui.getCore().byId(\"shell\").getModel()&&\"home\"==sap.ui.getCore().byId(\"shell\").getModel().getProperty(\"/currentState/stateName\")){i.createExtendedShellState(\"dashboardExtendedShellState\",function(){this._createActionButtons(),i.setHeaderHiding(!1)}.bind(this)),this.getController()._setCenterViewPortShift(),this._addActionModeButtonsToDashboard();var s=this.oAnchorNavigationBar.getVisibleGroups()[this.oAnchorNavigationBar.getSelectedItemIndex()];s&&jQuery(s.getDomRef()).focus(),setTimeout(function(){sap.ushell.Container&&i.applyExtendedShellState(\"dashboardExtendedShellState\")},0),this.oAnchorNavigationBar&&this.oAnchorNavigationBar.anchorItems&&(this.oAnchorNavigationBar.setNavigationBarItemsVisibility(),this.oAnchorNavigationBar.adjustItemSelection(this.oAnchorNavigationBar.getSelectedItemIndex()))}},_handleViewportStateSwitch:function(e,t,o){if(\"Center\"==o.getParameter(\"to\")){var i=sap.ui.getCore().byId(\"notifications-preview-container\");i&&i.setFloatingContainerItemsVisiblity&&i.setFloatingContainerItemsVisiblity(!0)}},_handleHeadsupNotificationsPresentation:function(e){var t=sap.ushell.Container.getRenderer(\"fiori2\"),o=\"Center\"===e,i=this.oPreviewNotificationsContainer.getDomRef(),s=i&&i.getBoundingClientRect(),n=!!s&&s.bottom<0,a=o?n:this.bHeadsupNotificationsInitialyVisible;t.showRightFloatingContainer(a)},_onAfterDashboardShow:function(e){var t,o,i=jQuery(\".sapUshellTileContainer:visible\"),s=sap.ui.getCore().byId(\"navContainerFlp\"),n=\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==(s?s.getCurrentPage().getViewName():void 0),a=this.oModel.getProperty(\"/tileActionModeActive\");if(n){if(!a){sap.ushell.utils.handleTilesVisibility(),sap.ushell.utils.refreshTiles();var r=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),l=jQuery(i[r]).find(\".sapUshellTile:first\"),u=l.length?l:jQuery(\"#configBtn\");o=this.oModel.getProperty(\"/enableNotificationsPreview\"),(t=sap.ui.getCore().byId(\"viewPortContainer\"))&&t.shiftCenterTransition(o),setTimeout(function(){u.focus()},1e3)}this.onAfterNavigate()}},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"},_isInDeashboard:function(){var e=sap.ui.getCore().byId(\"viewPortContainer\"),t=sap.ui.getCore().byId(\"dashboardGroups\");return\"application-Shell-home\"===e.getCurrentCenterPage()&&\"home\"===t.getModel().getProperty(\"/currentViewName\")},exit:function(){sap.ui.core.mvc.View.prototype.exit.apply(this,arguments),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"contentRendered\",this._onAfterDashboardShow,this),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"initialConfigurationSet\",this._onAfterDashboardShow,this),this.bSubscribedToViewportStateSwitch&&(sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"afterSwitchState\",this._handleViewportStateSwitch,this),this.bSubscribedToViewportStateSwitch=!1)}})}()},\"sap/ushell/components/flp/launchpad/dashboard/DashboardGroupsBox.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\"),sap.ui.base.Object.extend(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\",{metadata:{publicMethods:[\"createGroupsBox\"]},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox&&sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox())return sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox();sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=jQuery.sap.getter(this.getInterface()),this.oController=void 0,this.oGroupsContainer=void 0,this.bTileContainersContentAdded=!1,sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeActive\",this._addTileContainersContent,this)},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeActive\",this._addTileContainersContent,this),sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=void 0},createGroupsBox:function(e,t){this.oController=e;var o,i,s=this,n=this._getTileContainerTemplate(e,t),a=function(){return s.oModel.getProperty(\"/enableLockedGroupsCompactLayout\")&&!s.oModel.getProperty(\"/tileActionModeActive\")},r=function(e){var t,o;return e&&(t=e.getDomRef())&&(o=t.querySelector(\".sapUshellPlusTile\"))?o:null},l=function(e){var t=r(e.currentGroup),o=r(e.endGroup);e.tiles[e.tiles.length-2]===e.item||0===e.endGroup.getTiles().length?s._hidePlusTile(o):s._showPlusTile(o),e.currentGroup!==e.endGroup&&s._showPlusTile(t)};return o=function(){sap.ushell.Layout.getLayoutEngine().setExcludedControl(sap.ushell.ui.launchpad.PlusTile),sap.ushell.Layout.getLayoutEngine().setReorderTilesCallback.call(sap.ushell.Layout.layoutEngine,l)},i=function(){var t=document.querySelectorAll(\".sapUshellTileContainer:not(.sapUshellHidden) .sapUshellInner\")[0];if(t){var i=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+t.getBoundingClientRect().top;jQuery(\".sapUshellDashboardView section\").scrollTop(i-7)}if(!sap.ushell.Layout.isInited){sap.ushell.Layout.init({getGroups:this.getGroups.bind(this),isLockedGroupsCompactLayoutEnabled:a}).done(o),sap.ui.Device.media.attachHandler(function(){this.bIsDestroyed||sap.ushell.Layout.reRenderGroupsLayout(null)},this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);var s=this.getDomRef();e.getView().sDashboardGroupsWrapperId=!jQuery.isEmptyObject(s)&&s.parentNode?s.parentNode.id:\"\"}sap.ushell.Layout.reRenderGroupsLayout(null),this.getGroups().length&&(e.bModelInitialized&&e._initializeUIActions(),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRendered\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRefresh\"),sap.ui.getCore().byId(\"loadingDialog\").closeLoadingScreen(),e._addBottomSpace(),this.getModel().getProperty(\"/tilesOpacity\")&&sap.ushell.utils.handleTilesOpacity(this.getModel()));try{sap.ushell.utils.handleTilesVisibility()}catch(e){}},jQuery.sap.require(\"sap.ushell.ui.launchpad.DashboardGroupsContainer\"),this.oGroupsContainer=new sap.ushell.ui.launchpad.DashboardGroupsContainer(\"dashboardGroups\",{accessibilityLabel:sap.ushell.resources.i18n.getText(\"DashboardGroups_label\"),groups:{path:\"/groups\",template:n},afterRendering:i}),this.oGroupsContainer.addEventDelegate({onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0);var t=jQuery(\".sapUshellAnchorItem:visible:first\");t.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),t.focus()},onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabnext:function(e){s.oModel.getProperty(\"/tileActionModeActive\")&&document.activeElement.closest(\".sapUshellTileContainerHeader\")||(e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e))},onsaptabprevious:function(e){sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0);var t=jQuery(\":focus\");if(!s.oModel.getProperty(\"/tileActionModeActive\")||t.hasClass(\"sapUshellTileContainerHeader\")){e.preventDefault();var o=jQuery(\".sapUshellAnchorItem:visible:first\"),i=jQuery(\".sapUshellAnchorItemOverFlow\");i||o.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),i.hasClass(\"sapUshellShellHidden\")?o.focus():i.find(\"button\").focus()}}}),this.oModel=t,this.oGroupsContainer},_getTileContainerTemplate:function(e,t){var o=this;return new sap.ushell.ui.launchpad.TileContainer({headerText:\"{title}\",tooltip:\"{title}\",tileActionModeActive:\"{/tileActionModeActive}\",ieHtml5DnD:e.getView().ieHtml5DnD,enableHelp:\"{/enableHelp}\",groupId:\"{groupId}\",defaultGroup:\"{isDefaultGroup}\",isLastGroup:\"{isLastGroup}\",isGroupLocked:\"{isGroupLocked}\",showHeader:!0,editMode:\"{editMode}\",titleChange:function(e){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"changeGroupTitle\",{groupId:e.getSource().getGroupId(),newTitle:e.getParameter(\"newTitle\")})},showPlaceholder:{parts:[\"/tileActionModeActive\",\"tiles/length\"],formatter:function(e){return(e||!this.groupHasTiles())&&!this.getIsGroupLocked()}},visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,t,o){return!!o[e?1:0]&&(t||e)}},links:this._getLinkTemplate(),tiles:this._getTileTemplate(),add:function(e){o.oController.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify({targetGroup:encodeURIComponent(e.getSource().getBindingContext().sPath)})})},afterRendering:jQuery.proxy(this._tileContainerAfterRenderingHandler,o)})},_getLinkTemplate:function(){var e=new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0);return{path:\"links\",templateShareable:!0,template:new sap.ushell.ui.launchpad.LinkTileWrapper({uuid:\"{uuid}\",tileCatalogId:\"{tileCatalogId}\",target:\"{target}\",isLocked:\"{isLocked}\",tileActionModeActive:\"{/tileActionModeActive}\",animationRendered:!1,debugInfo:\"{debugInfo}\",ieHtml5DnD:this.oController.getView().ieHtml5DnD,tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},afterRendering:function(e){jQuery(this.getDomRef().getElementsByTagName(\"a\")).attr(\"tabindex\",-1)}}),filters:[e]}},_getTileTemplate:function(){var e=new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0);return{path:\"tiles\",templateShareable:!0,template:new sap.ushell.ui.launchpad.Tile({long:\"{long}\",uuid:\"{uuid}\",tileCatalogId:\"{tileCatalogId}\",target:\"{target}\",isLocked:\"{isLocked}\",tileActionModeActive:\"{/tileActionModeActive}\",showActionsIcon:\"{showActionsIcon}\",rgba:\"{rgba}\",animationRendered:!1,debugInfo:\"{debugInfo}\",ieHtml5DnD:this.oController.getView().ieHtml5DnD,afterRendering:function(e){var t,o=e.getSource().getBindingContext();o&&(t=o.getObject(),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"tileRendered\",{tileId:t.originalTileId,tileDomElementId:e.getSource().getId()}))},tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},coverDivPress:function(e){e.oSource.getBindingContext().getObject().tileIsBeingMoved||sap.ushell.components.flp.ActionMode._openActionsMenu(e)},showActions:function(e){sap.ushell.components.flp.ActionMode._openActionsMenu(e)},deletePress:function(e){var t=e.getSource().getBindingContext().getObject().object,o={originalTileId:sap.ushell.Container.getService(\"LaunchPage\").getTileId(t)};sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",o,this)},press:[this.oController.dashboardTilePress,this.oController]}),filters:[e]}},_tileContainerAfterRenderingHandler:function(e){if(e.oSource.bindProperty(\"showBackground\",\"/tileActionModeActive\"),e.oSource.bindProperty(\"showDragIndicator\",{parts:[\"/tileActionModeActive\",\"/enableDragIndicator\"],formatter:function(e,t){return e&&t&&!this.getIsGroupLocked()&&!this.getDefaultGroup()}}),e.oSource.bindProperty(\"showMobileActions\",{parts:[\"/tileActionModeActive\"],formatter:function(e){return e&&!this.getDefaultGroup()}}),e.oSource.bindProperty(\"showIcon\",{parts:[\"/isInDrag\",\"/tileActionModeActive\"],formatter:function(e,t){return this.getIsGroupLocked()&&(e||t)}}),e.oSource.bindProperty(\"deluminate\",{parts:[\"/isInDrag\"],formatter:function(e){return this.getIsGroupLocked()&&e}}),this.bTileContainersContentAdded&&!e.oSource.getBeforeContent().length){var t,o=e.oSource.getModel().getProperty(\"/groups\");for(t=0;t<o.length&&o[t].groupId!==e.oSource.getGroupId();t++);this._addTileContainerContent(t)}},_addTileContainersContent:function(){this.bTileContainersContentAdded||(this.oGroupsContainer.getGroups().forEach(function(e,t){this._addTileContainerContent(t)}.bind(this)),this.bTileContainersContentAdded=!0)},_addTileContainerContent:function(e){var t,o=this.oGroupsContainer.getGroups()[e];o&&(t=o.getBindingContext().getPath()+\"/\",o.addBeforeContent(this._getBeforeContent(this.oController,t)),o.addAfterContent(this._getAfterContent(this.oController,t)),o.addHeaderAction(this._getHeaderAction(this.oController,t)))},_getBeforeContent:function(e){var t=new sap.m.Button({icon:\"sap-icon://add\",text:sap.ushell.resources.i18n.getText(\"add_group_at\"),visible:{parts:[\"/tileActionModeActive\"],formatter:function(e){return!this.getParent().getIsGroupLocked()&&!this.getParent().getDefaultGroup()&&e}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass(\"sapUshellAddGroupButton\");return t.addDelegate({onAfterRendering:function(){jQuery(\".sapUshellAddGroupButton\").attr(\"tabindex\",-1)}}),t},_getAfterContent:function(e){var t=new sap.m.Button({icon:\"sap-icon://add\",text:sap.ushell.resources.i18n.getText(\"add_group_at\"),visible:{parts:[\"isLastGroup\",\"/tileActionModeActive\",\"/isInDrag\"],formatter:function(e,t,o){return e&&t}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass(\"sapUshellAddGroupButton\");return t.addDelegate({onAfterRendering:function(){jQuery(\".sapUshellAddGroupButton\").attr(\"tabindex\",-1)}}),t},_getHeaderActions:function(){return[new sap.m.Button({text:{path:\"isGroupVisible\",formatter:function(e){return sap.ui.Device.system.phone&&this.setIcon(\"sap-icon://edit\"),sap.ushell.resources.i18n.getText(e?\"HideGroupBtn\":\"ShowGroupBtn\")}},type:sap.m.ButtonType.Transparent,visible:{parts:[\"/tileActionModeActive\",\"/enableHideGroups\",\"isGroupLocked\",\"isDefaultGroup\"],formatter:function(e,t,o,i){return e&&t&&!o&&!i}},press:function(e){var t=e.getSource().getBindingContext();this.oController._changeGroupVisibility(t)}.bind(this)}).addStyleClass(\"sapUshellHeaderActionButton\"),new sap.m.Button({text:{path:\"removable\",formatter:function(e){return sap.ui.Device.system.phone&&(e?this.setIcon(\"sap-icon://delete\"):this.setIcon(\"sap-icon://refresh\")),sap.ushell.resources.i18n.getText(e?\"DeleteGroupBtn\":\"ResetGroupBtn\")}},type:sap.m.ButtonType.Transparent,visible:{parts:[\"/tileActionModeActive\",\"isDefaultGroup\"],formatter:function(e,t){return e&&!t}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},press:function(e){var t=e.getSource().getBindingContext();this.oController._handleGroupDeletion(t)}.bind(this)}).addStyleClass(\"sapUshellHeaderActionButton\")]},_getHeaderAction:function(e,t){return jQuery.sap.require(\"sap.ushell.ui.launchpad.GroupHeaderActions\"),new sap.ushell.ui.launchpad.GroupHeaderActions({content:this._getHeaderActions(),tileActionModeActive:{parts:[\"/tileActionModeActive\",t+\"isDefaultGroup\"],formatter:function(e,t){return e&&!t}},isOverflow:\"{/isPhoneWidth}\"}).addStyleClass(\"sapUshellOverlayGroupActionPanel\")},_hidePlusTile:function(e){e&&(e.className+=\" sapUshellHidePlusTile\")},_showPlusTile:function(e){e&&(e.className=e.className.split(\" sapUshellHidePlusTile\").join(\"\"))}})}()},\"sap/ushell/components/flp/launchpad/dashboard/DashboardUIActions.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\"),sap.ui.base.Object.extend(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\",{metadata:{publicMethods:[\"initializeUIActions\"]},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions&&sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions())return sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions();sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=jQuery.sap.getter(this.getInterface()),this.oTileUIActions=void 0,this.oGroupUIActions=void 0,this.oController=void 0,this.UIActionsInitialized=!1,sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeActive\",this._enableGroupUIActions,this),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeInactive\",this._disableGroupUIActions,this)},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeActive\",this._enableGroupUIActions,this),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeInactive\",this._disableGroupUIActions,this),sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=void 0,this.oGroupUIActions=null,this.oTileUIActions=null},initializeUIActions:function(e){this.oController=e;var t=e.getView().sDashboardGroupsWrapperId,o=sap.ui.getCore().getConfiguration().getRTL(),i={containerSelector:\"#dashboardGroups\",wrapperSelector:t?\"#\"+t:void 0,rootSelector:\"#dashboardGroups\"},s=jQuery.extend(!0,{},i,{switchModeDelay:1e3,isTouch:e.getView().isTouch,isCombi:e.getView().isCombi,debug:!1}),n={draggableSelector:\".sapUshellTile\",draggableSelectorExclude:\".sapUshellPlusTile\",placeHolderClass:\"sapUshellTile-placeholder\",cloneClass:\"sapUshellTile-clone\",deltaTop:-44,scrollContainerSelector:void 0,startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:3,isLayoutEngine:!0,disabledDraggableSelector:\"sapUshellLockedTile\",onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:o?jQuery(\".sapUshellViewPortLeft\").width():-jQuery(\".sapUshellViewPortLeft\").width()},a={draggableSelector:\".sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)\",draggableSelectorBlocker:\".sapUshellTilesContainer-sortable, .sapUshellTileContainerBeforeContent, .sapUshellTileContainerAfterContent\",draggableSelectorExclude:\".sapUshellHeaderActionButton\",placeHolderClass:\"sapUshellDashboardGroupsContainerItem-placeholder\",cloneClass:\"sapUshellDashboardGroupsContainerItem-clone\",startCallback:this._handleGroupsUIStart.bind(this),endCallback:this._handleGroupDrop.bind(this),dragCallback:this._handleGroupStartDrag.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:.1,isLayoutEngine:!1,isVerticalDragOnly:!0,draggableElement:\".sapUshellTileContainerHeader\"},r={draggableSelector:\".sapUshellTile\",placeHolderClass:\"sapUshellTile-placeholder\",startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:o?jQuery(\".sapUshellViewPortLeft\").width():-jQuery(\".sapUshellViewPortLeft\").width()},l={forGroups:!0,draggableSelector:\".sapUshellTileContainerHeader\",placeHolderClass:\"sapUshellDashboardGroupsContainerItem-placeholder\",_publishAsync:e._publishAsync};e.getView().oDashboardGroupsBox.getGroups().length&&e.getView().getModel().getProperty(\"/personalization\")&&(e.getView().ieHtml5DnD?(jQuery.sap.require(\"sap.ushell.UIActionsWin8\"),this._disableTileUIActions(),this._disableGroupUIActions(),this.oTileUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(!0,{},i,r)).enable(),this.oGroupUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(!0,{},i,l)).enable()):(jQuery.sap.require(\"sap.ushell.UIActions\"),this._disableTileUIActions(),this._disableGroupUIActions(),this.oTileUIActions=new sap.ushell.UIActions(jQuery.extend(!0,{},s,n)).enable(),this.oGroupUIActions=new sap.ushell.UIActions(jQuery.extend(!0,{},s,a)),e.getView().getModel().getProperty(\"/tileActionModeActive\")&&this.oGroupUIActions.enable()))},_enableGroupUIActions:function(){this.oGroupUIActions&&this.oGroupUIActions.enable()},_disableTileUIActions:function(){this.oTileUIActions&&this.oTileUIActions.disable()},_disableGroupUIActions:function(){this.oGroupUIActions&&this.oGroupUIActions.disable()},_handleTileDragMove:function(e){e.isScrolling||sap.ushell.Layout.getLayoutEngine().moveDraggable(e.moveX,e.moveY)},_handleTileUIStart:function(e,t){sap.ui.Device.browser.msie&&(navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0)&&(this.titleElement=t.querySelector(\"[title]\"),this.titleElement.setAttribute(\"data-title\",this.titleElement.getAttribute(\"title\")),this.titleElement.removeAttribute(\"title\"))},_changeTileDragAndDropAnimate:function(e,t){var o,i,s,n,a,r,l,u,p=this.dragNDropData.jqDashboard.scrollTop();for(l=0;l<this.dragNDropData.jqDraggableElements.length;l++)i=(o=this.dragNDropData.jqDraggableElements.eq(l))[0],s=o.position(),(n=o.offset()).left===i.offset.left&&n.top===i.offset.top||(i.position=s,i.offset=n,(u=o.data(\"clone\"))&&(a=i.position.left+this.dragNDropData.containerLeftMargin,r=this._getTileTopOffset(o,i.position,p),u.stop(!0,!1).animate({left:a,top:r},{duration:250},{easing:\"swing\"})))},_handleStartDragTile:function(e,t){if(window.getSelection){var o=window.getSelection();try{o.removeAllRanges()}catch(e){}}sap.ushell.Layout.getLayoutEngine().layoutStartCallback(t),jQuery(t).find(\"a\").removeAttr(\"href\"),this.placeHolderElement=jQuery(\".sapUshellTile-placeholder\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStart\")},_handleTileDrop:function(e,t){jQuery(\"#dashboardGroups .sapUshellHidePlusTile\").removeClass(\"sapUshellHidePlusTile\"),sap.ui.Device.browser.msie&&(navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0)&&this.titleElement.setAttribute(\"title\",this.titleElement.getAttribute(\"data-title\")),this.oController._handleDrop.call(this.oController,e,t)},_getTileTopOffset:function(e,t,o){var i=0+o;return i+=e.closest(\".sapUshellDashboardGroupsContainerItem\").position().top,i+=t.top},_markDisableGroups:function(){this.oController.getView().getModel()&&this.oController.getView().getModel().setProperty(\"/isInDrag\",!0)},_unmarkDisableGroups:function(){this.oController.getView().getModel()&&this.oController.getView().getModel().setProperty(\"/isInDrag\",!1)},_handleGroupStartDrag:function(e,t){this.oTileUIActions.disable();var o,i,s=jQuery(\".sapUshellDashboardGroupsContainerItem-clone\"),n=s.find(\".sapUshellContainerTitle\"),a=n.height(),r=n.width(),l=sap.ui.getCore().getConfiguration().getRTL();sap.ui.Device.system.phone?(jQuery(\".sapUshellTilesContainer-sortable\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellLinksContainer\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTileContainerBeforeContent\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellContainerHeaderActions\").addClass(\"sapUshellTileContainerHidden\")):(s.find(\".sapUshellTileContainerEditMode\").offset({top:this.oGroupUIActions.getMove().y-a,left:l?jQuery(\".sapUshellViewPortCenter\").width()+this.oGroupUIActions.getMove().x+r:this.oGroupUIActions.getMove().x-r/2}),jQuery(\".sapUshellTileContainerBeforeContent\").addClass(\"sapUshellTileContainerHidden\")),jQuery(\".sapUshellTileContainerAfterContent\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(t).find(\".sapUshellContainerHeaderActions\").addClass(\"sapUshellTileContainerHidden\"),this.oController.getView().getModel().setProperty(\"/isInDrag\",!0),jQuery(t).attr(\"startPos\",jQuery(t).index()),jQuery.sap.log.info(\"startPos - \"+jQuery(t).index()),setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStart\")},0),o=jQuery(\"#dashboardGroups\").offset().top,i=jQuery(\".sapUshellDashboardGroupsContainerItem-placeholder\").offset().top-o-jQuery(\".sapUshellDashboardGroupsContainerItem-clone\").offset().top,jQuery(\".sapUshellDashboardView section\").animate({scrollTop:i},0)},_handleGroupsUIStart:function(e,t){jQuery(t).find(\".sapUshellTileContainerContent\").css(\"outline-color\",\"transparent\")},_handleGroupDrop:function(e,t){var o=sap.ui.getCore().getEventBus(),i=jQuery(t),s=jQuery(i.children()[0]).attr(\"id\"),n=sap.ui.getCore().byId(s),a=sap.ui.getCore().byId(\"dashboardGroups\"),r={group:n,groupChanged:!1,focus:!1},l=i.index();i.startPos=window.parseInt(i.attr(\"startPos\"),10),a.removeAggregation(\"groups\",n,!0),a.insertAggregation(\"groups\",n,l,!0),this._handleGroupMoved(e,{item:i}),i.removeAttr(\"startPos\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStop\"),setTimeout(function(){jQuery(\".sapUshellContainerHeaderActions\").removeClass(\"sapUshellTileContainerHidden\"),jQuery(\".sapUshellTileContainerBeforeContent\").removeClass(\"sapUshellTileContainerHidden\"),jQuery(\".sapUshellTileContainerBeforeContent\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTileContainerAfterContent\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTilesContainer-sortable\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellLinksContainer\").removeClass(\"sapUshellTileContainerRemoveContent\")},0),window.setTimeout(jQuery.proxy(o.publish,o,\"launchpad\",\"scrollToGroup\",r),1),this.oTileUIActions.enable()},_handleGroupMoved:function(e,t){var o=t.item.startPos,i=t.item.index(),s=this.oController.getView().getModel();-1!==i&&(this.oController._publishAsync(\"launchpad\",\"moveGroup\",{fromIndex:o,toIndex:i}),setTimeout(function(){s.setProperty(\"/isInDrag\",!1)},100))},_setController:function(e){this.oController=e}})}()},\"sap/ushell/components/flp/launchpad/group_list/GroupList.controller.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.group_list.GroupList\",{onInit:function(){this.sViewId=\"#\"+this.getView().getId(),this.sGroupListId=\"#\"+this.getView().oGroupList.getId(),this.handleScroll=this._fHandleScroll.bind(this)},onAfterRendering:function(){this.jqView=jQuery(this.sViewId),this.jgGroupList=jQuery(this.sGroupListId);var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"grouplist\",\"ScrollAnimationEnd\",this._handleScrollAnimationEnd,this),e.subscribe(\"grouplist\",\"ScrollAnimationEnd\",this._handleScrollAnimationEnd,this),e.unsubscribe(\"grouplist\",\"DashboardRerender\",this._addScroll,this),e.subscribe(\"grouplist\",\"DashboardRerender\",this._addScroll,this),e.unsubscribe(\"launchpad\",\"dashboardScroll\",this.handleScroll,this),e.subscribe(\"launchpad\",\"dashboardScroll\",this.handleScroll,this),this._addScroll()},_addScroll:function(){var e=this;setTimeout(function(){this.dashboardElement=document.querySelector(\".sapUshellDashboardView section\"),this.dashboardElement&&(this.dashboardElement.removeEventListener(\"scroll\",e.handleScroll),this.dashboardElement.addEventListener(\"scroll\",e.handleScroll))}.bind(this),0)},_fHandleScroll:function(){var e=this.getView().getModel(),t=e.getProperty(\"/topGroupInViewPortIndex\");if(!e.getProperty(\"/scrollingToGroup\")){if(!e.getProperty(\"/groupList-skipScrollToGroup\")){var o=jQuery(\"#groupList li.sapUshellGroupLI\"),i=o.removeClass(\"sapUshellSelected\").eq(t);i.addClass(\"sapUshellSelected\");var s=document.getElementById(\"groupListPage-cont\"),n=s.scrollTop,a=n+s.offsetHeight,r=i[0]?i[0].offsetTop:void 0;r<n?jQuery(\"#groupListPage section\").animate({scrollTop:o[t].offsetTop},0):r+i[0].offsetHeight>a&&jQuery(\"#groupListPage section\").animate({scrollTop:n+o[t].offsetHeight},0)}sap.ushell.utils.handleTilesVisibility()}},_handleGroupListItemPress:function(e){var t,o=e.getSource();t=\"sapenter\"===e.getParameter(\"action\"),this._handleScrollToGroup(o,!1,t)},_handleScrollToGroup:function(e,t,o){if(e){document.querySelector(\".sapUshellDashboardView\").removeEventListener(\"scroll\",this.handleScroll),this._publishAsync(\"launchpad\",\"scrollToGroup\",{group:e,groupChanged:t,focus:o})}},_handleScrollAnimationEnd:function(){document.querySelector(\".sapUshellDashboardView\").addEventListener(\"scroll\",this.handleScroll),this.getView().getModel().setProperty(\"/scrollingToGroup\",!1)},_publishAsync:function(e,t,o){var i=sap.ui.getCore().getEventBus();window.setTimeout($.proxy(i.publish,i,e,t,o),1)}})}()},\"sap/ushell/components/flp/launchpad/group_list/GroupList.view.js\":function(){// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.launchpad.GroupListItem\"),jQuery.sap.require(\"sap.ui.core.IconPool\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.group_list.GroupList\",{createContent:function(e){this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.oModel=this.parentComponent.getModel();var t=this,o=this._getGroupListItemTemplate(e);if(this.bAnimate=sap.ui.Device.system.desktop,this.isTouch=!sap.ui.Device.system.desktop,this.oGroupList=new sap.m.List(\"groupListItems\",{items:{path:\"/groups\",template:o}}).addStyleClass(\"sapUshellGroupItemList\"),jQuery.extend(this.oGroupList,{onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e)},onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabprevious:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)}}),this.oGroupList.onAfterRendering=function(){this.data(\"sap-ui-fastnavgroup\",\"false\",!1),jQuery(\"#groupListFooter\").attr(\"data-sap-ui-fastnavgroup\",\"false\"),t.oController.handleScroll()},jQuery.sap.require(\"sap.ushell.override\"),this.oGroupList.updateItems=sap.ushell.override.updateAggregatesFactory(\"items\"),void 0===this.getViewData().enablePersonalization||!1!==this.getViewData().enablePersonalization){this.oActionList=new sap.m.List({items:[]});var i=this.oActionList.onAfterRendering;this.oActionList.onAfterRendering=function(e){i.call(this,e)},new sap.m.Bar({id:\"groupListFooter\",contentMiddle:[this.oActionList]}).addStyleClass(\"sapUshellPersonalizationOn\"),this.groupListPage=new sap.m.Page({id:\"groupListPage\",showHeader:!1,showFooter:!0,content:[this.oGroupList]}),this.groupListPage.addStyleClass(\"sapUshellPersonalizationOn\")}else this.groupListPage=new sap.m.Page({id:\"groupListPage\",showHeader:!1,showFooter:!1,content:[this.oGroupList]});return this.addStyleClass(\"sapUshellGroupList\"),[this.groupListPage]},_getGroupListItemTemplate:function(e){return new sap.ushell.ui.launchpad.GroupListItem({index:\"{index}\",title:\"{title}\",tooltip:\"{title}\",defaultGroup:\"{isDefaultGroup}\",groupId:\"{groupId}\",numberOfTiles:\"{tiles/length}\",afterRendering:function(e){var t=this.getModel()&&this.getModel().getProperty(\"/enableHelp\");this.getDefaultGroup()?(this.addStyleClass(\"sapUshellDefaultGroupItem\"),t&&this.addStyleClass(\"help-id-homeGroupListItem\")):(this.addStyleClass(\"sapUshellGroupListItem\"),t&&this.addStyleClass(\"help-id-groupListItem\")),jQuery(this.getDomRef()).attr(\"tabindex\",\"0\")},isGroupVisible:\"{isGroupVisible}\",press:[function(e){this._handleGroupListItemPress(e)},e],visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,t,o){return!!o[e?1:0]&&(t||e)}}})},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.group_list.GroupList\"}})}()}}});",
	"web/ui5/resources/sap/ushell/components/flp/Component.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\nif(jQuery.sap.declare(\"sap.ushell.components.flp.Component\"),!window[\"sap-ui-debug\"])try{jQuery.sap.require(\"sap.fiori.flp-controls\")}catch(e){jQuery.sap.log.warning(\"flp-controls failed to load: \"+e.message)}jQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.require(\"sap.ushell.components.flp.CustomRouter\"),jQuery.sap.require(\"sap.ushell.components.flp.ComponentKeysHandler\"),sap.ui.core.UIComponent.extend(\"sap.ushell.components.flp.Component\",{metadata:{routing:{config:{viewType:\"JS\",controlAggregation:\"pages\",controlId:\"navContainerFlp\",clearAggregation:!1,routerClass:sap.ushell.components.flp.CustomRouter},targets:{appFinder:{viewName:\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"},home:{viewName:\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"}},routes:[{name:\"home\",target:\"home\",pattern:\"home\"}]},version:\"1.38.26\",library:\"sap.ushell.components.flp\",dependencies:{libs:[\"sap.m\"]},config:{semanticObject:\"Shell\",action:\"home\",title:sap.ushell.resources.i18n.getText(\"homeBtn_tooltip\"),fullWidth:!0,hideLightBackground:!0,compactContentDensity:!0,cozyContentDensity:!0}},parseOldCatalogParams:function(e){\"use strict\";var t,o=jQuery.sap.getUriParameters(e).mParams;for(var i in o)o.hasOwnProperty(i)&&(t=o[i][0],o[i]=-1!==t.indexOf(\"/\")?encodeURIComponent(t):t);return o},handleNavigationFilter:function(e){\"use strict\";var t=sap.ushell.Container.getService(\"URLParsing\").parseShellHash(e);if(t&&\"shell\"===t.semanticObject&&\"catalog\"===t.action){var o=this.parseOldCatalogParams(e);return setTimeout(function(){this.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(o)})}.bind(this),0),this.oShellNavigation.NavigationFilterStatus.Abandon}return this.oShellNavigation.NavigationFilterStatus.Continue},createContent:function(){\"use strict\";this.oRouter=this.getRouter(),this.oModel=new sap.ui.model.json.JSONModel({groups:[],animationRendered:!1,tagFiltering:!0,catalogSelection:!0,tileActionModeEnabled:!1,tileActionModeActive:!1,isInDrag:!1,rtl:sap.ui.getCore().getConfiguration().getRTL(),personalization:!0,editTitle:!1,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableNotificationsPreview:!1,previewNotificationItems:[]}),this.oModel.setSizeLimit(1e4),this.setModel(this.oModel),this.oConfig=this.getComponentData().config,this.oShellConfig=sap.ushell.renderers.fiori2.RendererExtensions.getConfiguration(),this.oConfig&&(this.oConfig.enablePersonalization||void 0===this.oConfig.enablePersonalization)&&(this.oShellConfig&&this.oShellConfig.enablePersonalization||void 0===this.oShellConfig.enablePersonalization)&&(this.oRouter.addRoute({name:\"catalog\",target:\"appFinder\",pattern:\"catalog/:filters:\"}),this.oRouter.addRoute({name:\"appFinder\",target:\"appFinder\",pattern:\"appFinder/{menu}/:filters:\"})),this.oRouter.addRoute({name:\"all\",target:\"home\",pattern:\":all*:\"}),this._setConfigurationToModel(this.oConfig),jQuery.sap.require(\"sap.ushell.components.flp.launchpad.DashboardManager\"),this.oDashboardManager=new sap.ushell.components.flp.launchpad.DashboardManager(\"dashboardMgr\",{model:this.oModel,config:this.oConfig,router:this.oRouter}),jQuery.sap.require(\"sap.ushell.resources\"),this.setModel(sap.ushell.resources.i18nModel,\"i18n\");var e,t=window.matchMedia(\"(min-width: 800px)\"),o=function(e){this.oModel.setProperty(\"/isPhoneWidth\",!e.matches)}.bind(this);t.addListener&&(t.addListener(o),o(t)),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"togglePane\",this._createAndAddGroupList,this),sap.ui.getCore().getEventBus().subscribe(\"sap.ushell.services.UsageAnalytics\",\"usageAnalyticsStarted\",function(){jQuery.sap.require(\"sap.ushell.components.flp.FLPAnalytics\")}),this.bContactSupportEnabled=sap.ushell.Container.getService(\"SupportTicket\").isEnabled(),this.bContactSupportEnabled&&(jQuery.sap.require(\"sap.ushell.UserActivityLog\"),sap.ushell.UserActivityLog.activate()),e=this.initNavContainer(),this.setInitialConfiguration(),this.oShellNavigation=sap.ushell.Container.getService(\"ShellNavigation\"),this.oShellNavigation.registerNavigationFilter(jQuery.proxy(this.handleNavigationFilter,this));var i=hasher.getHash(),n=sap.ushell.Container.getService(\"URLParsing\").parseShellHash(i);if(n&&\"shell\"===n.semanticObject&&\"catalog\"===n.action){var a=this.parseOldCatalogParams(i),s=this.getMetadata().getConfig();this.oShellNavigation.toExternal({target:{semanticObject:s.semanticObject,action:s.action}}),this.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(a)})}return e},_createAndAddGroupList:function(e,t,o){\"use strict\";if(o.currentContent&&(-1!==o.currentContent.indexOf(\"groupList\")||!o.currentContent.length)){var i=this.oConfig,n=this.runAsOwner(function(){return this.oDashboardManager.getGroupListView(i)}.bind(this));n.alreadyCreated||(n.groupList.setModel(this.oModel),n.groupList.setModel(sap.ushell.resources.i18nModel,\"i18n\"),sap.ushell.renderers.fiori2.RendererExtensions.setLeftPaneContent(n.groupList,\"home\"))}},_setConfigurationToModel:function(e){\"use strict\";var t,o=this.oModel,i=sap.ushell.Container.getRenderer(\"fiori2\").getModelConfiguration().enableNotificationsUI,n=sap.ushell.Container.getService(\"Notifications\").isEnabled(),a=sap.ui.Device.system.desktop||sap.ui.Device.system.tablet||sap.ui.Device.system.combi;e&&(void 0!==e.enableNotificationsPreview&&this.oModel.setProperty(\"/configEnableNotificationsPreview\",e.enableNotificationsPreview),e.enableNotificationsPreview&&i&&n&&a&&this.oModel.setProperty(\"/enableNotificationsPreview\",!0),void 0!==e.enablePersonalization&&void 0!==this.oShellConfig.enablePersonalization?o.setProperty(\"/personalization\",e.enablePersonalization&&this.oShellConfig.enablePersonalization):void 0!==e.enablePersonalization?o.setProperty(\"/personalization\",e.enablePersonalization):void 0!==this.oShellConfig.enablePersonalization&&o.setProperty(\"/personalization\",this.oShellConfig.enablePersonalization),void 0!==e.enableTagFiltering&&o.setProperty(\"/tagFiltering\",e.enableTagFiltering),void 0!==e.enableLockedGroupsCompactLayout&&o.setProperty(\"/enableLockedGroupsCompactLayout\",e.enableLockedGroupsCompactLayout),void 0!==e.enableCatalogSelection&&o.setProperty(\"/catalogSelection\",e.enableCatalogSelection),void 0!==e.enableSearchFiltering&&o.setProperty(\"/searchFiltering\",e.enableSearchFiltering),void 0!==e.enableTilesOpacity&&o.setProperty(\"/tilesOpacity\",e.enableTilesOpacity),void 0!==e.enableDragIndicator&&o.setProperty(\"/enableDragIndicator\",e.enableDragIndicator),t=!1,void 0!==e.enableActionModeMenuButton?(o.setProperty(\"/actionModeMenuButtonEnabled\",e.enableActionModeMenuButton),t=e.enableActionModeMenuButton):o.setProperty(\"/actionModeMenuButtonEnabled\",!0),void 0!==e.enableRenameLockedGroup?o.setProperty(\"/enableRenameLockedGroup\",e.enableRenameLockedGroup):o.setProperty(\"/enableRenameLockedGroup\",!1),void 0!==e.enableActionModeFloatingButton?(o.setProperty(\"/actionModeFloatingButtonEnabled\",e.enableActionModeFloatingButton),t=t||e.enableActionModeFloatingButton):o.setProperty(\"/actionModeFloatingButtonEnabled\",!0),o.setProperty(\"/tileActionModeEnabled\",t),void 0!==e.enableTileActionsIcon&&o.setProperty(\"/tileActionsIconEnabled\",!!sap.ui.Device.system.desktop&&e.enableTileActionsIcon),void 0!==e.enableHideGroups&&o.setProperty(\"/enableHideGroups\",e.enableHideGroups),e.title&&o.setProperty(\"/title\",e.title),void 0!==e.enableEasyAccess&&o.setProperty(\"/enableEasyAccess\",e.enableEasyAccess),void 0!==e.sapMenuServiceUrl&&o.setProperty(\"/sapMenuServiceUrl\",e.sapMenuServiceUrl),void 0!==e.userMenuServiceUrl&&o.setProperty(\"/userMenuServiceUrl\",e.userMenuServiceUrl),void 0!==e.easyAccessNumbersOfLevels&&o.setProperty(\"/easyAccessNumbersOfLevels\",e.easyAccessNumbersOfLevels),o.setProperty(\"/enableHelp\",!!this.oShellConfig.enableHelp),o.setProperty(\"/disableSortedLockedGroups\",!!e.disableSortedLockedGroups))},initNavContainer:function(e){\"use strict\";return new sap.m.NavContainer({id:\"navContainerFlp\",defaultTransitionName:\"show\"})},setInitialConfiguration:function(){\"use strict\";this.oRouter.initialize(),sap.ushell.components.flp.ComponentKeysHandler.init(this.oModel,this.oRouter),sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppKeysHandler(sap.ushell.components.flp.ComponentKeysHandler.handleFocusOnMe);var e=sap.ushell.resources.i18n,t=[];t.push({text:\"Alt+H\",description:e.getText(\"actionHomePage\")}),this.oModel.getProperty(\"/personalization\")&&t.push({text:\"Alt+C\",description:e.getText(\"actionAppFinder\")}),sap.ushell.renderers.fiori2.AccessKeysHandler.registerAppShortcuts(sap.ushell.components.flp.ComponentKeysHandler.handleShortcuts,t),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"initialConfigurationSet\")},exit:function(){\"use strict\";this.oDashboardManager.destroy()}});",
	"web/ui5/resources/sap/ushell/components/flp/ComponentKeysHandler-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.ComponentKeysHandler\");var e=function(){this.aTileWrapperClasses=[\".sapUshellTile\",\".sapUshellLinkTile\"]};e.prototype={keyCodes:jQuery.sap.KeyCodes,handleCatalogKey:function(){this.oRouter.navTo(\"appFinder\",{menu:\"catalog\"})},handleHomepageKey:function(){this.oRouter.navTo(\"home\")},getNumberOfTileInRow:function(e,t){var n,i=jQuery(t?\".sapUshellLinkTile:first\":\".sapUshellTile:first\");return!!i.length&&(n=\"catalog\"===e?jQuery(\"#catalogTiles .sapUshellTileContainerContent\").width():jQuery(\"#dashboardGroups\").width(),Math.floor(n/i.outerWidth(!0)))},goToTileContainer:function(e,t){return this.oModel.getProperty(\"/tileActionModeActive\")?sap.ushell.components.flp.ComponentKeysHandler.goToFirstVisibleTileContainer():sap.ushell.components.flp.ComponentKeysHandler.goToEdgeTile(\"first\",t),!0},goToEdgeTile:function(e,t){var n=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\"),i=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),s=n.get(i),o=jQuery(s).find(\".sapUshellTile:visible\")[e](),l=jQuery(\"div.sapUshellTile:visible[tabindex='0']\"),r=jQuery(\"div.sapUshellLinkTile:visible[tabindex='0']\");return!!(o.length||l.length||r.length)&&(l.length&&!t?(this.setTileFocus(l),!0):r.length&&!t?(this.setTileFocus(r),!0):(this.setTileFocus(o),!0))},goToFirstVisibleTileContainer:function(){var e=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\"),t=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),n=jQuery(e.get(t));return!!n[0]&&(this.setTileContainerSelectiveFocus(n),!0)},goToFirstTileOfSiblingGroup:function(e,t){t.preventDefault();var n=jQuery(document.activeElement).closest(\".sapUshellDashboardGroupsContainerItem\");if(n.length){var i=n[e+\"All\"](\".sapUshellDashboardGroupsContainerItem:has(.sapUshellTile:visible):not(.sapUshellCloneArea)\"),s=\"first\";i.length?i=i.first():(i=n,s=\"next\"===e?\"last\":\"first\");var o=i.find(\".sapUshellTile:visible\")[s]();return this.moveScrollDashboard(o),!1}},goToFirstTileOfSiblingGroupInCatalog:function(e,t){t.preventDefault();var n=this.getFocusOnTile(jQuery(document.activeElement));if(n){var i;if(\"next\"==e)i=!n.nextAll(\"h3\").length?n.nextAll(\".sapUshellTile\").last():n.nextAll(\"h3\").first().nextAll().filter(\":visible\").first();else i=1===n.prevAll(\"h3\").length?n.prevAll(\"h3\").last().next():jQuery(n.prevAll(\"h3\")[1]).next();return this.setTileFocus(i),this.moveScrollCatalog(i),!1}},moveTileInGroup:function(e,t,n){if(this.oModel.getProperty(\"/personalization\")){var i=e.getBindingContext().getObject(),s=i.tiles.indexOf(t.getBindingContext().getObject()),o=i.tiles.indexOf(n.getBindingContext().getObject()),l=i.tiles.splice(s,1);i.tiles.splice(o,0,l[0]);var r=e.getBindingContext().getPath();e.getModel().setProperty(r,i)}},moveTileToDifferentGroup:function(e,t,n,i){if(this.oModel.getProperty(\"/personalization\")){if(e.getIsGroupLocked()||t.getIsGroupLocked())return;var s=e.getBindingContext().getObject(),o=t.getBindingContext().getObject(),l=s.tiles.indexOf(n.getBindingContext().getObject());\"left\"!==i&&\"up\"!==i&&\"down\"!==i||o.tiles.push(s.tiles[l]),\"right\"===i&&o.tiles.splice(0,0,s.tiles[l]),s.tiles.splice(l,1);var r=t.getBindingContext().getPath();t.getModel().setProperty(r,o);var a=e.getBindingContext().getPath();e.getModel().setProperty(a,s);var u=t.getTiles();return\"left\"===i||\"up\"===i||\"down\"===i?u[u.length-1]:u[0]}},moveTile:function(e){var t=jQuery(\".sapUshellDashboardView\"),n=sap.ui.getCore().byId(t.attr(\"id\"));if(n.getModel().setProperty(\"/isInDrag\",!0),setTimeout(function(){n.getModel().setProperty(\"/isInDrag\",!1)},300),this.oModel.getProperty(\"/personalization\")){var i=this.getGroupAndTilesInfo();if(!i||i.group.getProperty(\"isGroupLocked\"))return;var s=this.getNextTile(e,i,void 0,!0);if(!s)return;var o=s.getParent();o===i.group?this.moveTileInGroup(i.group,i.curTile,s):s=this.moveTileToDifferentGroup(i.group,o,i.curTile,e),setTimeout(function(){s&&this.setTileFocus(jQuery(s.getDomRef()))}.bind(this),100)}},getNextUpDownTileWithLayout:function(e,t,n){var i,s=\"down\"===e?1:-1,o=!t.tiles.length&&!t.links.length,l=t.group.getIsGroupLocked(),r=jQuery(t.curTile.getDomRef()).hasClass(\"sapUshellPlusTile\"),a=t.group.getLinks(),u=sap.ushell.Layout.organizeGroup(t.curTile.isLink?t.links:t.tiles,t.curTile.isLink),h=sap.ushell.Layout.getTilePositionInMatrix(t.curTile,u),d=this.isLastLineFull(u),c=this.oModel.getProperty(\"/tileActionModeActive\");if(h||o||r){if(!u[h.row+s]){if(c&&!l&&!r&&d&&\"down\"===e)return t.group.oPlusTile;if(!t.curTile.isLink&&a.length&&\"down\"===e&&!n)return a[0];if(t.curTile.isLink&&t.tiles.length&&\"up\"===e)return t.tiles[0];if(h=o||r?{row:0,col:0}:h,!(i=this.getNextGroup(e,t)))return;if(!(o=!i.getTiles().length&&!i.getLinks().length)){var g=this._getAggregationToFocusInNextGroup(i,e),p=this._isNextTileLink(g);u=sap.ushell.Layout.organizeGroup(g,p),s=0,h.row=\"down\"===e?0:u.length-1}}if(!o||!l)return o?i.oPlusTile:\"object\"!=typeof u[h.row+s][h.col]||o?this.getNextUpDownTile(u,h.row+s,h.col,e):u[h.row+s][h.col]}},_isNextTileLink:function(e){return!(!e||!e.length)&&jQuery(e[0].getDomRef()).hasClass(\"sapUshellLinkTile\")},_getAggregationToFocusInNextGroup:function(e,t){if(\"down\"===t||\"right\"===t){if(e.getTiles().length)return e.getShowPlaceholder()?[].concat(e.getTiles(),e.oPlusTile):e.getTiles();if(e.getLinks().length)return e.getLinks()}else if(\"up\"===t||\"left\"===t){if(e.getLinks().length)return e.getLinks();if(e.getTiles().length)return e.getShowPlaceholder()?[].concat(e.getTiles(),e.oPlusTile):e.getTiles()}},isLastLineFull:function(e){var t=this.getNumberOfTileInRow();return e[e.length-1].filter(Boolean).length===t},getNextUpDownTile:function(e,t,n,i){for(var s,o=t,l=e.length,r=\"up\"===i?-1:1;o>=0&&o<l&&!s;)\"object\"!=typeof e[o][n]&&(s=e[o][n]),o+=r;if(!s){for(o=t;\"object\"!=typeof e[o][n]&&n>=0;)n--;return e[o][n]}},getNextTile:function(e,t,n,i){var s,o,l,r,a,u,h,d,c=sap.ui.getCore().getConfiguration().getRTL()?-1:1,g=!t.tiles.length,p=\"right\"===e?1:-1;if(\"catalog\"===t.pageName){if(\"right\"==e||\"left\"==e)return s=g?void 0:t.tiles[t.curTileIndex+c*p];if(\"0\"===t.curTileIndex&&\"up\"===e)return;o=this.whichTileRow(t.curTileIndex,t),d=parseFloat(t.curTile.getDomRef().offsetLeft),\"down\"==e?l=t.tiles.slice(t.curTileIndex+1,t.curTileIndex+2*t.sizeOfLine):(r=r>0?r:0,l=t.tiles.slice(r,t.curTileIndex).reverse());for(var f=0,T=l.length;f<T;f++)if(a=l[f].getDomRef(),u=parseFloat(a.offsetLeft),h=parseFloat(a.offsetWidth),u<=d&&u+h>=d)return s=l[f];if(this.nextRowIsShorter(e,o,t))return s=this.getNextTileInShorterRow(e,o,t)}else{if(\"left\"===e||\"right\"===e){var C=t.curTileIndex+c*p,y=t.curTile.isLink?t.links:t.tiles;if(!y[C]||i&&y[C].getDomRef().className.indexOf(\"sapUshellPlusTile\")>0||(s=y.length?y[C]:void 0),s)return s;if(\"right\"===e&&!t.curTile.isLink&&t.links.length&&!i)return t.links[0];if(\"left\"===e&&t.curTile.isLink&&t.tiles.length)return t.group.getShowPlaceholder()?t.group.oPlusTile:t.tiles[t.tiles.length-1];var v=this.getNextGroup(e,t);if(!v)return;var m=this._getAggregationToFocusInNextGroup(v,e);if(m&&m.length){var b=m.length-1;s=\"right\"===e?m[1===c?0:b]:m[1===c?b:0]}else s=v.oPlusTile}\"down\"!==e&&\"up\"!==e||(s=this.getNextUpDownTileWithLayout(e,t,i))}return s},getNextTileInShorterRow:function(e,t,n){var i=\"down\"===e?this.getLastTileIdInRow(n,t+1):this.getLastTileIdInRow(n,t-1);return n.tiles[i]},getLastTileIdInRow:function(e,t){for(var n=0,i=0;i<e.rowsData.length&&(n+=e.rowsData[i],i!==t);i++);return n-1},nextRowIsShorter:function(e,t,n){return\"down\"===e&&t!=n.rowsData.length-1?n.rowsData[t]>n.rowsData[t+1]:\"up\"===e&&0!=t&&n.rowsData[t]>n.rowsData[t-1]},getNextGroup:function(e,t){var n,i=t.group.getParent().getGroups(),s=sap.ui.getCore().getConfiguration().getRTL(),o=i.indexOf(t.group);if(\"right\"!==e&&\"left\"!==e||(e=s?\"right\"===e?\"up\":\"down\":\"right\"===e?\"down\":\"up\"),\"down\"===e||\"up\"===e){var l=\"up\"===e?-1:1;if(!(n=i[o+l]))return;for(;!n.getVisible()&&o>=0&&o<i.length;)if(!(n=i[o+=l]))return}if(n.getVisible())return n},getGroupAndTilesInfo:function(e,t){if(e||(e=this.getFocusOnTile(jQuery(document.activeElement))),e.length){var n,i,s,o=sap.ui.getCore().byId(e.attr(\"id\")),l=o.getParent();if(l.getTiles||(l=l.getParent()),o.isLink=e.hasClass(\"sapUshellLinkTile\"),\"catalog\"==t){n=this.getCatalogLayoutData(),i=[];for(var r=jQuery(\"#catalogTiles\").find(\".sapUshellTile:visible\"),a=0;a<r.length;a++)i.push(sap.ui.getCore().byId(r[a].id))}else l.getTiles&&(i=l.getTiles(),s=l.getLinks(),l.getShowPlaceholder()&&!o.isLink&&i.push(l.oPlusTile));var u=this.getNumberOfTileInRow(t,o.isLink);return{pageName:t,curTile:o,curTileIndex:o.isLink?s.indexOf(o):i.indexOf(o),tiles:i,links:s,sizeOfLine:u,group:l,rowsData:n}}},getCatalogLayoutData:function(){for(var e=jQuery(\"#catalogTiles .sapUshellInner\").children(\":visible\"),t=this.getNumberOfTileInRow(\"catalog\"),n=[],i=0,s=1;s<e.length;s++)jQuery(e[s]).hasClass(\"sapUshellTile\")&&i++,jQuery(e[s]).hasClass(\"sapUshellHeaderTile\")&&(n.push(i),i=0),i>=t&&(n.push(i),i=0);return i>0&&n.push(i),n},whichTileRow:function(e,t){var n,i=0;for(n=0;n<t.rowsData.length;n++)if(e<(i+=t.rowsData[n]))return n},goToSiblingElementInTileContainer:function(e,t,n){var i,s,o,l=t.closest(\".sapUshellTileContainer\");if(i=this.getFocusTileContainerBeforeContent(t))\"up\"===e||\"left\"===e?this._goToNextTileContainer(i,e):(o=l.find(\".sapUshellTileContainerHeader:first\"),this.setTabIndexOnTileContainerHeader(o),o.focus());else if(i=this.getFocusTileContainerHeader(t)){if(\"up\"===e)this.setTabIndexOnTileContainerHeader(o),this._goToTileContainerBeforeContent(l)||this._goToNextTileContainer(i,e);else if(\"down\"===e)if((s=l.find(\".sapUshellTile:first\")).length){var r=jQuery(s);this.scrollToTileAndSetFocus(r,n)}else this._goToNextTileContainer(i,e);else if(\"left\"===e)t.hasClass(\"sapUshellTileContainerHeader\")?this._goToTileContainerBeforeContent(l)||this._goToNextTileContainer(i,\"left\"):(o=t.closest(\".sapUshellTileContainerHeader\")).focus();else if(\"right\"===e){t.hasClass(\"sapMInputBaseInner\")||((s=l.find(\".sapUshellTile:first\")).length?this.setTileFocus(s):this._goToNextTileContainer(i,\"down\"))}}else(i=this.getFocusOnTile(t))?this.goFromFocusedTile(e,i,n,!0):(i=this.getFocusOnTileContainerAfterContent(t))&&(\"up\"===e||\"left\"===e?this._goToFirstTileInTileContainer(i):this._goToNextTileContainer(i,e))},_goToNextTileContainer:function(e,t){var n,i,s=e.closest(\".sapUshellTileContainer\"),o=jQuery(\".sapUshellTileContainer:visible\"),l=\"down\"===t?1:-1;if(n=jQuery(o[o.index(s)+l]))if(i=n.find(\".sapUshellTileContainerHeader\"),\"down\"===t)this._goToTileContainerBeforeContent(n)||(this.setTabIndexOnTileContainerHeader(i),this.setTileContainerSelectiveFocus(n));else{if(this._goToTileContainerAfterContent(n))return;\"up\"===t?this._goToFirstTileInTileContainer(n)||(this.setTabIndexOnTileContainerHeader(i),i.focus()):\"left\"===t&&(this._goToLastTileInTileContainer(n)||(this.setTabIndexOnTileContainerHeader(i),i.focus()))}},_goToLastTileInTileContainer:function(e){var t=e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\"),n=t.find(\".sapUshellTile:last\"),i=t.find(\".sapUshellLinkTile:last\");return!(!i.length&&!n.length)&&(this.setTileFocus(i.length?i:n),!0)},_goToFirstTileInTileContainer:function(e){var t=e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\"),n=jQuery(t.find(\".sapUshellTile\").get(0));return!!n.length&&(this.setTileFocus(n),!0)},_goToTileContainerBeforeContent:function(e){var t=(e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\")).find(\".sapUshellTileContainerBeforeContent button:visible\");return!!t.length&&(t.focus(),!0)},_goToTileContainerAfterContent:function(e){var t=(e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\")).find(\".sapUshellTileContainerAfterContent button:visible\");return!!t.length&&(t.focus(),!0)},goFromFocusedTile:function(e,t,n,i){var s,o,l,r,a=this.getGroupAndTilesInfo(t,n);if(a)if(s=this.getNextTile(e,a,i),i)if(o=jQuery(t).closest(\".sapUshellTileContainer\"),s)if(l=jQuery(s.getDomRef()).closest(\".sapUshellTileContainer\"),o.length&&l.length&&o.attr(\"id\")===l.attr(\"id\")){var u=jQuery(s.getDomRef());this.scrollToTileAndSetFocus(u,n)}else\"down\"===e||\"right\"===e?this._goToTileContainerAfterContent(o)||(this.setTabIndexOnTileContainerHeader(l.find(\".sapUshellTileContainerHeader\")),this.setTileContainerSelectiveFocus(l)):(r=o.find(\".sapUshellTileContainerHeader\"),this.setTabIndexOnTileContainerHeader(r),r.focus());else{if(\"down\"===e||\"right\"===e)return void jQuery(o).find(\".sapUshellTileContainerAfterContent button:visible\").focus();if(\"up\"===e)return this.setTabIndexOnTileContainerHeader(o.find(\".sapUshellTileContainerHeader\")),void this.setTileContainerSelectiveFocus(o);\"left\"===e&&(r=o.find(\".sapUshellTileContainerHeader\")).focus()}else if(s){u=jQuery(s.getDomRef());this.scrollToTileAndSetFocus(u,n)}},scrollToTileAndSetFocus:function(e,t){var n=e.offset().top+e.height();if(\"catalog\"===t){var i=n-jQuery(\"body\").height()-jQuery(\"#catalogTilesPage\").offset().top+200;jQuery(\"#catalogTilesPage section\").animate({scrollTop:i},0,function(){this.setTileFocus(e)}.bind(this))}else this.moveScrollDashboard(e)},deleteTile:function(e){var t=e.attr(\"id\");if(t){var n=sap.ui.getCore().byId(t),i=this.getGroupAndTilesInfo(e),s=this.getNextTile(\"right\",i);(!s||s&&s.getParent()!=i.group)&&(s=this.getNextTile(\"left\",i)),(!s||s&&s.getParent()!=i.group)&&(s=i.group.oPlusTile),s&&(this.setTileFocus(jQuery(s.getDomRef())),setTimeout(function(e,t){var n=e.getTiles();if(n.length){for(var s,o=0;o<n.length;o++)if(n[o].getProperty(\"uuid\")==t){s=n[o];break}s&&this.setTileFocus(jQuery(s.getDomRef()))}else{if(i.group.getProperty(\"defaultGroup\")){var l=this.getNextGroup(\"right\",i);s=l.getTiles()[0]||l.oPlusTile,this.setTileFocus(jQuery(s.getDomRef()))}this.setTileFocus(jQuery(e.oPlusTile.getDomRef()))}}.bind(this,i.group,s.getProperty(\"uuid\")),100)),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",{tileId:n.getUuid()})}},setTabIndexOnTileContainerHeader:function(e){if(jQuery(\".sapUshellTileContainerHeader\").attr(\"tabindex\",-1),jQuery(\".sapUshellTileContainerHeader .sapUshellContainerTitle\").attr(\"tabindex\",-1),jQuery(\".sapUshellTileContainerHeader .sapUshellContainerHeaderActions button\").attr(\"tabindex\",-1),e){var t=e.find(\".sapUshellContainerTitle:first\"),n=e.find(\".sapUshellContainerHeaderActions:first\");e.attr(\"tabindex\",0),t.attr(\"tabindex\",0),n.find(\"button\").attr(\"tabindex\",0)}},setTileContainerSelectiveFocus:function(e){var t=e.find(\".sapUshellTileContainerBeforeContent button\"),n=e.find(\".sapUshellTileContainerHeader:first\");t.length&&t.is(\":visible\")?t.focus():n.length&&(this.setTabIndexOnTileContainerHeader(n),n.focus())},setTileFocus:function(e){if(!e.hasClass(\"sapUshellPlusTile\")){var t,n=sap.ui.getCore().byId(\"navContainerFlp\"),i=n.getCurrentPage(),s=!(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"!==(n?n.getCurrentPage().getViewName():void 0)||\"catalog\"!==i.getController().getCurrentMenuName());if(t=e.find(\"[tabindex]\"),s)sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(t.eq(0))}jQuery(\".sapUshellTile\").attr(\"tabindex\",-1),jQuery(\".sapUshellLinkTile\").attr(\"tabindex\",-1),e.attr(\"tabindex\",0);var o=jQuery(\"#loadingDialog\")[0];o&&\"hidden\"!==o.style.visibility||e.focus()},setFocusOnCatalogTile:function(e){var t,n=jQuery(\".sapUshellTile[tabindex=0]\");if(n.length&&(jQuery(\".sapUshellTileContainerContent\").find(\"[tabindex*=0]\").attr(\"tabindex\",-1),n.find(\"[tabindex], a\").andSelf().filter(\"[tabindex], a\").attr(\"tabindex\",-1)),!e){if(!(t=jQuery(\".sapUshellTile:visible\")).length)return;e=jQuery(t[0]).find(\"[tabindex], a\").eq(0)}e.closest(\".sapUshellTile\").attr(\"tabindex\",0),e.attr(\"tabindex\",0),e.closest(\".sapUshellTile\").find(\"button\").attr(\"tabindex\",0)},moveScrollDashboard:function(e){var t=e.closest(\".sapUshellTileContainer\")[0].id,n=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+document.getElementById(t).getBoundingClientRect().top;n+=49,jQuery(\"#sapUshellDashboardPage section\").stop().animate({scrollTop:n},0,function(){this.setTileFocus(e)}.bind(this))},moveScrollCatalog:function(e){var t=jQuery(\"#catalogTilesPage-cont\"),n=jQuery(\"#shell-hdr\").height()+jQuery(\".sapMPageHeader\").height()+2*parseInt(jQuery(\".sapMPanelHdr\").css(\"margin-top\"),10),i=e.offset().top+t.scrollTop()-n;sap.ui.getCore().byId(\"catalogTilesPage\").scrollTo(i,200)},moveGroupFromDashboard:function(e,t){var n,i,s,o=jQuery(\".sapUshellDashboardGroupsContainerItem\");n=t.closest(\".sapUshellDashboardGroupsContainerItem\"),i=o.index(n),s=\"up\"==e||\"left\"==e?i-1:i+1,this.moveGroup(i,s)},moveGroup:function(e,t){var n=jQuery(\".sapUshellDashboardGroupsContainerItem\"),i=jQuery(\".sapUshellDisableDragAndDrop\").length;if(!(t<0||t>=n.length||t<i)){var s=sap.ui.getCore(),o={fromIndex:e,toIndex:t};s.getEventBus().publish(\"launchpad\",\"moveGroup\",o),setTimeout(function(){var e=jQuery(\".sapUshellTileContainerHeader\")[t];this.setTabIndexOnTileContainerHeader(jQuery(e)),jQuery(e).focus()}.bind(this),100)}},getFocusGroupFromDashboard:function(e){return!!(e.closest(\".sapUshellTileContainerHeader\").length&&\"H2\"===e[0].tagName)&&e},getFocusTileContainerBeforeContent:function(e){var t=e.closest(\".sapUshellTileContainerBeforeContent\");return!!t.length&&t},getFocusTileContainerHeader:function(e){var t=e.closest(\".sapUshellTileContainerHeader\");return!!t.length&&t},getFocusOnTileContainerAfterContent:function(e){var t=e.closest(\".sapUshellTileContainerAfterContent\");return!!t.length&&t},getFocusOnTile:function(e){var t;return jQuery.each(this.aTileWrapperClasses,function(n,i){var s=e.closest(i);return!(t=!!s.length&&s)}),t},renameGroup:function(){var e=jQuery(document.activeElement),t=this.getFocusGroupFromDashboard(e);t&&t.click()},upDownButtonsHandler:function(e,t){var n=jQuery(document.activeElement);this.goFromFocusedTile(e,n,t)},arrowsButtonsHandler:function(e,t){var n=jQuery(document.activeElement),i=this.oModel.getProperty(\"/tileActionModeActive\");n.hasClass(\"sapUshellAnchorItem\")?(t.preventDefault(),this.handleAnchorNavigationItemsArrowKeys(e)):i?n.hasClass(\"sapMInputBaseInner\")||(t.preventDefault(),this.goToSiblingElementInTileContainer(e,n)):(t.preventDefault(),this.goFromFocusedTile(e,n))},handleAnchorNavigationItemsArrowKeys:function(e){var t=jQuery(\".sapUshellAnchorItem:visible\"),n=jQuery(document.activeElement),i=t.index(n),s=n;sap.ui.getCore().getConfiguration().getRTL()&&(e=\"left\"===e?\"right\":\"left\"),\"left\"===e||\"down\"===e?i>0&&(s=t.get(i-1)):\"right\"!==e&&\"up\"!==e||i<t.length-1&&(s=t.get(i+1)),jQuery(s).focus()},homeEndButtonsHandler:function(e,t){var n,i=jQuery(document.activeElement);return i.hasClass(\"sapUshellAnchorItem\")?(t.preventDefault(),void jQuery(\".sapUshellAnchorItem:visible:\"+e).focus()):i.hasClass(\"sapUshellTile\")&&(i.closest(\"#dashboardGroups\").length||i.closest(\"#catalogTiles\").length)?(t.preventDefault(),n=!0===t.ctrlKey?jQuery(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[e]():i.parent().find(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[e](),void this.setTileFocus(n)):void 0},deleteButtonHandler:function(){if(this.oModel.getProperty(\"/personalization\")&&this.oModel.getProperty(\"/tileActionModeActive\")){var e,t=jQuery(document.activeElement);if(e=this.getFocusOnTile(t))return void(e.hasClass(\"sapUshellLockedTile\")||e.hasClass(\"sapUshellPlusTile\")||this.deleteTile(e))}},ctrlPlusArrowKeyButtonsHandler:function(e){var t,n=jQuery(document.activeElement);if(jQuery(n).hasClass(\"sapUshellLinkTile\")||!(t=this.getFocusOnTile(n))){if(t=this.getFocusTileContainerHeader(n)){var i=t.closest(\".sapUshellTileContainerContent\");if(i.hasClass(\"sapUshellTileContainerDefault\")||i.hasClass(\"sapUshellTileContainerLocked\"))return;this.moveGroupFromDashboard(e,t)}}else this.moveTile(e)},spaceButtonHandler:function(e){var t=jQuery(document.activeElement);if(t.hasClass(\"sapUshellTile\")){e.preventDefault();var n=t.find('[role=\"button\"]');if(n){var i=n.attr(\"id\"),s=sap.ui.getCore().byId(i),o=this.oModel.getProperty(\"/tileActionModeActive\");if(s&&!o)return s.firePress(),!1}return t.click(),!1}},goToFirstCatalogTile:function(){var e=sap.ushell.components.flp.ComponentKeysHandler,t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");e.setTileFocus(t)},goToFirstCatalogHeaderItem:function(){jQuery(\"#catalogTilesPage header button\")[0].focus()},goToFirstAnchorNavigationItem:function(){jQuery(\".sapUshellAnchorItem:visible:first\").focus()},handleFocusOnMe:function(e,t){var n=sap.ushell.components.flp.ComponentKeysHandler,i=sap.ui.getCore().byId(\"navContainerFlp\").getCurrentPage(),s=i.getViewName();if(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==s&&(t?e.shiftKey?n.goToTileContainer(e):n.goToFirstAnchorNavigationItem():(n.mainKeydownHandler(e),n.dashboardKeydownHandler(e))),\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"==s){if(n.appFinderKeydownHandler(e,t))return;\"catalog\"===i.getController().getCurrentMenuName()?t?e.shiftKey?n.goToFirstCatalogTile():n.goToFirstCatalogHeaderItem():(n.mainKeydownHandler(e),n.catalogKeydownHandler(e)):n.easyAccessKeydownHandler(e)}},groupHeaderNavigation:function(){var e,t=jQuery(document.activeElement);t.hasClass(\"sapUshellTileContainerHeader\")?(e=t.find(\".sapUshellContainerTitle\")).focus():(e=t.closest(\".sapUshellTileContainerHeader\"))&&e.focus()},handleShortcuts:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;if(e.altKey)switch(String.fromCharCode(e.keyCode)){case\"C\":t.oModel.getProperty(\"/personalization\")&&t.handleCatalogKey();break;case\"H\":t.handleHomepageKey()}},mainKeydownHandler:function(e){switch((e=e||window.event).keyCode){case this.keyCodes.SPACE:this.spaceButtonHandler(e);break;case this.keyCodes.HOME:this.homeEndButtonsHandler(\"first\",e);break;case this.keyCodes.END:this.homeEndButtonsHandler(\"last\",e)}},catalogKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.ARROW_UP:t.upDownButtonsHandler(\"up\",\"catalog\");break;case t.keyCodes.ARROW_DOWN:t.upDownButtonsHandler(\"down\",\"catalog\");break;case t.keyCodes.ARROW_RIGHT:t.goFromFocusedTile(\"right\",\"\",\"catalog\");break;case t.keyCodes.ARROW_LEFT:t.goFromFocusedTile(\"left\",\"\",\"catalog\");break;case t.keyCodes.PAGE_UP:t.goToFirstTileOfSiblingGroupInCatalog(\"prev\",e);break;case t.keyCodes.PAGE_DOWN:t.goToFirstTileOfSiblingGroupInCatalog(\"next\",e)}},appFinderFocusAppBox:function(e,t){e.attr(\"tabindex\",\"-1\").find(\".sapUshellPinButton\").attr(\"tabindex\",\"-1\"),t.find(\".sapUshellPinButton\").attr(\"tabindex\",\"0\"),t.attr(\"tabindex\",\"0\").focus()},appFinderKeydownHandler:function(e,t){if(t){var n=jQuery(\"#catalog, #userMenu, #sapMenu\").filter(\"[tabindex=0]\");return n.length?(n.eq(0).focus(),!0):void 0}},easyAccessRightLeftHandler:function(e,t){t.preventDefault();var n=sap.ushell.components.flp.ComponentKeysHandler,i=\"right\"==e?\"next\":\"prev\",s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var o=s.parent()[i]();o.length&&n.appFinderFocusAppBox(s,o.children())}},easyAccessUpDownHandler:function(e,t){var n=sap.ushell.components.flp.ComponentKeysHandler;t.preventDefault();var i=document.activeElement,s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var o,l=i.getBoundingClientRect(),r=[].slice.call(document.querySelectorAll(\".sapUshellAppBox\"));\"up\"==e&&r.reverse(),r.splice(0,r.indexOf(i)+1);for(var a=0;a<r.length;a++){var u=r[a].getBoundingClientRect();if(u.left<l.right&&u.right>l.left){o=r[a];break}}o&&n.appFinderFocusAppBox(s,jQuery(o))}},easyAccessHomeEndHandler:function(e,t){t.preventDefault();var n=sap.ushell.components.flp.ComponentKeysHandler,i=\"home\"==e?\"first\":\"last\",s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var o=s.parent().parent().children()[i]().children();s!=o&&n.appFinderFocusAppBox(s,jQuery(o))}},easyAccessKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.ARROW_UP:t.easyAccessUpDownHandler(\"up\",e);break;case t.keyCodes.ARROW_DOWN:t.easyAccessUpDownHandler(\"down\",e);break;case t.keyCodes.ARROW_RIGHT:t.easyAccessRightLeftHandler(\"right\",e);break;case t.keyCodes.ARROW_LEFT:t.easyAccessRightLeftHandler(\"left\",e);break;case t.keyCodes.HOME:case t.keyCodes.PAGE_UP:t.easyAccessHomeEndHandler(\"home\",e);break;case t.keyCodes.END:case t.keyCodes.PAGE_DOWN:t.easyAccessHomeEndHandler(\"end\",e)}},dashboardKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.F2:t.renameGroup();break;case t.keyCodes.F7:t.groupHeaderNavigation();break;case t.keyCodes.DELETE:case t.keyCodes.BACKSPACE:t.deleteButtonHandler();break;case t.keyCodes.ARROW_UP:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"up\"):t.arrowsButtonsHandler(\"up\",e);break;case t.keyCodes.ARROW_DOWN:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"down\"):t.arrowsButtonsHandler(\"down\",e);break;case t.keyCodes.ARROW_RIGHT:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"right\"):t.arrowsButtonsHandler(\"right\",e);break;case t.keyCodes.ARROW_LEFT:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"left\"):t.arrowsButtonsHandler(\"left\",e);break;case t.keyCodes.PAGE_UP:t.goToFirstTileOfSiblingGroup(\"prev\",e);break;case t.keyCodes.PAGE_DOWN:t.goToFirstTileOfSiblingGroup(\"next\",e)}return!0},init:function(e,t){this.oModel=e,this.oRouter=t}},sap.ushell.components.flp.ComponentKeysHandler=new e}();",
	"web/ui5/resources/sap/ushell/components/flp/ComponentKeysHandler.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.ComponentKeysHandler\");var e=function(){this.aTileWrapperClasses=[\".sapUshellTile\",\".sapUshellLinkTile\"]};e.prototype={keyCodes:jQuery.sap.KeyCodes,handleCatalogKey:function(){this.oRouter.navTo(\"appFinder\",{menu:\"catalog\"})},handleHomepageKey:function(){this.oRouter.navTo(\"home\")},getNumberOfTileInRow:function(e,t){var n,i=jQuery(t?\".sapUshellLinkTile:first\":\".sapUshellTile:first\");return!!i.length&&(n=\"catalog\"===e?jQuery(\"#catalogTiles .sapUshellTileContainerContent\").width():jQuery(\"#dashboardGroups\").width(),Math.floor(n/i.outerWidth(!0)))},goToTileContainer:function(e,t){return this.oModel.getProperty(\"/tileActionModeActive\")?sap.ushell.components.flp.ComponentKeysHandler.goToFirstVisibleTileContainer():sap.ushell.components.flp.ComponentKeysHandler.goToEdgeTile(\"first\",t),!0},goToEdgeTile:function(e,t){var n=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\"),i=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),s=n.get(i),o=jQuery(s).find(\".sapUshellTile:visible\")[e](),l=jQuery(\"div.sapUshellTile:visible[tabindex='0']\"),r=jQuery(\"div.sapUshellLinkTile:visible[tabindex='0']\");return!!(o.length||l.length||r.length)&&(l.length&&!t?(this.setTileFocus(l),!0):r.length&&!t?(this.setTileFocus(r),!0):(this.setTileFocus(o),!0))},goToFirstVisibleTileContainer:function(){var e=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\"),t=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),n=jQuery(e.get(t));return!!n[0]&&(this.setTileContainerSelectiveFocus(n),!0)},goToFirstTileOfSiblingGroup:function(e,t){t.preventDefault();var n=jQuery(document.activeElement).closest(\".sapUshellDashboardGroupsContainerItem\");if(n.length){var i=n[e+\"All\"](\".sapUshellDashboardGroupsContainerItem:has(.sapUshellTile:visible):not(.sapUshellCloneArea)\"),s=\"first\";i.length?i=i.first():(i=n,s=\"next\"===e?\"last\":\"first\");var o=i.find(\".sapUshellTile:visible\")[s]();return this.moveScrollDashboard(o),!1}},goToFirstTileOfSiblingGroupInCatalog:function(e,t){t.preventDefault();var n=this.getFocusOnTile(jQuery(document.activeElement));if(n){var i;if(\"next\"==e)i=!n.nextAll(\"h3\").length?n.nextAll(\".sapUshellTile\").last():n.nextAll(\"h3\").first().nextAll().filter(\":visible\").first();else i=1===n.prevAll(\"h3\").length?n.prevAll(\"h3\").last().next():jQuery(n.prevAll(\"h3\")[1]).next();return this.setTileFocus(i),this.moveScrollCatalog(i),!1}},moveTileInGroup:function(e,t,n){if(this.oModel.getProperty(\"/personalization\")){var i=e.getBindingContext().getObject(),s=i.tiles.indexOf(t.getBindingContext().getObject()),o=i.tiles.indexOf(n.getBindingContext().getObject()),l=i.tiles.splice(s,1);i.tiles.splice(o,0,l[0]);var r=e.getBindingContext().getPath();e.getModel().setProperty(r,i)}},moveTileToDifferentGroup:function(e,t,n,i){if(this.oModel.getProperty(\"/personalization\")){if(e.getIsGroupLocked()||t.getIsGroupLocked())return;var s=e.getBindingContext().getObject(),o=t.getBindingContext().getObject(),l=s.tiles.indexOf(n.getBindingContext().getObject());\"left\"!==i&&\"up\"!==i&&\"down\"!==i||o.tiles.push(s.tiles[l]),\"right\"===i&&o.tiles.splice(0,0,s.tiles[l]),s.tiles.splice(l,1);var r=t.getBindingContext().getPath();t.getModel().setProperty(r,o);var a=e.getBindingContext().getPath();e.getModel().setProperty(a,s);var u=t.getTiles();return\"left\"===i||\"up\"===i||\"down\"===i?u[u.length-1]:u[0]}},moveTile:function(e){var t=jQuery(\".sapUshellDashboardView\"),n=sap.ui.getCore().byId(t.attr(\"id\"));if(n.getModel().setProperty(\"/isInDrag\",!0),setTimeout(function(){n.getModel().setProperty(\"/isInDrag\",!1)},300),this.oModel.getProperty(\"/personalization\")){var i=this.getGroupAndTilesInfo();if(!i||i.group.getProperty(\"isGroupLocked\"))return;var s=this.getNextTile(e,i,void 0,!0);if(!s)return;var o=s.getParent();o===i.group?this.moveTileInGroup(i.group,i.curTile,s):s=this.moveTileToDifferentGroup(i.group,o,i.curTile,e),setTimeout(function(){s&&this.setTileFocus(jQuery(s.getDomRef()))}.bind(this),100)}},getNextUpDownTileWithLayout:function(e,t,n){var i,s=\"down\"===e?1:-1,o=!t.tiles.length&&!t.links.length,l=t.group.getIsGroupLocked(),r=jQuery(t.curTile.getDomRef()).hasClass(\"sapUshellPlusTile\"),a=t.group.getLinks(),u=sap.ushell.Layout.organizeGroup(t.curTile.isLink?t.links:t.tiles,t.curTile.isLink),h=sap.ushell.Layout.getTilePositionInMatrix(t.curTile,u),d=this.isLastLineFull(u),c=this.oModel.getProperty(\"/tileActionModeActive\");if(h||o||r){if(!u[h.row+s]){if(c&&!l&&!r&&d&&\"down\"===e)return t.group.oPlusTile;if(!t.curTile.isLink&&a.length&&\"down\"===e&&!n)return a[0];if(t.curTile.isLink&&t.tiles.length&&\"up\"===e)return t.tiles[0];if(h=o||r?{row:0,col:0}:h,!(i=this.getNextGroup(e,t)))return;if(!(o=!i.getTiles().length&&!i.getLinks().length)){var g=this._getAggregationToFocusInNextGroup(i,e),p=this._isNextTileLink(g);u=sap.ushell.Layout.organizeGroup(g,p),s=0,h.row=\"down\"===e?0:u.length-1}}if(!o||!l)return o?i.oPlusTile:\"object\"!=typeof u[h.row+s][h.col]||o?this.getNextUpDownTile(u,h.row+s,h.col,e):u[h.row+s][h.col]}},_isNextTileLink:function(e){return!(!e||!e.length)&&jQuery(e[0].getDomRef()).hasClass(\"sapUshellLinkTile\")},_getAggregationToFocusInNextGroup:function(e,t){if(\"down\"===t||\"right\"===t){if(e.getTiles().length)return e.getShowPlaceholder()?[].concat(e.getTiles(),e.oPlusTile):e.getTiles();if(e.getLinks().length)return e.getLinks()}else if(\"up\"===t||\"left\"===t){if(e.getLinks().length)return e.getLinks();if(e.getTiles().length)return e.getShowPlaceholder()?[].concat(e.getTiles(),e.oPlusTile):e.getTiles()}},isLastLineFull:function(e){var t=this.getNumberOfTileInRow();return e[e.length-1].filter(Boolean).length===t},getNextUpDownTile:function(e,t,n,i){for(var s,o=t,l=e.length,r=\"up\"===i?-1:1;o>=0&&o<l&&!s;)\"object\"!=typeof e[o][n]&&(s=e[o][n]),o+=r;if(!s){for(o=t;\"object\"!=typeof e[o][n]&&n>=0;)n--;return e[o][n]}},getNextTile:function(e,t,n,i){var s,o,l,r,a,u,h,d,c=sap.ui.getCore().getConfiguration().getRTL()?-1:1,g=!t.tiles.length,p=\"right\"===e?1:-1;if(\"catalog\"===t.pageName){if(\"right\"==e||\"left\"==e)return s=g?void 0:t.tiles[t.curTileIndex+c*p];if(\"0\"===t.curTileIndex&&\"up\"===e)return;o=this.whichTileRow(t.curTileIndex,t),d=parseFloat(t.curTile.getDomRef().offsetLeft),\"down\"==e?l=t.tiles.slice(t.curTileIndex+1,t.curTileIndex+2*t.sizeOfLine):(r=r>0?r:0,l=t.tiles.slice(r,t.curTileIndex).reverse());for(var f=0,T=l.length;f<T;f++)if(a=l[f].getDomRef(),u=parseFloat(a.offsetLeft),h=parseFloat(a.offsetWidth),u<=d&&u+h>=d)return s=l[f];if(this.nextRowIsShorter(e,o,t))return s=this.getNextTileInShorterRow(e,o,t)}else{if(\"left\"===e||\"right\"===e){var C=t.curTileIndex+c*p,y=t.curTile.isLink?t.links:t.tiles;if(!y[C]||i&&y[C].getDomRef().className.indexOf(\"sapUshellPlusTile\")>0||(s=y.length?y[C]:void 0),s)return s;if(\"right\"===e&&!t.curTile.isLink&&t.links.length&&!i)return t.links[0];if(\"left\"===e&&t.curTile.isLink&&t.tiles.length)return t.group.getShowPlaceholder()?t.group.oPlusTile:t.tiles[t.tiles.length-1];var v=this.getNextGroup(e,t);if(!v)return;var m=this._getAggregationToFocusInNextGroup(v,e);if(m&&m.length){var b=m.length-1;s=\"right\"===e?m[1===c?0:b]:m[1===c?b:0]}else s=v.oPlusTile}\"down\"!==e&&\"up\"!==e||(s=this.getNextUpDownTileWithLayout(e,t,i))}return s},getNextTileInShorterRow:function(e,t,n){var i=\"down\"===e?this.getLastTileIdInRow(n,t+1):this.getLastTileIdInRow(n,t-1);return n.tiles[i]},getLastTileIdInRow:function(e,t){for(var n=0,i=0;i<e.rowsData.length&&(n+=e.rowsData[i],i!==t);i++);return n-1},nextRowIsShorter:function(e,t,n){return\"down\"===e&&t!=n.rowsData.length-1?n.rowsData[t]>n.rowsData[t+1]:\"up\"===e&&0!=t&&n.rowsData[t]>n.rowsData[t-1]},getNextGroup:function(e,t){var n,i=t.group.getParent().getGroups(),s=sap.ui.getCore().getConfiguration().getRTL(),o=i.indexOf(t.group);if(\"right\"!==e&&\"left\"!==e||(e=s?\"right\"===e?\"up\":\"down\":\"right\"===e?\"down\":\"up\"),\"down\"===e||\"up\"===e){var l=\"up\"===e?-1:1;if(!(n=i[o+l]))return;for(;!n.getVisible()&&o>=0&&o<i.length;)if(!(n=i[o+=l]))return}if(n.getVisible())return n},getGroupAndTilesInfo:function(e,t){if(e||(e=this.getFocusOnTile(jQuery(document.activeElement))),e.length){var n,i,s,o=sap.ui.getCore().byId(e.attr(\"id\")),l=o.getParent();if(l.getTiles||(l=l.getParent()),o.isLink=e.hasClass(\"sapUshellLinkTile\"),\"catalog\"==t){n=this.getCatalogLayoutData(),i=[];for(var r=jQuery(\"#catalogTiles\").find(\".sapUshellTile:visible\"),a=0;a<r.length;a++)i.push(sap.ui.getCore().byId(r[a].id))}else l.getTiles&&(i=l.getTiles(),s=l.getLinks(),l.getShowPlaceholder()&&!o.isLink&&i.push(l.oPlusTile));var u=this.getNumberOfTileInRow(t,o.isLink);return{pageName:t,curTile:o,curTileIndex:o.isLink?s.indexOf(o):i.indexOf(o),tiles:i,links:s,sizeOfLine:u,group:l,rowsData:n}}},getCatalogLayoutData:function(){for(var e=jQuery(\"#catalogTiles .sapUshellInner\").children(\":visible\"),t=this.getNumberOfTileInRow(\"catalog\"),n=[],i=0,s=1;s<e.length;s++)jQuery(e[s]).hasClass(\"sapUshellTile\")&&i++,jQuery(e[s]).hasClass(\"sapUshellHeaderTile\")&&(n.push(i),i=0),i>=t&&(n.push(i),i=0);return i>0&&n.push(i),n},whichTileRow:function(e,t){var n,i=0;for(n=0;n<t.rowsData.length;n++)if(e<(i+=t.rowsData[n]))return n},goToSiblingElementInTileContainer:function(e,t,n){var i,s,o,l=t.closest(\".sapUshellTileContainer\");if(i=this.getFocusTileContainerBeforeContent(t))\"up\"===e||\"left\"===e?this._goToNextTileContainer(i,e):(o=l.find(\".sapUshellTileContainerHeader:first\"),this.setTabIndexOnTileContainerHeader(o),o.focus());else if(i=this.getFocusTileContainerHeader(t)){if(\"up\"===e)this.setTabIndexOnTileContainerHeader(o),this._goToTileContainerBeforeContent(l)||this._goToNextTileContainer(i,e);else if(\"down\"===e)if((s=l.find(\".sapUshellTile:first\")).length){var r=jQuery(s);this.scrollToTileAndSetFocus(r,n)}else this._goToNextTileContainer(i,e);else if(\"left\"===e)t.hasClass(\"sapUshellTileContainerHeader\")?this._goToTileContainerBeforeContent(l)||this._goToNextTileContainer(i,\"left\"):(o=t.closest(\".sapUshellTileContainerHeader\")).focus();else if(\"right\"===e){t.hasClass(\"sapMInputBaseInner\")||((s=l.find(\".sapUshellTile:first\")).length?this.setTileFocus(s):this._goToNextTileContainer(i,\"down\"))}}else(i=this.getFocusOnTile(t))?this.goFromFocusedTile(e,i,n,!0):(i=this.getFocusOnTileContainerAfterContent(t))&&(\"up\"===e||\"left\"===e?this._goToFirstTileInTileContainer(i):this._goToNextTileContainer(i,e))},_goToNextTileContainer:function(e,t){var n,i,s=e.closest(\".sapUshellTileContainer\"),o=jQuery(\".sapUshellTileContainer:visible\"),l=\"down\"===t?1:-1;if(n=jQuery(o[o.index(s)+l]))if(i=n.find(\".sapUshellTileContainerHeader\"),\"down\"===t)this._goToTileContainerBeforeContent(n)||(this.setTabIndexOnTileContainerHeader(i),this.setTileContainerSelectiveFocus(n));else{if(this._goToTileContainerAfterContent(n))return;\"up\"===t?this._goToFirstTileInTileContainer(n)||(this.setTabIndexOnTileContainerHeader(i),i.focus()):\"left\"===t&&(this._goToLastTileInTileContainer(n)||(this.setTabIndexOnTileContainerHeader(i),i.focus()))}},_goToLastTileInTileContainer:function(e){var t=e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\"),n=t.find(\".sapUshellTile:last\"),i=t.find(\".sapUshellLinkTile:last\");return!(!i.length&&!n.length)&&(this.setTileFocus(i.length?i:n),!0)},_goToFirstTileInTileContainer:function(e){var t=e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\"),n=jQuery(t.find(\".sapUshellTile\").get(0));return!!n.length&&(this.setTileFocus(n),!0)},_goToTileContainerBeforeContent:function(e){var t=(e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\")).find(\".sapUshellTileContainerBeforeContent button:visible\");return!!t.length&&(t.focus(),!0)},_goToTileContainerAfterContent:function(e){var t=(e.hasClass(\"sapUshellTileContainer\")?e:e.closest(\".sapUshellTileContainer\")).find(\".sapUshellTileContainerAfterContent button:visible\");return!!t.length&&(t.focus(),!0)},goFromFocusedTile:function(e,t,n,i){var s,o,l,r,a=this.getGroupAndTilesInfo(t,n);if(a)if(s=this.getNextTile(e,a,i),i)if(o=jQuery(t).closest(\".sapUshellTileContainer\"),s)if(l=jQuery(s.getDomRef()).closest(\".sapUshellTileContainer\"),o.length&&l.length&&o.attr(\"id\")===l.attr(\"id\")){var u=jQuery(s.getDomRef());this.scrollToTileAndSetFocus(u,n)}else\"down\"===e||\"right\"===e?this._goToTileContainerAfterContent(o)||(this.setTabIndexOnTileContainerHeader(l.find(\".sapUshellTileContainerHeader\")),this.setTileContainerSelectiveFocus(l)):(r=o.find(\".sapUshellTileContainerHeader\"),this.setTabIndexOnTileContainerHeader(r),r.focus());else{if(\"down\"===e||\"right\"===e)return void jQuery(o).find(\".sapUshellTileContainerAfterContent button:visible\").focus();if(\"up\"===e)return this.setTabIndexOnTileContainerHeader(o.find(\".sapUshellTileContainerHeader\")),void this.setTileContainerSelectiveFocus(o);\"left\"===e&&(r=o.find(\".sapUshellTileContainerHeader\")).focus()}else if(s){u=jQuery(s.getDomRef());this.scrollToTileAndSetFocus(u,n)}},scrollToTileAndSetFocus:function(e,t){var n=e.offset().top+e.height();if(\"catalog\"===t){var i=n-jQuery(\"body\").height()-jQuery(\"#catalogTilesPage\").offset().top+200;jQuery(\"#catalogTilesPage section\").animate({scrollTop:i},0,function(){this.setTileFocus(e)}.bind(this))}else this.moveScrollDashboard(e)},deleteTile:function(e){var t=e.attr(\"id\");if(t){var n=sap.ui.getCore().byId(t),i=this.getGroupAndTilesInfo(e),s=this.getNextTile(\"right\",i);(!s||s&&s.getParent()!=i.group)&&(s=this.getNextTile(\"left\",i)),(!s||s&&s.getParent()!=i.group)&&(s=i.group.oPlusTile),s&&(this.setTileFocus(jQuery(s.getDomRef())),setTimeout(function(e,t){var n=e.getTiles();if(n.length){for(var s,o=0;o<n.length;o++)if(n[o].getProperty(\"uuid\")==t){s=n[o];break}s&&this.setTileFocus(jQuery(s.getDomRef()))}else{if(i.group.getProperty(\"defaultGroup\")){var l=this.getNextGroup(\"right\",i);s=l.getTiles()[0]||l.oPlusTile,this.setTileFocus(jQuery(s.getDomRef()))}this.setTileFocus(jQuery(e.oPlusTile.getDomRef()))}}.bind(this,i.group,s.getProperty(\"uuid\")),100)),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",{tileId:n.getUuid()})}},setTabIndexOnTileContainerHeader:function(e){if(jQuery(\".sapUshellTileContainerHeader\").attr(\"tabindex\",-1),jQuery(\".sapUshellTileContainerHeader .sapUshellContainerTitle\").attr(\"tabindex\",-1),jQuery(\".sapUshellTileContainerHeader .sapUshellContainerHeaderActions button\").attr(\"tabindex\",-1),e){var t=e.find(\".sapUshellContainerTitle:first\"),n=e.find(\".sapUshellContainerHeaderActions:first\");e.attr(\"tabindex\",0),t.attr(\"tabindex\",0),n.find(\"button\").attr(\"tabindex\",0)}},setTileContainerSelectiveFocus:function(e){var t=e.find(\".sapUshellTileContainerBeforeContent button\"),n=e.find(\".sapUshellTileContainerHeader:first\");t.length&&t.is(\":visible\")?t.focus():n.length&&(this.setTabIndexOnTileContainerHeader(n),n.focus())},setTileFocus:function(e){if(!e.hasClass(\"sapUshellPlusTile\")){var t,n=sap.ui.getCore().byId(\"navContainerFlp\"),i=n.getCurrentPage(),s=!(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"!==(n?n.getCurrentPage().getViewName():void 0)||\"catalog\"!==i.getController().getCurrentMenuName());if(t=e.find(\"[tabindex]\"),s)sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(t.eq(0))}jQuery(\".sapUshellTile\").attr(\"tabindex\",-1),jQuery(\".sapUshellLinkTile\").attr(\"tabindex\",-1),e.attr(\"tabindex\",0);var o=jQuery(\"#loadingDialog\")[0];o&&\"hidden\"!==o.style.visibility||e.focus()},setFocusOnCatalogTile:function(e){var t,n=jQuery(\".sapUshellTile[tabindex=0]\");if(n.length&&(jQuery(\".sapUshellTileContainerContent\").find(\"[tabindex*=0]\").attr(\"tabindex\",-1),n.find(\"[tabindex], a\").andSelf().filter(\"[tabindex], a\").attr(\"tabindex\",-1)),!e){if(!(t=jQuery(\".sapUshellTile:visible\")).length)return;e=jQuery(t[0]).find(\"[tabindex], a\").eq(0)}e.closest(\".sapUshellTile\").attr(\"tabindex\",0),e.attr(\"tabindex\",0),e.closest(\".sapUshellTile\").find(\"button\").attr(\"tabindex\",0)},moveScrollDashboard:function(e){var t=e.closest(\".sapUshellTileContainer\")[0].id,n=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+document.getElementById(t).getBoundingClientRect().top;n+=49,jQuery(\"#sapUshellDashboardPage section\").stop().animate({scrollTop:n},0,function(){this.setTileFocus(e)}.bind(this))},moveScrollCatalog:function(e){var t=jQuery(\"#catalogTilesPage-cont\"),n=jQuery(\"#shell-hdr\").height()+jQuery(\".sapMPageHeader\").height()+2*parseInt(jQuery(\".sapMPanelHdr\").css(\"margin-top\"),10),i=e.offset().top+t.scrollTop()-n;sap.ui.getCore().byId(\"catalogTilesPage\").scrollTo(i,200)},moveGroupFromDashboard:function(e,t){var n,i,s,o=jQuery(\".sapUshellDashboardGroupsContainerItem\");n=t.closest(\".sapUshellDashboardGroupsContainerItem\"),i=o.index(n),s=\"up\"==e||\"left\"==e?i-1:i+1,this.moveGroup(i,s)},moveGroup:function(e,t){var n=jQuery(\".sapUshellDashboardGroupsContainerItem\"),i=jQuery(\".sapUshellDisableDragAndDrop\").length;if(!(t<0||t>=n.length||t<i)){var s=sap.ui.getCore(),o={fromIndex:e,toIndex:t};s.getEventBus().publish(\"launchpad\",\"moveGroup\",o),setTimeout(function(){var e=jQuery(\".sapUshellTileContainerHeader\")[t];this.setTabIndexOnTileContainerHeader(jQuery(e)),jQuery(e).focus()}.bind(this),100)}},getFocusGroupFromDashboard:function(e){return!!(e.closest(\".sapUshellTileContainerHeader\").length&&\"H2\"===e[0].tagName)&&e},getFocusTileContainerBeforeContent:function(e){var t=e.closest(\".sapUshellTileContainerBeforeContent\");return!!t.length&&t},getFocusTileContainerHeader:function(e){var t=e.closest(\".sapUshellTileContainerHeader\");return!!t.length&&t},getFocusOnTileContainerAfterContent:function(e){var t=e.closest(\".sapUshellTileContainerAfterContent\");return!!t.length&&t},getFocusOnTile:function(e){var t;return jQuery.each(this.aTileWrapperClasses,function(n,i){var s=e.closest(i);return!(t=!!s.length&&s)}),t},renameGroup:function(){var e=jQuery(document.activeElement),t=this.getFocusGroupFromDashboard(e);t&&t.click()},upDownButtonsHandler:function(e,t){var n=jQuery(document.activeElement);this.goFromFocusedTile(e,n,t)},arrowsButtonsHandler:function(e,t){var n=jQuery(document.activeElement),i=this.oModel.getProperty(\"/tileActionModeActive\");n.hasClass(\"sapUshellAnchorItem\")?(t.preventDefault(),this.handleAnchorNavigationItemsArrowKeys(e)):i?n.hasClass(\"sapMInputBaseInner\")||(t.preventDefault(),this.goToSiblingElementInTileContainer(e,n)):(t.preventDefault(),this.goFromFocusedTile(e,n))},handleAnchorNavigationItemsArrowKeys:function(e){var t=jQuery(\".sapUshellAnchorItem:visible\"),n=jQuery(document.activeElement),i=t.index(n),s=n;sap.ui.getCore().getConfiguration().getRTL()&&(e=\"left\"===e?\"right\":\"left\"),\"left\"===e||\"down\"===e?i>0&&(s=t.get(i-1)):\"right\"!==e&&\"up\"!==e||i<t.length-1&&(s=t.get(i+1)),jQuery(s).focus()},homeEndButtonsHandler:function(e,t){var n,i=jQuery(document.activeElement);return i.hasClass(\"sapUshellAnchorItem\")?(t.preventDefault(),void jQuery(\".sapUshellAnchorItem:visible:\"+e).focus()):i.hasClass(\"sapUshellTile\")&&(i.closest(\"#dashboardGroups\").length||i.closest(\"#catalogTiles\").length)?(t.preventDefault(),n=!0===t.ctrlKey?jQuery(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[e]():i.parent().find(\".sapUshellTile:visible:not('.sapUshellPlusTile')\")[e](),void this.setTileFocus(n)):void 0},deleteButtonHandler:function(){if(this.oModel.getProperty(\"/personalization\")&&this.oModel.getProperty(\"/tileActionModeActive\")){var e,t=jQuery(document.activeElement);if(e=this.getFocusOnTile(t))return void(e.hasClass(\"sapUshellLockedTile\")||e.hasClass(\"sapUshellPlusTile\")||this.deleteTile(e))}},ctrlPlusArrowKeyButtonsHandler:function(e){var t,n=jQuery(document.activeElement);if(jQuery(n).hasClass(\"sapUshellLinkTile\")||!(t=this.getFocusOnTile(n))){if(t=this.getFocusTileContainerHeader(n)){var i=t.closest(\".sapUshellTileContainerContent\");if(i.hasClass(\"sapUshellTileContainerDefault\")||i.hasClass(\"sapUshellTileContainerLocked\"))return;this.moveGroupFromDashboard(e,t)}}else this.moveTile(e)},spaceButtonHandler:function(e){var t=jQuery(document.activeElement);if(t.hasClass(\"sapUshellTile\")){e.preventDefault();var n=t.find('[role=\"button\"]');if(n){var i=n.attr(\"id\"),s=sap.ui.getCore().byId(i),o=this.oModel.getProperty(\"/tileActionModeActive\");if(s&&!o)return s.firePress(),!1}return t.click(),!1}},goToFirstCatalogTile:function(){var e=sap.ushell.components.flp.ComponentKeysHandler,t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");e.setTileFocus(t)},goToFirstCatalogHeaderItem:function(){jQuery(\"#catalogTilesPage header button\")[0].focus()},goToFirstAnchorNavigationItem:function(){jQuery(\".sapUshellAnchorItem:visible:first\").focus()},handleFocusOnMe:function(e,t){var n=sap.ushell.components.flp.ComponentKeysHandler,i=sap.ui.getCore().byId(\"navContainerFlp\").getCurrentPage(),s=i.getViewName();if(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==s&&(t?e.shiftKey?n.goToTileContainer(e):n.goToFirstAnchorNavigationItem():(n.mainKeydownHandler(e),n.dashboardKeydownHandler(e))),\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"==s){if(n.appFinderKeydownHandler(e,t))return;\"catalog\"===i.getController().getCurrentMenuName()?t?e.shiftKey?n.goToFirstCatalogTile():n.goToFirstCatalogHeaderItem():(n.mainKeydownHandler(e),n.catalogKeydownHandler(e)):n.easyAccessKeydownHandler(e)}},groupHeaderNavigation:function(){var e,t=jQuery(document.activeElement);t.hasClass(\"sapUshellTileContainerHeader\")?(e=t.find(\".sapUshellContainerTitle\")).focus():(e=t.closest(\".sapUshellTileContainerHeader\"))&&e.focus()},handleShortcuts:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;if(e.altKey)switch(String.fromCharCode(e.keyCode)){case\"C\":t.oModel.getProperty(\"/personalization\")&&t.handleCatalogKey();break;case\"H\":t.handleHomepageKey()}},mainKeydownHandler:function(e){switch((e=e||window.event).keyCode){case this.keyCodes.SPACE:this.spaceButtonHandler(e);break;case this.keyCodes.HOME:this.homeEndButtonsHandler(\"first\",e);break;case this.keyCodes.END:this.homeEndButtonsHandler(\"last\",e)}},catalogKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler,n=\"catalog\";switch(e.keyCode){case t.keyCodes.ARROW_UP:t.upDownButtonsHandler(\"up\",n);break;case t.keyCodes.ARROW_DOWN:t.upDownButtonsHandler(\"down\",n);break;case t.keyCodes.ARROW_RIGHT:t.goFromFocusedTile(\"right\",\"\",n);break;case t.keyCodes.ARROW_LEFT:t.goFromFocusedTile(\"left\",\"\",n);break;case t.keyCodes.PAGE_UP:t.goToFirstTileOfSiblingGroupInCatalog(\"prev\",e);break;case t.keyCodes.PAGE_DOWN:t.goToFirstTileOfSiblingGroupInCatalog(\"next\",e)}},appFinderFocusAppBox:function(e,t){e.attr(\"tabindex\",\"-1\").find(\".sapUshellPinButton\").attr(\"tabindex\",\"-1\"),t.find(\".sapUshellPinButton\").attr(\"tabindex\",\"0\"),t.attr(\"tabindex\",\"0\").focus()},appFinderKeydownHandler:function(e,t){if(t){var n=jQuery(\"#catalog, #userMenu, #sapMenu\").filter(\"[tabindex=0]\");return n.length?(n.eq(0).focus(),!0):void 0}},easyAccessRightLeftHandler:function(e,t){t.preventDefault();var n=sap.ushell.components.flp.ComponentKeysHandler,i=\"right\"==e?\"next\":\"prev\",s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var o=s.parent()[i]();o.length&&n.appFinderFocusAppBox(s,o.children())}},easyAccessUpDownHandler:function(e,t){var n=sap.ushell.components.flp.ComponentKeysHandler;t.preventDefault();var i=document.activeElement,s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var o,l=i.getBoundingClientRect(),r=[].slice.call(document.querySelectorAll(\".sapUshellAppBox\"));\"up\"==e&&r.reverse(),r.splice(0,r.indexOf(i)+1);for(var a=0;a<r.length;a++){var u=r[a].getBoundingClientRect();if(u.left<l.right&&u.right>l.left){o=r[a];break}}o&&n.appFinderFocusAppBox(s,jQuery(o))}},easyAccessHomeEndHandler:function(e,t){t.preventDefault();var n=sap.ushell.components.flp.ComponentKeysHandler,i=\"home\"==e?\"first\":\"last\",s=jQuery(document.activeElement);if(s.hasClass(\"sapUshellAppBox\")){var o=s.parent().parent().children()[i]().children();s!=o&&n.appFinderFocusAppBox(s,jQuery(o))}},easyAccessKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.ARROW_UP:t.easyAccessUpDownHandler(\"up\",e);break;case t.keyCodes.ARROW_DOWN:t.easyAccessUpDownHandler(\"down\",e);break;case t.keyCodes.ARROW_RIGHT:t.easyAccessRightLeftHandler(\"right\",e);break;case t.keyCodes.ARROW_LEFT:t.easyAccessRightLeftHandler(\"left\",e);break;case t.keyCodes.HOME:case t.keyCodes.PAGE_UP:t.easyAccessHomeEndHandler(\"home\",e);break;case t.keyCodes.END:case t.keyCodes.PAGE_DOWN:t.easyAccessHomeEndHandler(\"end\",e)}},dashboardKeydownHandler:function(e){var t=sap.ushell.components.flp.ComponentKeysHandler;switch(e.keyCode){case t.keyCodes.F2:t.renameGroup();break;case t.keyCodes.F7:t.groupHeaderNavigation();break;case t.keyCodes.DELETE:case t.keyCodes.BACKSPACE:t.deleteButtonHandler();break;case t.keyCodes.ARROW_UP:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"up\"):t.arrowsButtonsHandler(\"up\",e);break;case t.keyCodes.ARROW_DOWN:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"down\"):t.arrowsButtonsHandler(\"down\",e);break;case t.keyCodes.ARROW_RIGHT:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"right\"):t.arrowsButtonsHandler(\"right\",e);break;case t.keyCodes.ARROW_LEFT:!0===e.ctrlKey?t.ctrlPlusArrowKeyButtonsHandler(\"left\"):t.arrowsButtonsHandler(\"left\",e);break;case t.keyCodes.PAGE_UP:t.goToFirstTileOfSiblingGroup(\"prev\",e);break;case t.keyCodes.PAGE_DOWN:t.goToFirstTileOfSiblingGroup(\"next\",e)}return!0},init:function(e,t){this.oModel=e,this.oRouter=t}},sap.ushell.components.flp.ComponentKeysHandler=new e}();",
	"web/ui5/resources/sap/ushell/components/flp/CustomRouter-dbg.js": "!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.CustomRouter\"),sap.ui.core.routing.Router.extend(\"sap.ushell.components.flp.CustomRouter\",{constructor:function(){sap.ui.core.routing.Router.apply(this,arguments),this.attachRouteMatched(this._onHandleRouteMatched,this)},navTo:function(){this._bIsInitialized||this.initialize(),sap.ui.core.routing.Router.prototype.navTo.apply(this,arguments)},destroy:function(){sap.ui.core.routing.Router.prototype.destroy.apply(this,arguments)},_onHandleRouteMatched:function(t){var o=t.getParameters(),e=sap.ui.getCore().byId(o.config.controlId),i=this.getTarget(o.config.target).display();e.to(i.oTargetParent)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/CustomRouter.js": "!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.CustomRouter\"),sap.ui.core.routing.Router.extend(\"sap.ushell.components.flp.CustomRouter\",{constructor:function(){sap.ui.core.routing.Router.apply(this,arguments),this.attachRouteMatched(this._onHandleRouteMatched,this)},navTo:function(){this._bIsInitialized||this.initialize(),sap.ui.core.routing.Router.prototype.navTo.apply(this,arguments)},destroy:function(){sap.ui.core.routing.Router.prototype.destroy.apply(this,arguments)},_onHandleRouteMatched:function(t){var o=t.getParameters(),e=sap.ui.getCore().byId(o.config.controlId),i=this.getTarget(o.config.target).display();e.to(i.oTargetParent)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/FLPAnalytics-dbg.js": "!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.FLPAnalytics\");var e=sap.ui.getCore().getEventBus(),a=this,t={};function i(e){var a=sap.ushell.services.AppConfiguration.getMetadata();t[e]={},t[e].startTime=new Date,t[e].title=a.title}function n(e){var a=0;try{a=(new Date-t[e].startTime)/1e3,sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Time in Application (sec)\",a,[t[e].title])}catch(a){jQuery.sap.log.warning(\"Duration in application \"+e+\" could not be calculated\",null,\"sap.ushell.components.flp.FLPAnalytics\")}}function o(a,n,l){var s,r=hasher.getHash();switch(window.swa.custom1={ref:r},n){case\"appOpened\":i(r),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Opened\",\"Direct Launch\",[t[r].title]),e.unsubscribe(\"launchpad\",\"appOpened\",o);break;case\"bookmarkTileAdded\":s=window.document.title,sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Personalization\",\"Save as Tile\",[s,l&&l.group&&l.group.title?l.group.title:\"\",l&&l.group&&l.group.id?l.group.id:\"\",l&&l.tile&&l.tile.title?l.tile.title:s]);break;case\"actionModeActive\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Personalization\",\"Enter Action Mode\",[l.source]);break;case\"catalogTileClick\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Catalog\",[]);break;case\"dashboardTileClick\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Homepage\",[]);break;case\"dashboardTileLinkClick\":window.swa.custom1={ref:l.targetHash.substr(1)},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Tile Group Link\",[])}}jQuery(window).unload(function(e){n(window.location.hash.substr(1))});try{sap.ui.getCore().byId(\"viewPortContainer\").attachAfterNavigate(function(e){var a,o;e.getParameter(\"from\")&&e.getParameter(\"to\")&&(a=e.getParameter(\"from\").getId().replace(\"application-\",\"\").replace(\"applicationShellPage-\",\"\"),window.swa.custom1={ref:a},n(a),i(o=e.getParameter(\"to\").getId().replace(\"application-\",\"\").replace(\"applicationShellPage-\",\"\")),window.swa.custom1={ref:o},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Opened\",\"Fiori Navigation\",[t[o].title]))},a)}catch(e){jQuery.sap.log.warning(\"Failure when subscribing to viewPortContainer 'AfterNavigate' event\",null,\"sap.ushell.components.flp.FLPAnalytics\")}e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileAdded\",o,a),[\"appOpened\",\"deleteTile\",\"createGroup\",\"actionModeActive\",\"catalogTileClick\",\"dashboardTileClick\",\"dashboardTileLinkClick\"].forEach(function(t,i,n){e.subscribe(\"launchpad\",t,o,a)})}();",
	"web/ui5/resources/sap/ushell/components/flp/FLPAnalytics.js": "!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.FLPAnalytics\");var e=sap.ui.getCore().getEventBus(),a=this,t={};function i(e){var a=sap.ushell.services.AppConfiguration.getMetadata();t[e]={},t[e].startTime=new Date,t[e].title=a.title}function n(e){var a=0;try{a=(new Date-t[e].startTime)/1e3,sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Time in Application (sec)\",a,[t[e].title])}catch(a){jQuery.sap.log.warning(\"Duration in application \"+e+\" could not be calculated\",null,\"sap.ushell.components.flp.FLPAnalytics\")}}function o(a,n,l){var s,r=hasher.getHash();switch(window.swa.custom1={ref:r},n){case\"appOpened\":i(r),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Opened\",\"Direct Launch\",[t[r].title]),e.unsubscribe(\"launchpad\",\"appOpened\",o);break;case\"bookmarkTileAdded\":s=window.document.title,sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Personalization\",\"Save as Tile\",[s,l&&l.group&&l.group.title?l.group.title:\"\",l&&l.group&&l.group.id?l.group.id:\"\",l&&l.tile&&l.tile.title?l.tile.title:s]);break;case\"actionModeActive\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Personalization\",\"Enter Action Mode\",[l.source]);break;case\"catalogTileClick\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Catalog\",[]);break;case\"dashboardTileClick\":sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Homepage\",[]);break;case\"dashboardTileLinkClick\":window.swa.custom1={ref:l.targetHash.substr(1)},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Launch point\",\"Tile Group Link\",[])}}jQuery(window).unload(function(e){n(window.location.hash.substr(1))});try{sap.ui.getCore().byId(\"viewPortContainer\").attachAfterNavigate(function(e){var a,o;e.getParameter(\"from\")&&e.getParameter(\"to\")&&(a=e.getParameter(\"from\").getId().replace(\"application-\",\"\").replace(\"applicationShellPage-\",\"\"),window.swa.custom1={ref:a},n(a),i(o=e.getParameter(\"to\").getId().replace(\"application-\",\"\").replace(\"applicationShellPage-\",\"\")),window.swa.custom1={ref:o},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(\"FLP: Application Opened\",\"Fiori Navigation\",[t[o].title]))},a)}catch(e){jQuery.sap.log.warning(\"Failure when subscribing to viewPortContainer 'AfterNavigate' event\",null,\"sap.ushell.components.flp.FLPAnalytics\")}e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileAdded\",o,a),[\"appOpened\",\"deleteTile\",\"createGroup\",\"actionModeActive\",\"catalogTileClick\",\"dashboardTileClick\",\"dashboardTileLinkClick\"].forEach(function(t,i,n){e.subscribe(\"launchpad\",t,o,a)})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/DashboardManager-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.DashboardManager\"),jQuery.sap.require(\"sap.ushell.services.Message\");var e=function(e,t){return t?sap.ushell.resources.i18n.getText(e,t):sap.ushell.resources.i18n.getText(e)},t=function(e){return this.oModel.getProperty(\"/catalogTiles\").filter(function(t){return t.catalog===e.title&&!0===t.isTileIntentSupported}).length};sap.ui.base.EventProvider.extend(\"sap.ushell.components.flp.launchpad.DashboardManager\",{metadata:{publicMethods:[\"getModel\",\"getDashboardView\",\"loadPersonalizedGroups\",\"attachEvent\",\"detachEvent\",\"attachEventOnce\",\"createTile\",\"deleteCatalogTileFromGroup\",\"resetGroupsOnFailure\",\"createGroupAndSaveTile\"]},analyticsConstants:{PERSONALIZATION:\"FLP: Personalization\",RENAME_GROUP:\"FLP: Rename Group\",MOVE_GROUP:\"FLP: Move Group\",DELETE_GROUP:\"FLP: Delete Group\",RESET_GROUP:\"FLP: Reset Group\",DELETE_TILE:\"FLP: Delete Tile\",ADD_TILE:\"FLP: Add Tile\",MOVE_TILE:\"FLP: Move Tile\"},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.getDashboardManager&&sap.ushell.components.flp.launchpad.getDashboardManager())return sap.ushell.components.flp.launchpad.getDashboardManager();(sap.ushell.components.flp.launchpad.getDashboardManager=jQuery.sap.getter(this.getInterface()),this.oPageBuilderService=sap.ushell.Container.getService(\"LaunchPage\"),this.oModel=t.model,this.oConfig=t.config,this.oRouter=t.router,this.oSortableDeferred=$.Deferred(),this.oSortableDeferred.resolve(),this.aRequestQueue=[],this.bRequestRunning=!1,this.tagsPool=[],this.registerEvents(),this.oTileCatalogToGroupsMap={},this.tileViewUpdateQueue=[],this.tileViewUpdateTimeoutID=0,this.oPopover=null,this.tileUuid=null,this.oGroupCreatedDeferred=void 0,this.aMoveTileCallsData=void 0,this.segmentsStore=[],this.oGroupNotLockedFilter=new sap.ui.model.Filter(\"isGroupLocked\",sap.ui.model.FilterOperator.EQ,!1),this.oRouter)&&this.oRouter.getTarget(\"home\").attachDisplay(function(e){this.oDashboardView=e.getParameter(\"view\")}.bind(this))},createMoveActionDialog:function(){var e=this.oGroupNotLockedFilter;this.moveDialog=new sap.m.SelectDialog(\"moveDialog\",{title:sap.ushell.resources.i18n.getText(\"moveTileDialog_title\"),rememberSelections:!1,search:function(t){var o=t.getParameter(\"value\"),i=new sap.ui.model.Filter(\"title\",sap.ui.model.FilterOperator.Contains,o);t.getSource().getBinding(\"items\").filter([i,e])},contentWidth:\"400px\",confirm:function(e){var t=e.getParameter(\"selectedContexts\"),o=sap.ui.getCore().getEventBus();t.length&&(o.publish(\"launchpad\",\"moveTile\",{sTileId:this.tileUuid,toGroupId:t[0].getObject().groupId,toIndex:t[0].getObject().tiles.length,source:this.moveDialog.getId()}),o.publish(\"launchpad\",\"scrollToGroup\",{groupId:t[0].getObject().groupId,groupChanged:!1,focus:!1}))}.bind(this),cancel:function(){var e=jQuery('.sapUshellTile[tabindex=\"0\"]')[0];e&&e.focus()},items:{path:\"/groups\",filters:[e],template:new sap.m.StandardListItem({title:\"{title}\"})}}),this.moveDialog.setModel(this.oModel)},registerEvents:function(){var e=sap.ui.getCore().getEventBus(),t=this;e.subscribe(\"launchpad\",\"addBookmarkTile\",this._createBookmark,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileAdded\",this._addBookmarkToModel,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"catalogTileAdded\",this._refreshGroupInModel,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileDeleted\",this.loadPersonalizedGroups,this),e.subscribe(\"launchpad\",\"loadDashboardGroups\",this.loadPersonalizedGroups,this),e.subscribe(\"launchpad\",\"createGroupAt\",this._createGroupAt,this),e.subscribe(\"launchpad\",\"createGroup\",this._createGroup,this),e.subscribe(\"launchpad\",\"deleteGroup\",this._deleteGroup,this),e.subscribe(\"launchpad\",\"resetGroup\",this._resetGroup,this),e.subscribe(\"launchpad\",\"changeGroupTitle\",this._changeGroupTitle,this),e.subscribe(\"launchpad\",\"moveGroup\",this._moveGroup,this),e.subscribe(\"launchpad\",\"deleteTile\",this._deleteTile,this),e.subscribe(\"launchpad\",\"moveTile\",this._moveTile,this),e.subscribe(\"launchpad\",\"sortableStart\",this._sortableStart,this),e.subscribe(\"launchpad\",\"sortableStop\",this._sortableStop,this),e.subscribe(\"renderCatalog\",this.loadAllCatalogs,this),e.subscribe(\"showCatalog\",this.updateTilesAssociation,this),e.subscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),this.oPageBuilderService.registerTileActionsProvider(function(e){return jQuery.sap.require(\"sap.m.MessageBox\"),[{text:sap.ushell.resources.i18n.getText(\"moveTileDialog_action\"),press:function(o){t.tileUuid=t.getModelTileById(t.oPageBuilderService.getTileId(e)).uuid,t.moveDialog||t.createMoveActionDialog(),t.moveDialog.getBinding(\"items\").filter([t.oGroupNotLockedFilter]),t.moveDialog.open()}}]})},destroy:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"launchpad\",\"addBookmarkTile\",this._createBookmark,this),e.unsubscribe(\"launchpad\",\"loadDashboardGroups\",this.loadPersonalizedGroups,this),e.unsubscribe(\"launchpad\",\"createGroupAt\",this._createGroupAt,this),e.unsubscribe(\"launchpad\",\"createGroup\",this._createGroup,this),e.unsubscribe(\"launchpad\",\"deleteGroup\",this._deleteGroup,this),e.unsubscribe(\"launchpad\",\"resetGroup\",this._resetGroup,this),e.unsubscribe(\"launchpad\",\"changeGroupTitle\",this._changeGroupTitle,this),e.unsubscribe(\"launchpad\",\"moveGroup\",this._moveGroup,this),e.unsubscribe(\"launchpad\",\"deleteTile\",this._deleteTile,this),e.unsubscribe(\"launchpad\",\"moveTile\",this._moveTile,this),e.unsubscribe(\"launchpad\",\"sortableStart\",this._sortableStart,this),e.unsubscribe(\"launchpad\",\"sortableStop\",this._sortableStop,this),e.unsubscribe(\"renderCatalog\",this.loadAllCatalogs,this),e.unsubscribe(\"showCatalog\",this.updateTilesAssociation,this),e.unsubscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),sap.ushell.components.flp.launchpad.getDashboardManager=void 0},_refreshTiles:function(){var e=this,t=this.oModel.getProperty(\"/groups\");jQuery.each(t,function(t,o){jQuery.each(o.tiles,function(t,o){e.oPageBuilderService.refreshTile(o.object)})})},_sortableStart:function(){this.oSortableDeferred=$.Deferred()},_createBookmark:function(e,t,o){var i=o.group?o.group.object:\"\";delete o.group,this._addRequest($.proxy(function(){var e=sap.ushell.Container.getService(\"Bookmark\").addBookmark(o,i),t=sap.ushell.resources.i18n;e.always($.proxy(this._checkRequestQueue,this)),e.done(function(){sap.ushell.Container&&sap.ushell.Container.getService(\"Message\").info(t.getText(\"tile_created_msg\"))}),e.fail(function(e){jQuery.sap.log.error(\"Failed to add bookmark\",e,\"sap.ushell.ui.footerbar.AddBookmarkButton\"),sap.ushell.Container&&sap.ushell.Container.getService(\"Message\").error(t.getText(\"fail_to_add_tile_msg\"))})},this))},_addBookmarkToModel:function(e,t,o){var i,s,r,l,a,n,u,d,p=o.tile,h=o.group;if(!o||!p)return this.bIsGroupsModelDirty=!0,void(this.bGroupsModelLoadingInProcess||this._handleBookmarkModelUpdate());if(!h)for(i=this.getModel().getProperty(\"/groups\"),d=0;d<i.length;d++)if(!0===i[d].isDefaultGroup){h=i[d].object;break}r=(s=this.oPageBuilderService).getTileType(p),l=this._getTileModel(p,s.isGroupLocked(h),r,this._addModelToTileViewUpdateQueue),a=this._getIndexOfGroupByObject(h),(n=this.oModel.getProperty(\"/groups/\"+a)).tiles.push(l),n.visibilityModes=sap.ushell.utils.calcVisibilityModes(n,!0),u=n.tiles.length,this._updateModelWithTileView(a,u),this.oModel.setProperty(\"/groups/\"+a,n)},_refreshGroupInModel:function(e,t,o){var i=sap.ushell.Container.getService(\"LaunchPage\"),s=\"Failed to refresh group with id:\"+o+\" in the model\",r=this;i.getGroups().fail(jQuery.sap.log.error(s,null,\"sap.ushell.components.flp.launchpad.DashboardManager\")).done(function(e){e.some(function(e){if(i.getGroupId(e)===o)return i.getDefaultGroup().done(function(t){var i=o===t.getId(),s=r._getGroupModel(e,i),l=r._getIndexOfGroupByObject(s.object);r.oModel.setProperty(\"/groups/\"+l,s)}),!0})})},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(e){return $.proxy(function(){var t=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){e.apply(null,t)})},this)},_addRequest:function(e){this.aRequestQueue.push(e),this.bRequestRunning||(this.bRequestRunning=!0,this.aRequestQueue.shift()())},_checkRequestQueue:function(){0===this.aRequestQueue.length?this.bRequestRunning=!1:this.aRequestQueue.shift()()},_requestFailed:function(){this.aRequestQueue=[],this.bRequestRunning=!1},_createGroup:function(e,t,o){var i=this._getGroupModel(null),s=this.oModel.getProperty(\"/groups\"),r=this.oModel;r.setProperty(\"/groupList-skipScrollToGroup\",!0),window.setTimeout(function(){r.setProperty(\"/groups/\"+s.length,i)},500),window.setTimeout(function(){r.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3)},_createGroupAt:function(e,t,o){var i,s=parseInt(o.location,10),r=this.oModel.getProperty(\"/groups\"),l=this._getGroupModel(null,!1,s===r.length,o),a=this.oModel;for(l.index=s,r.splice(s,0,l),i=0;i<r.length-1;i++)r[i].isLastGroup=!1;for(i=s+1;i<r.length;i++)r[i].index++;a.setProperty(\"/groups\",r)},_getIndexOfGroup:function(e){var t=null,o=this.oModel.getProperty(\"/groups\");return jQuery.each(o,function(o,i){if(i.groupId===e)return t=o,!1}),t},_getIndexOfGroupByObject:function(e){var t=null,o=this.oModel.getProperty(\"/groups\"),i=this.oPageBuilderService.getGroupId(e);return o.forEach(function(e,o){if(this.oPageBuilderService.getGroupId(e.object)===i)return t=o,!1}.bind(this)),t},_getPathOfGroup:function(e){return\"/groups/\"+this._getIndexOfGroup(e)},_getPathOfTile:function(e){var t=this.oModel.getProperty(\"/groups\"),o=null,i=null;return jQuery.each(t,function(t,s){if(jQuery.each(s.tiles,function(s,r){if(r.uuid===e)return o=t,i=s,!1}),null!==o)return!1}),null!==o?\"/groups/\"+o+\"/tiles/\"+i:null},_moveInArray:function(e,t,o){if(o>=e.length)for(var i=o-e.length;1+i--;)e.push(void 0);e.splice(o,0,e.splice(t,1)[0])},_updateGroupIndices:function(e){var t;for(t=0;t<e.length;t++)e[t].index=t},_deleteGroup:function(e,t,o){var i,s,r,l,a,n,u=this,d=o.groupId,p=this.oModel.getProperty(\"/groups\"),h=this._getIndexOfGroup(d),g=p.length-1===h;a=g?h-1:h,this._destroyGroupModel(\"/groups/\"+h),s=p.splice(h,1)[0].object,g&&this.oModel.setProperty(\"/groups/\"+a+\"/isLastGroup\",g),i=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(s),(l=this.oModel).setProperty(\"/groupList-skipScrollToGroup\",!0),l.setProperty(\"/groups\",p),this._updateGroupIndices(p),a>=0&&(n=sap.ui.getCore().getEventBus(),window.setTimeout($.proxy(n.publish,n,\"launchpad\",\"scrollToGroup\",{groupId:this.oModel.getProperty(\"/groups\")[a].groupId}),200)),window.setTimeout(function(){l.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3),this._addRequest($.proxy(function(){var e=sap.ushell.Container.getService(\"LaunchPage\").getGroupTitle(s);try{r=this.oPageBuilderService.removeGroup(s)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_delete_group_msg\")}r.done(function(){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.DELETE_GROUP,[e,i]),this._showLocalizedMessage(\"group_deleted_msg\",[e])}.bind(this)),r.fail(this._handleAfterSortable(u._resetGroupsOnFailureHelper(\"fail_to_delete_group_msg\"))),r.always($.proxy(this._checkRequestQueue,this))},this))},_resetGroup:function(e,t,o){var i,s,r,l,a=this,n=o.groupId,u=this._getIndexOfGroup(n),d=this.oModel.getProperty(\"/groups/\"+u);this.oModel.setProperty(\"/groups/\"+u+\"/sortable\",!1),s=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(d.object),i=sap.ushell.Container.getService(\"LaunchPage\").getGroupTitle(d.object),this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.resetGroup(d.object)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_reset_group_msg\")}r.done(this._handleAfterSortable($.proxy(function(e,t,o){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.RESET_GROUP,[i,s]);var r=a._getIndexOfGroup(e);this._loadGroup(r,o||t.object,this._addAndUpdateModelWithTileView),this._showLocalizedMessage(\"group_reset_msg\",[t.title]),this.oModel.setProperty(\"/groups/\"+r+\"/sortable\",!0),(l=sap.ui.getCore().byId(\"dashboardGroups\").getGroupControlByGroupId(e))&&l.rerender()},this,n,d))),r.fail(this._handleAfterSortable(a._resetGroupsOnFailureHelper(\"fail_to_reset_group_msg\"))),r.always($.proxy(this._checkRequestQueue,this))},this))},_moveGroup:function(e,t,o){var i,s,r,l,a,n=o.fromIndex,u=o.toIndex,d=this.oModel.getProperty(\"/groups\"),p=this.oModel,h=this.oModel.getProperty(\"/tileActionModeActive\"),g=this;for(h||(n=this._adjustFromGroupIndex(n,d)),s=d[n],r=s.groupId,h||(u=this._adjustToGroupIndex(u,d,r)),a=d[u].object,this._moveInArray(d,n,u),this._updateGroupIndices(d),p.setProperty(\"/groupList-skipScrollToGroup\",!0),l=0;l<d.length-1;l++)d[l].isLastGroup=!1;d[d.length-1].isLastGroup=!0,p.setProperty(\"/groups\",d),window.setTimeout(function(){p.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3),this._addRequest($.proxy(function(){var e=this.oModel.getProperty(this._getPathOfGroup(r));try{this._getOriginalGroupIndex(a).done(function(t){(i=this.oPageBuilderService.moveGroup(e.object,t)).done(function(){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(g.analyticsConstants.PERSONALIZATION,g.analyticsConstants.MOVE_GROUP,[e.title,n,u,r])}),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_move_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))}.bind(this))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_move_group_msg\")}},this))},_adjustToGroupIndex:function(e,t,o){var i=0,s=!1,r=0;for(r=0;r<t.length&&i<e;r++)t[r].isGroupVisible&&(t[r].groupId===o?s=!0:i++);return s?r-1:r},_adjustFromGroupIndex:function(e,t){var o,i=0;for(o=0;o<t.length;o++)if(t[o].isGroupVisible&&i++,i===e+1)return o;return e},_getOriginalGroupIndexByIndex:function(e){var t=this.oModel.getProperty(\"/groups\")[e].object;return this._getOriginalGroupIndex(t)},_getOriginalGroupIndex:function(e){var t=this.oPageBuilderService,o=this,i=this.oPageBuilderService.getGroups(),s=new jQuery.Deferred;return i.done(function(o){var i=null;jQuery.each(o,function(o,s){if(t.getGroupId(s)===t.getGroupId(e))return i=o,!1}),s.resolve(i)}),i.fail(function(){o._showLocalizedErrorHelper(\"fail_to_load_groups_msg\")(),s.reject()}),s},_changeGroupTitle:function(e,t,o){var i,s=o.newTitle,r=this.oModel.getProperty(\"/groups\"),l=o.groupId,a=o.groupId,n=this._getIndexOfGroup(l),u=this.oModel.getProperty(\"/groups/\"+n),d=u.title,p=this;this.oModel.setProperty(\"/groups/\"+n+\"/title\",s),u.object?(this._addRequest($.proxy(function(){try{i=this.oPageBuilderService.setGroupTitle(u.object,s)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_rename_group_msg\")}i.done(function(){a=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(u.object),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(p.analyticsConstants.PERSONALIZATION,p.analyticsConstants.RENAME_GROUP,[d,s,a])}),i.fail(this._handleAfterSortable($.proxy(function(e,t){var o=this._getPathOfGroup(e);this._showLocalizedError(\"fail_to__msg\"),this.oModel.setProperty(o+\"/title\",t),this._requestFailed()},this,l)))},this)),i&&i.always($.proxy(this._checkRequestQueue,this))):this._addRequest($.proxy(function(){try{this.oGroupCreatedDeferred=new jQuery.Deferred,n===r.length-1?((i=this.oPageBuilderService.addGroup(s,n)).done(this._handleAfterSortable($.proxy(function(e,t){n=this._getIndexOfGroup(e),this._createGroupUpdate(e,n,t),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(p.analyticsConstants.PERSONALIZATION,p.analyticsConstants.RENAME_GROUP,[d,s,e])},this,l))),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))):this._getOriginalGroupIndexByIndex(n+1).done(function(e){(i=this.oPageBuilderService.addGroupAt(s,e)).done(this._handleAfterSortable($.proxy(function(e,t){n=this._getIndexOfGroup(e),this._createGroupUpdate(e,n,t),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(p.analyticsConstants.PERSONALIZATION,p.analyticsConstants.RENAME_GROUP,[d,s,e])},this,l))),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))}.bind(this))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_create_group_msg\")}},this))},_createGroupUpdate:function(e,t,o){t=this._getIndexOfGroup(e),this._loadGroup(t,o),this.oGroupCreatedDeferred.resolve()},createTile:function(e){var t,o,i=e.catalogTileContext,s=e.groupContext,r=this.oModel.getProperty(s.getPath()),l=r.groupId,a=jQuery.Deferred(),n={};if(sap.ui.getCore().getEventBus(),o=sap.ui.getCore().getEventBus(),$.proxy(o.publish,o,\"launchpad\",\"addTile\",{catalogTileContext:i,groupContext:s}),i)return this._addRequest($.proxy(function(){try{t=this.oPageBuilderService.addTile(i.getProperty(\"src\"),s.getProperty(\"object\"))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_add_tile_msg\")}var e=this;t.done(function(t){var o=e._getPathOfGroup(l),i=sap.ushell.Container.getService(\"LaunchPage\").getTileTitle(t);e._addTileToGroup(o,t),n={group:r,status:1,action:\"add\"},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(e.analyticsConstants.PERSONALIZATION,e.analyticsConstants.ADD_TILE,[r.title,i]),a.resolve(n)}).fail(function(){n={group:r,status:0,action:\"add\"},a.resolve(n)}).always(function(){e._checkRequestQueue()})},this)),a.promise();jQuery.sap.log.warning(\"DashboardManager: Did not receive catalog tile object. Abort.\",this)},createGroup:function(e){var t,o,i,s,r,l,a,n,u=jQuery.Deferred();return sap.ushell.utils.validHash(e)?(t=this._getGroupModel(null,!1,!0),o=this.oModel.getProperty(\"/groups\"),i=t.groupId,(s=o.length)>0&&(o[s-1].isLastGroup=!1),t.title=e,t.index=s,t.editMode=!1,o.push(t),this.oModel.setProperty(\"/groups/\",o),this._addRequest(function(e){try{r=this.oPageBuilderService.addGroup(e)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_create_group_msg\")}r.done(this._handleAfterSortable(function(e,t){l=this._getIndexOfGroup(e),this._loadGroup(l,t),a=new sap.ui.model.Context(this.oModel,\"/groups/\"+l),u.resolve(a)}.bind(this,i))),r.fail(function(e){this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\")),n={group:e.group,status:0,action:\"createNewGroup\"},u.resolve(n)}.bind(this)),r.always($.proxy(this._checkRequestQueue,this))}.bind(this,e)),u.promise()):u.reject({status:0,action:\"createNewGroup\"})},createGroupAndSaveTile:function(e){var t=e.catalogTileContext,o=e.newGroupName,i=jQuery.Deferred(),s={};return sap.ushell.utils.validHash(o)&&t&&this.createGroup(o).then(function(e){this.createTile({catalogTileContext:t,groupContext:e}).done(function(e){s={group:e.group,status:1,action:\"addTileToNewGroup\"},i.resolve(s)}).fail(function(e){s={group:e.group,status:0,action:\"addTileToNewGroup\"},i.resolve(s)})}.bind(this)),i.promise()},_deleteTile:function(e,t,o){var i=this,s=o.tileId||o.originalTileId,r=this.oModel.getProperty(\"/groups\");jQuery.each(r,function(e,t){var o=!1;if(jQuery.each(t.tiles,function(r,l){if(l.uuid===s||l.originalTileId===s){i._destroyTileModel(\"/groups/\"+e+\"/tiles/\"+r);var a,n=t.tiles.splice(r,1)[0],u=sap.ushell.Container.getService(\"LaunchPage\").getTileTitle(n.object),d=sap.ushell.Container.getService(\"LaunchPage\").getCatalogTileId(n.object),p=sap.ushell.Container.getService(\"LaunchPage\").getCatalogTileTitle(n.object),h=sap.ushell.Container.getService(\"LaunchPage\").getTileId(n.object),g=i.oModel.getProperty(\"/personalization\");return t.visibilityModes=sap.ushell.utils.calcVisibilityModes(t,g),i.oModel.setProperty(\"/groups/\"+e,t),i._addRequest(function(){try{a=i.oPageBuilderService.removeTile(t.object,n.object)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_remove_tile_msg\")}a.done(i._handleAfterSortable(function(){i._showLocalizedMessage(\"tile_deleted_msg\",[u,t.title]),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(i.analyticsConstants.PERSONALIZATION,i.analyticsConstants.DELETE_TILE,[u||h,d,p,t.title])})),a.fail(i._handleAfterSortable(i._resetGroupsOnFailureHelper(\"fail_to_remove_tile_msg\"))),a.always($.proxy(i._checkRequestQueue,i))}),sap.ushell.utils.handleTilesVisibility(),o=!0,!1}}),o)return!1})},_sendDeleteTileRequest:function(e,t){var o,i=sap.ushell.Container.getService(\"LaunchPage\");try{o=i.removeTile(e,t.object)}catch(e){jQuery.sap.log.error(\"deleteCatalogTileFromGroup ; removeTile ; Exception occurred: \"+e)}return o},deleteCatalogTileFromGroup:function(e){var t,o,i,s=this,r=decodeURIComponent(e.tileId),l=e.groupIndex,a=this.oModel.getProperty(\"/groups/\"+l),n=sap.ushell.Container.getService(\"LaunchPage\"),u=jQuery.Deferred(),d=[];return t=a.tiles.filter(function(e){var t;return n.getCatalogTileId(e.object)!==r||(o=jQuery.Deferred(),(i=s._sendDeleteTileRequest(a.object,e)).done((t=o,function(){t.resolve({status:!0})})),i.fail(function(e){return function(){e.resolve({status:!1})}}(o)),d.push(o),!1)}),a.tiles=t,a.visibilityModes=sap.ushell.utils.calcVisibilityModes(a,!0),jQuery.when.apply(jQuery,d).done(function(e){for(var t=!0,o=0,i=d.length;o<i;o++)if(!e.status){t=!1;break}t&&s.oModel.setProperty(\"/groups/\"+l,a),u.resolve({group:a,status:t,action:\"remove\"})}),u.promise()},_moveTile:function(e,t,o){var i,s,r,l,a,n,u,d,p,h,g,c=o.toIndex,f=o.toGroupId,_=o.sTileId,T=o.source,v=this.oModel.getProperty(\"/groups\");if(jQuery.each(v,function(e,t){var o=!1;if(jQuery.each(t.tiles,function(a,n){if(n.uuid===_)return i=n,s=a,r=t,l=e,o=!0,!1}),o)return!1}),jQuery.each(v,function(e,t){t.groupId===f&&(a=t,n=e)}),r.groupId!=a.groupId||\"moveDialog\"!==T&&null!==c)if(c&&c>a.tiles.length&&(c=a.tiles.length),r.groupId===f?(null===c||void 0===c?(r.tiles.splice(s,1),c=r.tiles.length,r.tiles.push(i)):(c=this._adjustTileIndex(c,i,r),this._moveInArray(r.tiles,s,c)),this.oModel.setProperty(\"/groups/\"+l+\"/tiles\",r.tiles)):(p=this.oModel.getProperty(\"/personalization\"),r.tiles.splice(s,1),r.visibilityModes=sap.ushell.utils.calcVisibilityModes(r,p),this.oModel.setProperty(\"/groups/\"+l+\"/tiles\",r.tiles),null===c||void 0===c?(c=a.tiles.length,a.tiles.push(i)):(c=this._adjustTileIndex(c,i,a),a.tiles.splice(c,0,i)),a.visibilityModes=sap.ushell.utils.calcVisibilityModes(a,p),this.oModel.setProperty(\"/groups/\"+n+\"/tiles\",a.tiles)),sap.ushell.utils.handleTilesVisibility(),u=this.oModel.getProperty(\"/groups/\"+l).object,!(d=this.oModel.getProperty(\"/groups/\"+n).object)&&this.oGroupCreatedDeferred&&\"pending\"===this.oGroupCreatedDeferred.state()){if(void 0===this.aMoveTileCallsData&&(this.aMoveTileCallsData=[]),this.aMoveTileCallsData.push({sTileId:_,oTile:i,nTileIndex:s,nNNewIndex:c,oSourceGroup:u,nNewGroupIndex:n}),this.aMoveTileCallsData.length>1)return;this.oGroupCreatedDeferred.promise().done(function(){if(void 0!==this.aMoveTileCallsData&&this.aMoveTileCallsData.length>0){for(d=this.oModel.getProperty(\"/groups/\"+n).object,h=0;h<this.aMoveTileCallsData.length;h++)g=this.aMoveTileCallsData[h],this._moveTileRequest(g.sTileId,g.oTile,g.nTileIndex,g.nNewIndex,g.oSourceGroup,g.nNewGroupIndex,d,!0);this.aMoveTileCallsData=void 0,this.oGroupCreatedDeferred=void 0}}.bind(this))}else this._moveTileRequest(_,i,s,c,u,n,d,!1)},_moveTileRequest:function(e,t,o,i,s,r,l,a){var n,u,d,p,h=sap.ushell.Container.getService(\"LaunchPage\");this._addRequest($.proxy(function(){try{n=this.oPageBuilderService.moveTile(t.object,o,i,s,l)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_move_tile_msg\")}t.tileIsBeingMoved=!0,n.done(this._handleAfterSortable($.proxy(function(e,o){p=[h.getTileTitle(t.object),h.getGroupTitle(s),h.getGroupTitle(l),e],sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.MOVE_TILE,p),(u=this._getPathOfTile(e))&&(this.oModel.setProperty(u+\"/object\",o),this.oModel.setProperty(u+\"/originalTileId\",this.oPageBuilderService.getTileId(o)),this.oPageBuilderService.getTileView(o).done(function(e){d=this.oModel.getProperty(u+\"/content\"),this.oModel.setProperty(u+\"/content\",[e]),d&&d[0]&&d[0].destroy(),this.oModel.setProperty(u+\"/tileIsBeingMoved\",!1)}.bind(this))),a&&this._loadGroup(r,l),this.updateTilesAssociation()},this,e))),n.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_move_tile_msg\"))),n.always($.proxy(this._checkRequestQueue,this))},this))},_adjustTileIndex:function(e,t,o){var i=0,s=!1,r=0;for(r=0;r<o.tiles.length&&i<e;r++)o.tiles[r].isTileIntentSupported&&(o.tiles[r]===t?s=!0:i++);return s?r-1:r},getModel:function(){return this.oModel},getDashboardView:function(){return this.oDashboardView},updateTilesAssociation:function(){this.mapCatalogTilesToGroups(),this.updateCatalogTilesToGroupsMap()},loadAllCatalogs:function(e,t,o){var i,s=new jQuery.Deferred,r=this;s.resolve(),i=function(){s.done(function(){var e=r.getModel().getProperty(\"/groups\");e&&0!==e.length&&r.updateTilesAssociation()})},this.oModel.getProperty(\"/catalogs\")?i():(this.oModel.getProperty(\"/groups\")&&0!==this.oModel.getProperty(\"/groups\").length||(s=this.loadPersonalizedGroups()),this._destroyAllGroupModels(\"/catalogs\"),this._destroyAllTileModels(\"/catalogTiles\"),this.oModel.setProperty(\"/catalogs\",[]),this.oModel.setProperty(\"/catalogTiles\",[]),this.aPromises=[],sap.ushell.Container.getService(\"LaunchPage\").getCatalogs().done(function(e){jQuery.when.apply(jQuery,this.aPromises).then(this.onDoneLoadingCatalogs(e)),i()}.bind(this)).fail(r._showLocalizedErrorHelper(\"fail_to_load_catalog_msg\")).progress(this.addCatalogToModel.bind(this)))},updateCatalogTilesToGroupsMap:function(){var e,t,o,i,s=this.getModel().getProperty(\"/catalogTiles\"),r=sap.ushell.Container.getService(\"LaunchPage\");if(s)for(t=0;t<s.length;t++)e=s[t],o=encodeURIComponent(r.getCatalogTileId(e.src)),i=this.getModel().getProperty(\"/catalogTiles/\"+t+\"/associatedGroups\"),i=this.oTileCatalogToGroupsMap[o]||[],s[t].associatedGroups=i;this.getModel().setProperty(\"/catalogTiles\",s)},addCatalogToModel:function(e){var o,i,s=this.oModel.getProperty(\"/catalogs\"),r=sap.ushell.Container.getService(\"LaunchPage\"),l=r.getCatalogId(e),a=!1;s.forEach(function(e){e.id===l&&(a=!0)}),a||(o={title:r.getCatalogTitle(e),id:r.getCatalogId(e),static:!1,tiles:[],numberOfTiles:0},i=r.getCatalogTiles(e),this.aPromises.push(i),i.done(function(i){if(i.length){var r,l={catalog:o.title,id:o.id,index:s.length,numberOfExistingTiles:0};(r=function(){if(!this.oModel.getProperty(\"/isCatalogInUpdate\")){this.oModel.setProperty(\"/isCatalogInUpdate\",!0);var a,n=this.searchModelCatalogByTitle(o.title);return n.result?(l.index=n.indexOfPreviousInstanceInModel,l.numberOfExistingTiles=n.numOfTilesInCatalog,this.setCatalogTiles(\"/catalogTiles\",!0,l,i),a=this.oModel.getProperty(\"/catalogs\"),(e=a[n.indexOfPreviousInstanceInModel]).numIntentSupportedTiles=t.call(this,o),e.numberOfTiles=n.numOfTilesInCatalog+i.length,s[n.indexOfPreviousInstanceInModel]=e):(this.setCatalogTiles(\"/catalogTiles\",!0,l,i),o.numIntentSupportedTiles=t.call(this,o),o.numberOfTiles=i.length,s.push(o)),this.oModel.setProperty(\"/catalogs\",s),void this.oModel.setProperty(\"/isCatalogInUpdate\",!1)}setTimeout(r,50)}.bind(this))()}}.bind(this)).fail(this._showLocalizedErrorHelper(\"fail_to_load_catalog_tiles_msg\")))},searchModelCatalogByTitle:function(e){var t,o=this.oModel.getProperty(\"/catalogs\"),i=!1,s=0,r=!1;return $.each(o,function(o,l){if(l.title===sap.ushell.resources.i18n.getText(\"catalogsLoading\"))r=!0;else if(e==l.title)return t=o,s=l.numberOfTiles,i=!0,!1}),{result:i,indexOfPreviousInstanceInModel:t,indexOfPreviousInstanceInPage:r?t-1:t,numOfTilesInCatalog:s}},getTagList:function(e){var t,o,i,s={},r=0,l=[];for(r=0;r<this.tagsPool.length;r++)s[o=this.tagsPool[r]]?s[o]++:s[o]=1;for(t in s)l.push({tag:t,occ:s[t]});0===(i=l.sort(function(e,t){return t.occ-e.occ})).length&&this.oModel.setProperty(\"/tagFiltering\",!1),e?this.oModel.setProperty(\"/tagList\",i.slice(0,e)):this.oModel.setProperty(\"/tagList\",i)},onDoneLoadingCatalogs:function(t){t.length||this.oModel.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noCatalogs\"));var o,i=sap.ushell.Container.getService(\"LaunchPage\");t.filter(function(e){return!i.getCatalogError(e)}).length!==t.length&&this._showLocalizedError(\"partialCatalogFail\"),!0===this.oModel.getProperty(\"/tagFiltering\")&&this.getTagList(),(o=this.oModel.getProperty(\"/catalogs\"))[0]&&o[0].title===sap.ushell.resources.i18n.getText(\"catalogsLoading\")&&o.splice(0,1),o.splice(0,0,{title:e(\"catalogSelect_initial_selection\"),static:!0,tiles:[],numIntentSupportedTiles:-1}),this.oModel.setProperty(\"/catalogs\",o),sap.ushell.utils.handleTilesVisibility()},setCatalogTiles:function(e,t,o,i){var s=sap.ushell.Container.getService(\"LaunchPage\"),r=$.map(i,function(e,t){var i,r=encodeURIComponent(s.getCatalogTileId(e)),l=this.oTileCatalogToGroupsMap[r]||[],a=s.getCatalogTileTags(e)||[];return a.length>0&&(this.tagsPool=this.tagsPool.concat(a)),i=s.getCatalogTileView(e),{associatedGroups:l,src:e,catalog:o.catalog,catalogIndex:this.calculateCatalogTileIndex(o.index,o.numberOfExistingTiles,t),catalogId:o.id,title:s.getCatalogTileTitle(e),tags:a,keywords:(s.getCatalogTileKeywords(e)||[]).join(\",\"),id:r,size:s.getCatalogTileSize(e),content:[i],isTileIntentSupported:s.isTileIntentSupported(e)}}.bind(this));this.oModel.setProperty(e,$.merge(t&&this.oModel.getProperty(e)||[],r))},calculateCatalogTileIndex:function(e,t,o){var i=parseInt(1e5*e,10);return i+=(void 0!==t?t:0)+o},mapCatalogTilesToGroups:function(){this.oTileCatalogToGroupsMap={};var e,t,o,i,s,r,l=this.oModel.getProperty(\"/groups\"),a=sap.ushell.Container.getService(\"LaunchPage\"),n=0;for(n=0;n<l.length;n++)if(o=(e=l[n]).tiles)for(t=0;t<o.length;++t)i=encodeURIComponent(a.getCatalogTileId(o[t].object)),s=this.oTileCatalogToGroupsMap[i]||[],r=a.getGroupId(e.object),-1!==s.indexOf(r)||void 0!==e.isGroupVisible&&!e.isGroupVisible||e.isGroupLocked||s.push(r),this.oTileCatalogToGroupsMap[i]=s},_showLocalizedMessage:function(t,o,i){sap.ushell.Container.getService(\"Message\").show(i||sap.ushell.services.Message.Type.INFO,e(t,o),o)},_showLocalizedError:function(e,t){this._showLocalizedMessage(e,t,sap.ushell.services.Message.Type.ERROR)},_showLocalizedErrorHelper:function(e,t){var o=this;return function(){o._showLocalizedError(e,t)}},_resetGroupsOnFailureHelper:function(e){var t=this;return function(o){t._showLocalizedError(e),t._requestFailed(),setTimeout(function(){t.loadGroupsFromArray(o)})}},_resetGroupsOnFailure:function(e,t){this._requestFailed(),this._showLocalizedError(e,t),this.loadPersonalizedGroups(),this.oModel.updateBindings(!0)},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments)},_bindSegment:function(e,t){var o,i,s;for(o=0;o<t.length;o++)(i=e[(s=t[o]).index]).isRendered=!0,i.tiles=i.tiles.concat(s.tiles),i.links=i.links.concat(s.links);return e},createGroupsModelFrame:function(e,t){var o,i,s,r=[];for(s=function(e){var t=jQuery.extend({},e);return t.tiles=[],t.links=[],t},o=0;o<e.length;o++)i=e[o],r[o]=s(i),r[o].isRendered=!1,r[o].visibilityModes=sap.ushell.utils.calcVisibilityModes(i,t);return r},_splitGroups:function(e,t,o){var i,s,r,l,a,n,u,d=e,p=o,h=[],g=[\"tiles\",\"links\"],c=1;for(n=function(e){var t=jQuery.extend({},e);return t.tiles=[],t.links=[],t},i=0;i<t.length;i++)for(r=n(u=t[i]),h.push(r),l=0;l<g.length;l++)for(a=g[l],c=this.PagingManager.getSizeofSupportedElementInUnits(\"links\"===a?\"link\":\"tile\"),s=0;s<u[a].length;s++)p<=0&&(p=d,h&&this.segmentsStore.push(h),r=n(u),(h=[]).push(r)),r[a].push(u[a][s]),p-=c;h&&this.segmentsStore.push(h)},_processSegment:function(e){var t,o,i,s=sap.ui.getCore().getEventBus();this.segmentsStore.length>0?(i=e[o=(t=this.segmentsStore.shift())[0].index].tiles.length+e[o].links.length,e=this._bindSegment(e,t),this.oModel.setProperty(\"/groups\",e),this._updateModelWithTileView(o,i),this._handleSegment()):(this._updateModelWithTileView(0,0),sap.ushell.utils.handleTilesVisibility(),s.publish(\"launchpad\",\"dashboardModelContentLoaded\"))},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=!1,this.bGroupsModelLoadingInProcess=!0,this.loadPersonalizedGroups()},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=!1,this.bIsGroupsModelDirty&&this._handleBookmarkModelUpdate()},_handleSegment:function(){clearTimeout(this.oSegmentTimer),this.oSegmentTimer=setTimeout(function(){this._processSegment(this.oModel.getProperty(\"/groups\"))}.bind(this),100)},loadGroupsFromArray:function(e){var t=this;this.oPageBuilderService.getDefaultGroup().done(function(o){if(0!=e.length||void 0!=o){var i,s,r,l,a,n,u,d,p,h,g=0,c=[],f=e.indexOf(o),_=[],T=5,v=10,y=15,M=0,b=0;for(e.splice(f,1);g<e.length;)l=e[g],t.oPageBuilderService.isGroupLocked(l)?(c.push(l),e.splice(g,1)):g++;for(s=c.length,t.oModel.getProperty(\"/disableSortedLockedGroups\")||c.sort(function(e,o){return t.oPageBuilderService.getGroupTitle(e).toLowerCase()<t.oPageBuilderService.getGroupTitle(o).toLowerCase()?-1:1}),(i=c).push(o),i.push.apply(i,e),a=(e=i).length,n=t.oModel.getProperty(\"/groups/length\"),t.oModel.setProperty(\"/groups/indexOfDefaultGroup\",s),g=a;g<n;++g)t._destroyGroupModel(\"/groups/\"+g);for(t.PagingManager||(jQuery.sap.require(\"sap.ushell.components.flp.launchpad.PagingManager\"),t.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager(\"dashboardPaging\",{supportedElements:{tile:{className:\"sapUshellTile\"},link:{className:\"sapUshellLinkTile\"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth}),0===t.PagingManager.currentPageIndex&&(t.PagingManager.moveToNextPage(),M=t.PagingManager._calcElementsPerPage())),d=t.PagingManager.getSizeofSupportedElementInUnits(\"link\"),p=t.PagingManager.getSizeofSupportedElementInUnits(\"tile\"),g=0;g<a;++g)(r=t._getGroupModel(e[g],g===s,g===a-1)).index=g,b+=r.tiles.length*p+r.links.length*d,_.push(r);(u=(b-M)/(sap.ui.Device.system.desktop?T:sap.ui.Device.system.tablet?v:y))<14&&(u=14),h=t.createGroupsModelFrame(_,t.oModel.getProperty(\"/personalization\")),t._splitGroups(u,_,M),t._processSegment(h),t.oModel.setProperty(\"/groups/length\",h.length),\"catalog\"===t.oModel.getProperty(\"/currentState/stateName\")&&(t.mapCatalogTilesToGroups(),t.updateCatalogTilesToGroupsMap())}}).fail(t._resetGroupsOnFailureHelper(\"fail_to_get_default_group_msg\"))},_loadGroup:function(e,t,o){var i,s,r=\"/groups/\"+e,l=this.oModel.getProperty(\"/groups/indexOfDefaultGroup\"),a=this.oModel.getProperty(r).isLastGroup;this._destroyGroupModel(r),i=this.oModel.getProperty(r+\"/groupId\"),s=this._getGroupModel(t,e===l,a,void 0,o),i&&(s.groupId=i),s.index=e,s.isRendered=!0,this.oModel.setProperty(r,s)},_getGroupModel:function(t,o,i,s,r){var l,a,n=this.oPageBuilderService,u=t&&n.getGroupTiles(t)||[],d=[],p=[];a=this.getModel().getProperty(\"/personalization\");var h=!(!t||!n.isGroupLocked(t));for(l=0;l<u.length;++l){var g=u[l],c=n.getTileType(g).toLowerCase();\"tile\"===c?d.push(this._getTileModel(u[l],h,c,r)):\"link\"===c?p.push(this._getTileModel(u[l],h,c,r)):jQuery.sap.log.error(\"Unknown tile type: '\"+c+\"'\",void 0,\"sap.ushell.components.flp.launchpad.DashboardManager\")}return{title:o&&e(\"my_group\")||t&&n.getGroupTitle(t)||s&&s.title||\"\",object:t,groupId:jQuery.sap.uid(),links:p,tiles:d,isDefaultGroup:o||!1,editMode:!t,isGroupLocked:h,visibilityModes:[!0,!0],removable:!t||n.isGroupRemovable(t),sortable:a,isGroupVisible:!t||n.isGroupVisible(t),isEnabled:!o,isLastGroup:i||!1,isRendered:!!s&&!!s.isRendered}},_addTileToGroup:function(e,t){var o=e+\"/tiles\",i=this.oModel.getProperty(e),s=this.oModel.getProperty(o).length,r=this.oPageBuilderService.getTileType(t),l=this.oModel.getProperty(e+\"/isGroupLocked\"),a=this.oModel.getProperty(\"/personalization\");i.tiles[s]=this._getTileModel(t,l,r,this._addModelToTileViewUpdateQueue),i.visibilityModes=sap.ushell.utils.calcVisibilityModes(i,a),this._updateModelWithTileView(i.index,s),this.oModel.setProperty(e,i)},_addAndUpdateModelWithTileView:function(e,t){this._addModelToTileViewUpdateQueue(e,t),this._updateModelWithTileView(0,0)},_addModelToTileViewUpdateQueue:function(e,t){this.tileViewUpdateQueue.push({uuid:e,view:t})},_updateModelWithTileView:function(e,t){var o=this;this.tileViewUpdateTimeoutID&&clearTimeout(this.tileViewUpdateTimeoutID),this.tileViewUpdateTimeoutID=setTimeout(function(){o.tileViewUpdateTimeoutID=void 0,o.oSortableDeferred.done(function(){o._updateModelWithTilesViews(e,t)})},50)},_updateModelWithTilesViews:function(e,t){var o,i,s,r,l,a,n=this.oModel.getProperty(\"/groups\"),u=e||0,d=t||0,p=[];if(n&&0!==this.tileViewUpdateQueue.length){for(var h=u;h<n.length;h+=1){o=n[h].tiles,i=n[h].links,o=o.concat(i);for(var g=d;g<o.length;g+=1){s=o[g];for(var c=0;c<this.tileViewUpdateQueue.length;c++)if(r=this.tileViewUpdateQueue[c],s.uuid==r.uuid){p.push(c),r.view?(s.content[0].destroy(),s.content=[r.view],a=null!==(l=this.oPageBuilderService.getTileSize(s.object))&&\"1x2\"===l||!1,s.long!==a&&(s.long=a)):s.content[0].setState(\"Failed\");break}}}var f,_=[];for(f=0;f<this.tileViewUpdateQueue.length;f++)-1===p.indexOf(f)&&_.push(this.tileViewUpdateQueue[f]);this.tileViewUpdateQueue=_,this.oModel.setProperty(\"/groups\",n)}},getModelTileById:function(e){var t;return this.oModel.getProperty(\"/groups\").forEach(function(o){o.tiles.forEach(function(o){o.uuid!==e&&o.originalTileId!==e||(t=o)})}),t},_getTileModel:function(e,t,o,i){var s,r,l,a,n=this.oPageBuilderService,u=jQuery.sap.uid(),d=this;if(this.sTileType=o,n.setTileVisible(e,!1),(r=n.getTileView(e)).done(function(e){s=e,a&&(a.apply(d,[u,s]),d._handleSegment())}),r.fail(function(){a?(a.apply(d,[u]),d._handleSegment()):(jQuery.sap.require(\"sap.ushell.ui.launchpad.TileState\"),s=\"link\"===d.sTileType?new sap.m.Link({text:sap.ushell.resources.i18n.getText(\"cannotLoadTile\")}):new sap.ushell.ui.launchpad.TileState({state:\"Failed\"}))}),s||(a=i||this._addModelToTileViewUpdateQueue,jQuery.sap.require(\"sap.ushell.ui.launchpad.TileState\"),s=new sap.ushell.ui.launchpad.TileState({state:\"Loading\"})),\"link\"===o)l={object:e,originalTileId:n.getTileId(e),uuid:u,tileCatalogId:encodeURIComponent(n.getCatalogTileId(e)),content:[s],target:n.getTileTarget(e)||\"\",debugInfo:n.getTileDebugInfo(e),isTileIntentSupported:n.isTileIntentSupported(e),isLocked:t};else if(\"tile\"===o){var p=n.getTileSize(e);l={object:e,originalTileId:n.getTileId(e),uuid:u,tileCatalogId:encodeURIComponent(n.getCatalogTileId(e)),content:[s],long:null!==p&&\"1x2\"===p||!1,target:n.getTileTarget(e)||\"\",debugInfo:n.getTileDebugInfo(e),isTileIntentSupported:n.isTileIntentSupported(e),rgba:\"\",isLocked:t,showActionsIcon:this.oModel.getProperty(\"/tileActionsIconEnabled\")||!1}}return l},_destroyAllGroupModels:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o)for(t=0;t<o.length;t+=1)this._destroyGroupModel(o[t])},_destroyGroupModel:function(e){var t=\"string\"==typeof e?this.oModel.getProperty(e):e;t&&this._destroyAllTileModels(t.tiles)},_destroyAllTileModels:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o)for(t=0;t<o.length;t+=1)this._destroyTileModel(o[t])},_destroyTileModel:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o&&o.content)for(t=0;t<o.content.length;t+=1)o.content[t].destroy()},loadPersonalizedGroups:function(){var e=this,t=this.oPageBuilderService.getGroups(),o=new jQuery.Deferred;return t.done(function(t){e.loadGroupsFromArray(t),o.resolve()}),t.fail(function(){e._showLocalizedErrorHelper(\"fail_to_load_groups_msg\")(),o.reject()}),o}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/DashboardManager.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.DashboardManager\"),jQuery.sap.require(\"sap.ushell.services.Message\");var e=function(e,t){return t?sap.ushell.resources.i18n.getText(e,t):sap.ushell.resources.i18n.getText(e)},t=function(e){return this.oModel.getProperty(\"/catalogTiles\").filter(function(t){return t.catalog===e.title&&!0===t.isTileIntentSupported}).length};sap.ui.base.EventProvider.extend(\"sap.ushell.components.flp.launchpad.DashboardManager\",{metadata:{publicMethods:[\"getModel\",\"getDashboardView\",\"loadPersonalizedGroups\",\"attachEvent\",\"detachEvent\",\"attachEventOnce\",\"createTile\",\"deleteCatalogTileFromGroup\",\"resetGroupsOnFailure\",\"createGroupAndSaveTile\"]},analyticsConstants:{PERSONALIZATION:\"FLP: Personalization\",RENAME_GROUP:\"FLP: Rename Group\",MOVE_GROUP:\"FLP: Move Group\",DELETE_GROUP:\"FLP: Delete Group\",RESET_GROUP:\"FLP: Reset Group\",DELETE_TILE:\"FLP: Delete Tile\",ADD_TILE:\"FLP: Add Tile\",MOVE_TILE:\"FLP: Move Tile\"},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.getDashboardManager&&sap.ushell.components.flp.launchpad.getDashboardManager())return sap.ushell.components.flp.launchpad.getDashboardManager();(sap.ushell.components.flp.launchpad.getDashboardManager=jQuery.sap.getter(this.getInterface()),this.oPageBuilderService=sap.ushell.Container.getService(\"LaunchPage\"),this.oModel=t.model,this.oConfig=t.config,this.oRouter=t.router,this.oSortableDeferred=$.Deferred(),this.oSortableDeferred.resolve(),this.aRequestQueue=[],this.bRequestRunning=!1,this.tagsPool=[],this.registerEvents(),this.oTileCatalogToGroupsMap={},this.tileViewUpdateQueue=[],this.tileViewUpdateTimeoutID=0,this.oPopover=null,this.tileUuid=null,this.oGroupCreatedDeferred=void 0,this.aMoveTileCallsData=void 0,this.segmentsStore=[],this.oGroupNotLockedFilter=new sap.ui.model.Filter(\"isGroupLocked\",sap.ui.model.FilterOperator.EQ,!1),this.oRouter)&&this.oRouter.getTarget(\"home\").attachDisplay(function(e){this.oDashboardView=e.getParameter(\"view\")}.bind(this))},createMoveActionDialog:function(){var e=this.oGroupNotLockedFilter;this.moveDialog=new sap.m.SelectDialog(\"moveDialog\",{title:sap.ushell.resources.i18n.getText(\"moveTileDialog_title\"),rememberSelections:!1,search:function(t){var o=t.getParameter(\"value\"),i=new sap.ui.model.Filter(\"title\",sap.ui.model.FilterOperator.Contains,o);t.getSource().getBinding(\"items\").filter([i,e])},contentWidth:\"400px\",confirm:function(e){var t=e.getParameter(\"selectedContexts\"),o=sap.ui.getCore().getEventBus();t.length&&(o.publish(\"launchpad\",\"moveTile\",{sTileId:this.tileUuid,toGroupId:t[0].getObject().groupId,toIndex:t[0].getObject().tiles.length,source:this.moveDialog.getId()}),o.publish(\"launchpad\",\"scrollToGroup\",{groupId:t[0].getObject().groupId,groupChanged:!1,focus:!1}))}.bind(this),cancel:function(){var e=jQuery('.sapUshellTile[tabindex=\"0\"]')[0];e&&e.focus()},items:{path:\"/groups\",filters:[e],template:new sap.m.StandardListItem({title:\"{title}\"})}}),this.moveDialog.setModel(this.oModel)},registerEvents:function(){var e=sap.ui.getCore().getEventBus(),t=this;e.subscribe(\"launchpad\",\"addBookmarkTile\",this._createBookmark,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileAdded\",this._addBookmarkToModel,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"catalogTileAdded\",this._refreshGroupInModel,this),e.subscribe(\"sap.ushell.services.Bookmark\",\"bookmarkTileDeleted\",this.loadPersonalizedGroups,this),e.subscribe(\"launchpad\",\"loadDashboardGroups\",this.loadPersonalizedGroups,this),e.subscribe(\"launchpad\",\"createGroupAt\",this._createGroupAt,this),e.subscribe(\"launchpad\",\"createGroup\",this._createGroup,this),e.subscribe(\"launchpad\",\"deleteGroup\",this._deleteGroup,this),e.subscribe(\"launchpad\",\"resetGroup\",this._resetGroup,this),e.subscribe(\"launchpad\",\"changeGroupTitle\",this._changeGroupTitle,this),e.subscribe(\"launchpad\",\"moveGroup\",this._moveGroup,this),e.subscribe(\"launchpad\",\"deleteTile\",this._deleteTile,this),e.subscribe(\"launchpad\",\"moveTile\",this._moveTile,this),e.subscribe(\"launchpad\",\"sortableStart\",this._sortableStart,this),e.subscribe(\"launchpad\",\"sortableStop\",this._sortableStop,this),e.subscribe(\"renderCatalog\",this.loadAllCatalogs,this),e.subscribe(\"showCatalog\",this.updateTilesAssociation,this),e.subscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),this.oPageBuilderService.registerTileActionsProvider(function(e){return jQuery.sap.require(\"sap.m.MessageBox\"),[{text:sap.ushell.resources.i18n.getText(\"moveTileDialog_action\"),press:function(o){t.tileUuid=t.getModelTileById(t.oPageBuilderService.getTileId(e)).uuid,t.moveDialog||t.createMoveActionDialog(),t.moveDialog.getBinding(\"items\").filter([t.oGroupNotLockedFilter]),t.moveDialog.open()}}]})},destroy:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"launchpad\",\"addBookmarkTile\",this._createBookmark,this),e.unsubscribe(\"launchpad\",\"loadDashboardGroups\",this.loadPersonalizedGroups,this),e.unsubscribe(\"launchpad\",\"createGroupAt\",this._createGroupAt,this),e.unsubscribe(\"launchpad\",\"createGroup\",this._createGroup,this),e.unsubscribe(\"launchpad\",\"deleteGroup\",this._deleteGroup,this),e.unsubscribe(\"launchpad\",\"resetGroup\",this._resetGroup,this),e.unsubscribe(\"launchpad\",\"changeGroupTitle\",this._changeGroupTitle,this),e.unsubscribe(\"launchpad\",\"moveGroup\",this._moveGroup,this),e.unsubscribe(\"launchpad\",\"deleteTile\",this._deleteTile,this),e.unsubscribe(\"launchpad\",\"moveTile\",this._moveTile,this),e.unsubscribe(\"launchpad\",\"sortableStart\",this._sortableStart,this),e.unsubscribe(\"launchpad\",\"sortableStop\",this._sortableStop,this),e.unsubscribe(\"renderCatalog\",this.loadAllCatalogs,this),e.unsubscribe(\"showCatalog\",this.updateTilesAssociation,this),e.unsubscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),sap.ushell.components.flp.launchpad.getDashboardManager=void 0},_refreshTiles:function(){var e=this,t=this.oModel.getProperty(\"/groups\");jQuery.each(t,function(t,o){jQuery.each(o.tiles,function(t,o){e.oPageBuilderService.refreshTile(o.object)})})},_sortableStart:function(){this.oSortableDeferred=$.Deferred()},_createBookmark:function(e,t,o){var i=o.group?o.group.object:\"\";delete o.group,this._addRequest($.proxy(function(){var e=sap.ushell.Container.getService(\"Bookmark\").addBookmark(o,i),t=sap.ushell.resources.i18n;e.always($.proxy(this._checkRequestQueue,this)),e.done(function(){sap.ushell.Container&&sap.ushell.Container.getService(\"Message\").info(t.getText(\"tile_created_msg\"))}),e.fail(function(e){jQuery.sap.log.error(\"Failed to add bookmark\",e,\"sap.ushell.ui.footerbar.AddBookmarkButton\"),sap.ushell.Container&&sap.ushell.Container.getService(\"Message\").error(t.getText(\"fail_to_add_tile_msg\"))})},this))},_addBookmarkToModel:function(e,t,o){var i,s,r,l,a,n,u,d,p=o.tile,h=o.group;if(!o||!p)return this.bIsGroupsModelDirty=!0,void(this.bGroupsModelLoadingInProcess||this._handleBookmarkModelUpdate());if(!h)for(i=this.getModel().getProperty(\"/groups\"),d=0;d<i.length;d++)if(!0===i[d].isDefaultGroup){h=i[d].object;break}r=(s=this.oPageBuilderService).getTileType(p),l=this._getTileModel(p,s.isGroupLocked(h),r,this._addModelToTileViewUpdateQueue),a=this._getIndexOfGroupByObject(h),(n=this.oModel.getProperty(\"/groups/\"+a)).tiles.push(l),n.visibilityModes=sap.ushell.utils.calcVisibilityModes(n,!0),u=n.tiles.length,this._updateModelWithTileView(a,u),this.oModel.setProperty(\"/groups/\"+a,n)},_refreshGroupInModel:function(e,t,o){var i=sap.ushell.Container.getService(\"LaunchPage\"),s=\"Failed to refresh group with id:\"+o+\" in the model\",r=this;i.getGroups().fail(jQuery.sap.log.error(s,null,\"sap.ushell.components.flp.launchpad.DashboardManager\")).done(function(e){e.some(function(e){if(i.getGroupId(e)===o)return i.getDefaultGroup().done(function(t){var i=o===t.getId(),s=r._getGroupModel(e,i),l=r._getIndexOfGroupByObject(s.object);r.oModel.setProperty(\"/groups/\"+l,s)}),!0})})},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(e){return $.proxy(function(){var t=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){e.apply(null,t)})},this)},_addRequest:function(e){this.aRequestQueue.push(e),this.bRequestRunning||(this.bRequestRunning=!0,this.aRequestQueue.shift()())},_checkRequestQueue:function(){0===this.aRequestQueue.length?this.bRequestRunning=!1:this.aRequestQueue.shift()()},_requestFailed:function(){this.aRequestQueue=[],this.bRequestRunning=!1},_createGroup:function(e,t,o){var i=this._getGroupModel(null),s=this.oModel.getProperty(\"/groups\"),r=this.oModel;r.setProperty(\"/groupList-skipScrollToGroup\",!0),window.setTimeout(function(){r.setProperty(\"/groups/\"+s.length,i)},500),window.setTimeout(function(){r.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3)},_createGroupAt:function(e,t,o){var i,s=parseInt(o.location,10),r=this.oModel.getProperty(\"/groups\"),l=this._getGroupModel(null,!1,s===r.length,o),a=this.oModel;for(l.index=s,r.splice(s,0,l),i=0;i<r.length-1;i++)r[i].isLastGroup=!1;for(i=s+1;i<r.length;i++)r[i].index++;a.setProperty(\"/groups\",r)},_getIndexOfGroup:function(e){var t=null,o=this.oModel.getProperty(\"/groups\");return jQuery.each(o,function(o,i){if(i.groupId===e)return t=o,!1}),t},_getIndexOfGroupByObject:function(e){var t=null,o=this.oModel.getProperty(\"/groups\"),i=this.oPageBuilderService.getGroupId(e);return o.forEach(function(e,o){if(this.oPageBuilderService.getGroupId(e.object)===i)return t=o,!1}.bind(this)),t},_getPathOfGroup:function(e){return\"/groups/\"+this._getIndexOfGroup(e)},_getPathOfTile:function(e){var t=this.oModel.getProperty(\"/groups\"),o=null,i=null;return jQuery.each(t,function(t,s){if(jQuery.each(s.tiles,function(s,r){if(r.uuid===e)return o=t,i=s,!1}),null!==o)return!1}),null!==o?\"/groups/\"+o+\"/tiles/\"+i:null},_moveInArray:function(e,t,o){if(o>=e.length)for(var i=o-e.length;1+i--;)e.push(void 0);e.splice(o,0,e.splice(t,1)[0])},_updateGroupIndices:function(e){var t;for(t=0;t<e.length;t++)e[t].index=t},_deleteGroup:function(e,t,o){var i,s,r,l,a,n,u=this,d=o.groupId,p=this.oModel.getProperty(\"/groups\"),h=this._getIndexOfGroup(d),g=p.length-1===h;a=g?h-1:h,this._destroyGroupModel(\"/groups/\"+h),s=p.splice(h,1)[0].object,g&&this.oModel.setProperty(\"/groups/\"+a+\"/isLastGroup\",g),i=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(s),(l=this.oModel).setProperty(\"/groupList-skipScrollToGroup\",!0),l.setProperty(\"/groups\",p),this._updateGroupIndices(p),a>=0&&(n=sap.ui.getCore().getEventBus(),window.setTimeout($.proxy(n.publish,n,\"launchpad\",\"scrollToGroup\",{groupId:this.oModel.getProperty(\"/groups\")[a].groupId}),200)),window.setTimeout(function(){l.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3),this._addRequest($.proxy(function(){var e=sap.ushell.Container.getService(\"LaunchPage\").getGroupTitle(s);try{r=this.oPageBuilderService.removeGroup(s)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_delete_group_msg\")}r.done(function(){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.DELETE_GROUP,[e,i]),this._showLocalizedMessage(\"group_deleted_msg\",[e])}.bind(this)),r.fail(this._handleAfterSortable(u._resetGroupsOnFailureHelper(\"fail_to_delete_group_msg\"))),r.always($.proxy(this._checkRequestQueue,this))},this))},_resetGroup:function(e,t,o){var i,s,r,l,a=this,n=o.groupId,u=this._getIndexOfGroup(n),d=this.oModel.getProperty(\"/groups/\"+u);this.oModel.setProperty(\"/groups/\"+u+\"/sortable\",!1),s=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(d.object),i=sap.ushell.Container.getService(\"LaunchPage\").getGroupTitle(d.object),this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.resetGroup(d.object)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_reset_group_msg\")}r.done(this._handleAfterSortable($.proxy(function(e,t,o){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.RESET_GROUP,[i,s]);var r=a._getIndexOfGroup(e);this._loadGroup(r,o||t.object,this._addAndUpdateModelWithTileView),this._showLocalizedMessage(\"group_reset_msg\",[t.title]),this.oModel.setProperty(\"/groups/\"+r+\"/sortable\",!0),(l=sap.ui.getCore().byId(\"dashboardGroups\").getGroupControlByGroupId(e))&&l.rerender()},this,n,d))),r.fail(this._handleAfterSortable(a._resetGroupsOnFailureHelper(\"fail_to_reset_group_msg\"))),r.always($.proxy(this._checkRequestQueue,this))},this))},_moveGroup:function(e,t,o){var i,s,r,l,a,n=o.fromIndex,u=o.toIndex,d=this.oModel.getProperty(\"/groups\"),p=this.oModel,h=this.oModel.getProperty(\"/tileActionModeActive\"),g=this;for(h||(n=this._adjustFromGroupIndex(n,d)),s=d[n],r=s.groupId,h||(u=this._adjustToGroupIndex(u,d,r)),a=d[u].object,this._moveInArray(d,n,u),this._updateGroupIndices(d),p.setProperty(\"/groupList-skipScrollToGroup\",!0),l=0;l<d.length-1;l++)d[l].isLastGroup=!1;d[d.length-1].isLastGroup=!0,p.setProperty(\"/groups\",d),window.setTimeout(function(){p.setProperty(\"/groupList-skipScrollToGroup\",!1)},1e3),this._addRequest($.proxy(function(){var e=this.oModel.getProperty(this._getPathOfGroup(r));try{this._getOriginalGroupIndex(a).done(function(t){(i=this.oPageBuilderService.moveGroup(e.object,t)).done(function(){sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(g.analyticsConstants.PERSONALIZATION,g.analyticsConstants.MOVE_GROUP,[e.title,n,u,r])}),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_move_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))}.bind(this))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_move_group_msg\")}},this))},_adjustToGroupIndex:function(e,t,o){var i=0,s=!1,r=0;for(r=0;r<t.length&&i<e;r++)t[r].isGroupVisible&&(t[r].groupId===o?s=!0:i++);return s?r-1:r},_adjustFromGroupIndex:function(e,t){var o,i=0;for(o=0;o<t.length;o++)if(t[o].isGroupVisible&&i++,i===e+1)return o;return e},_getOriginalGroupIndexByIndex:function(e){var t=this.oModel.getProperty(\"/groups\")[e].object;return this._getOriginalGroupIndex(t)},_getOriginalGroupIndex:function(e){var t=this.oPageBuilderService,o=this,i=this.oPageBuilderService.getGroups(),s=new jQuery.Deferred;return i.done(function(o){var i=null;jQuery.each(o,function(o,s){if(t.getGroupId(s)===t.getGroupId(e))return i=o,!1}),s.resolve(i)}),i.fail(function(){o._showLocalizedErrorHelper(\"fail_to_load_groups_msg\")(),s.reject()}),s},_changeGroupTitle:function(e,t,o){var i,s=o.newTitle,r=this.oModel.getProperty(\"/groups\"),l=o.groupId,a=o.groupId,n=this._getIndexOfGroup(l),u=this.oModel.getProperty(\"/groups/\"+n),d=u.title,p=this;this.oModel.setProperty(\"/groups/\"+n+\"/title\",s),u.object?(this._addRequest($.proxy(function(){try{i=this.oPageBuilderService.setGroupTitle(u.object,s)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_rename_group_msg\")}i.done(function(){a=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(u.object),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(p.analyticsConstants.PERSONALIZATION,p.analyticsConstants.RENAME_GROUP,[d,s,a])}),i.fail(this._handleAfterSortable($.proxy(function(e,t){var o=this._getPathOfGroup(e);this._showLocalizedError(\"fail_to__msg\"),this.oModel.setProperty(o+\"/title\",t),this._requestFailed()},this,l)))},this)),i&&i.always($.proxy(this._checkRequestQueue,this))):this._addRequest($.proxy(function(){try{this.oGroupCreatedDeferred=new jQuery.Deferred,n===r.length-1?((i=this.oPageBuilderService.addGroup(s,n)).done(this._handleAfterSortable($.proxy(function(e,t){n=this._getIndexOfGroup(e),this._createGroupUpdate(e,n,t),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(p.analyticsConstants.PERSONALIZATION,p.analyticsConstants.RENAME_GROUP,[d,s,e])},this,l))),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))):this._getOriginalGroupIndexByIndex(n+1).done(function(e){(i=this.oPageBuilderService.addGroupAt(s,e)).done(this._handleAfterSortable($.proxy(function(e,t){n=this._getIndexOfGroup(e),this._createGroupUpdate(e,n,t),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(p.analyticsConstants.PERSONALIZATION,p.analyticsConstants.RENAME_GROUP,[d,s,e])},this,l))),i.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\"))),i.always($.proxy(this._checkRequestQueue,this))}.bind(this))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_create_group_msg\")}},this))},_createGroupUpdate:function(e,t,o){t=this._getIndexOfGroup(e),this._loadGroup(t,o),this.oGroupCreatedDeferred.resolve()},createTile:function(e){var t,o,i=e.catalogTileContext,s=e.groupContext,r=this.oModel.getProperty(s.getPath()),l=r.groupId,a=jQuery.Deferred(),n={};if(sap.ui.getCore().getEventBus(),o=sap.ui.getCore().getEventBus(),$.proxy(o.publish,o,\"launchpad\",\"addTile\",{catalogTileContext:i,groupContext:s}),i)return this._addRequest($.proxy(function(){try{t=this.oPageBuilderService.addTile(i.getProperty(\"src\"),s.getProperty(\"object\"))}catch(e){return void this._resetGroupsOnFailure(\"fail_to_add_tile_msg\")}var e=this;t.done(function(t){var o=e._getPathOfGroup(l),i=sap.ushell.Container.getService(\"LaunchPage\").getTileTitle(t);e._addTileToGroup(o,t),n={group:r,status:1,action:\"add\"},sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(e.analyticsConstants.PERSONALIZATION,e.analyticsConstants.ADD_TILE,[r.title,i]),a.resolve(n)}).fail(function(){n={group:r,status:0,action:\"add\"},a.resolve(n)}).always(function(){e._checkRequestQueue()})},this)),a.promise();jQuery.sap.log.warning(\"DashboardManager: Did not receive catalog tile object. Abort.\",this)},createGroup:function(e){var t,o,i,s,r,l,a,n,u=jQuery.Deferred();return sap.ushell.utils.validHash(e)?(t=this._getGroupModel(null,!1,!0),o=this.oModel.getProperty(\"/groups\"),i=t.groupId,(s=o.length)>0&&(o[s-1].isLastGroup=!1),t.title=e,t.index=s,t.editMode=!1,o.push(t),this.oModel.setProperty(\"/groups/\",o),this._addRequest(function(e){try{r=this.oPageBuilderService.addGroup(e)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_create_group_msg\")}r.done(this._handleAfterSortable(function(e,t){l=this._getIndexOfGroup(e),this._loadGroup(l,t),a=new sap.ui.model.Context(this.oModel,\"/groups/\"+l),u.resolve(a)}.bind(this,i))),r.fail(function(e){this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_create_group_msg\")),n={group:e.group,status:0,action:\"createNewGroup\"},u.resolve(n)}.bind(this)),r.always($.proxy(this._checkRequestQueue,this))}.bind(this,e)),u.promise()):u.reject({status:0,action:\"createNewGroup\"})},createGroupAndSaveTile:function(e){var t=e.catalogTileContext,o=e.newGroupName,i=jQuery.Deferred(),s={};return sap.ushell.utils.validHash(o)&&t&&this.createGroup(o).then(function(e){this.createTile({catalogTileContext:t,groupContext:e}).done(function(e){s={group:e.group,status:1,action:\"addTileToNewGroup\"},i.resolve(s)}).fail(function(e){s={group:e.group,status:0,action:\"addTileToNewGroup\"},i.resolve(s)})}.bind(this)),i.promise()},_deleteTile:function(e,t,o){var i=this,s=o.tileId||o.originalTileId,r=this.oModel.getProperty(\"/groups\");jQuery.each(r,function(e,t){var o=!1;if(jQuery.each(t.tiles,function(r,l){if(l.uuid===s||l.originalTileId===s){i._destroyTileModel(\"/groups/\"+e+\"/tiles/\"+r);var a,n=t.tiles.splice(r,1)[0],u=sap.ushell.Container.getService(\"LaunchPage\").getTileTitle(n.object),d=sap.ushell.Container.getService(\"LaunchPage\").getCatalogTileId(n.object),p=sap.ushell.Container.getService(\"LaunchPage\").getCatalogTileTitle(n.object),h=sap.ushell.Container.getService(\"LaunchPage\").getTileId(n.object),g=i.oModel.getProperty(\"/personalization\");return t.visibilityModes=sap.ushell.utils.calcVisibilityModes(t,g),i.oModel.setProperty(\"/groups/\"+e,t),i._addRequest(function(){try{a=i.oPageBuilderService.removeTile(t.object,n.object)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_remove_tile_msg\")}a.done(i._handleAfterSortable(function(){i._showLocalizedMessage(\"tile_deleted_msg\",[u,t.title]),sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(i.analyticsConstants.PERSONALIZATION,i.analyticsConstants.DELETE_TILE,[u||h,d,p,t.title])})),a.fail(i._handleAfterSortable(i._resetGroupsOnFailureHelper(\"fail_to_remove_tile_msg\"))),a.always($.proxy(i._checkRequestQueue,i))}),sap.ushell.utils.handleTilesVisibility(),o=!0,!1}}),o)return!1})},_sendDeleteTileRequest:function(e,t){var o,i=sap.ushell.Container.getService(\"LaunchPage\");try{o=i.removeTile(e,t.object)}catch(e){jQuery.sap.log.error(\"deleteCatalogTileFromGroup ; removeTile ; Exception occurred: \"+e)}return o},deleteCatalogTileFromGroup:function(e){var t,o,i,s=this,r=decodeURIComponent(e.tileId),l=e.groupIndex,a=this.oModel.getProperty(\"/groups/\"+l),n=sap.ushell.Container.getService(\"LaunchPage\"),u=jQuery.Deferred(),d=[];return t=a.tiles.filter(function(e){var t;return n.getCatalogTileId(e.object)!==r||(o=jQuery.Deferred(),(i=s._sendDeleteTileRequest(a.object,e)).done((t=o,function(){t.resolve({status:!0})})),i.fail(function(e){return function(){e.resolve({status:!1})}}(o)),d.push(o),!1)}),a.tiles=t,a.visibilityModes=sap.ushell.utils.calcVisibilityModes(a,!0),jQuery.when.apply(jQuery,d).done(function(e){for(var t=!0,o=0,i=d.length;o<i;o++)if(!e.status){t=!1;break}t&&s.oModel.setProperty(\"/groups/\"+l,a),u.resolve({group:a,status:t,action:\"remove\"})}),u.promise()},_moveTile:function(e,t,o){var i,s,r,l,a,n,u,d,p,h,g,c=o.toIndex,f=o.toGroupId,_=o.sTileId,T=o.source,v=this.oModel.getProperty(\"/groups\");if(jQuery.each(v,function(e,t){var o=!1;if(jQuery.each(t.tiles,function(a,n){if(n.uuid===_)return i=n,s=a,r=t,l=e,o=!0,!1}),o)return!1}),jQuery.each(v,function(e,t){t.groupId===f&&(a=t,n=e)}),r.groupId!=a.groupId||\"moveDialog\"!==T&&null!==c)if(c&&c>a.tiles.length&&(c=a.tiles.length),r.groupId===f?(null===c||void 0===c?(r.tiles.splice(s,1),c=r.tiles.length,r.tiles.push(i)):(c=this._adjustTileIndex(c,i,r),this._moveInArray(r.tiles,s,c)),this.oModel.setProperty(\"/groups/\"+l+\"/tiles\",r.tiles)):(p=this.oModel.getProperty(\"/personalization\"),r.tiles.splice(s,1),r.visibilityModes=sap.ushell.utils.calcVisibilityModes(r,p),this.oModel.setProperty(\"/groups/\"+l+\"/tiles\",r.tiles),null===c||void 0===c?(c=a.tiles.length,a.tiles.push(i)):(c=this._adjustTileIndex(c,i,a),a.tiles.splice(c,0,i)),a.visibilityModes=sap.ushell.utils.calcVisibilityModes(a,p),this.oModel.setProperty(\"/groups/\"+n+\"/tiles\",a.tiles)),sap.ushell.utils.handleTilesVisibility(),u=this.oModel.getProperty(\"/groups/\"+l).object,!(d=this.oModel.getProperty(\"/groups/\"+n).object)&&this.oGroupCreatedDeferred&&\"pending\"===this.oGroupCreatedDeferred.state()){if(void 0===this.aMoveTileCallsData&&(this.aMoveTileCallsData=[]),this.aMoveTileCallsData.push({sTileId:_,oTile:i,nTileIndex:s,nNNewIndex:c,oSourceGroup:u,nNewGroupIndex:n}),this.aMoveTileCallsData.length>1)return;this.oGroupCreatedDeferred.promise().done(function(){if(void 0!==this.aMoveTileCallsData&&this.aMoveTileCallsData.length>0){for(d=this.oModel.getProperty(\"/groups/\"+n).object,h=0;h<this.aMoveTileCallsData.length;h++)g=this.aMoveTileCallsData[h],this._moveTileRequest(g.sTileId,g.oTile,g.nTileIndex,g.nNewIndex,g.oSourceGroup,g.nNewGroupIndex,d,!0);this.aMoveTileCallsData=void 0,this.oGroupCreatedDeferred=void 0}}.bind(this))}else this._moveTileRequest(_,i,s,c,u,n,d,!1)},_moveTileRequest:function(e,t,o,i,s,r,l,a){var n,u,d,p,h=sap.ushell.Container.getService(\"LaunchPage\");this._addRequest($.proxy(function(){try{n=this.oPageBuilderService.moveTile(t.object,o,i,s,l)}catch(e){return void this._resetGroupsOnFailure(\"fail_to_move_tile_msg\")}t.tileIsBeingMoved=!0,n.done(this._handleAfterSortable($.proxy(function(e,o){p=[h.getTileTitle(t.object),h.getGroupTitle(s),h.getGroupTitle(l),e],sap.ushell.Container.getService(\"UsageAnalytics\").logCustomEvent(this.analyticsConstants.PERSONALIZATION,this.analyticsConstants.MOVE_TILE,p),(u=this._getPathOfTile(e))&&(this.oModel.setProperty(u+\"/object\",o),this.oModel.setProperty(u+\"/originalTileId\",this.oPageBuilderService.getTileId(o)),this.oPageBuilderService.getTileView(o).done(function(e){d=this.oModel.getProperty(u+\"/content\"),this.oModel.setProperty(u+\"/content\",[e]),d&&d[0]&&d[0].destroy(),this.oModel.setProperty(u+\"/tileIsBeingMoved\",!1)}.bind(this))),a&&this._loadGroup(r,l),this.updateTilesAssociation()},this,e))),n.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper(\"fail_to_move_tile_msg\"))),n.always($.proxy(this._checkRequestQueue,this))},this))},_adjustTileIndex:function(e,t,o){var i=0,s=!1,r=0;for(r=0;r<o.tiles.length&&i<e;r++)o.tiles[r].isTileIntentSupported&&(o.tiles[r]===t?s=!0:i++);return s?r-1:r},getModel:function(){return this.oModel},getDashboardView:function(){return this.oDashboardView},updateTilesAssociation:function(){this.mapCatalogTilesToGroups(),this.updateCatalogTilesToGroupsMap()},loadAllCatalogs:function(e,t,o){var i,s=new jQuery.Deferred,r=this;s.resolve(),i=function(){s.done(function(){var e=r.getModel().getProperty(\"/groups\");e&&0!==e.length&&r.updateTilesAssociation()})},this.oModel.getProperty(\"/catalogs\")?i():(this.oModel.getProperty(\"/groups\")&&0!==this.oModel.getProperty(\"/groups\").length||(s=this.loadPersonalizedGroups()),this._destroyAllGroupModels(\"/catalogs\"),this._destroyAllTileModels(\"/catalogTiles\"),this.oModel.setProperty(\"/catalogs\",[]),this.oModel.setProperty(\"/catalogTiles\",[]),this.aPromises=[],sap.ushell.Container.getService(\"LaunchPage\").getCatalogs().done(function(e){jQuery.when.apply(jQuery,this.aPromises).then(this.onDoneLoadingCatalogs(e)),i()}.bind(this)).fail(r._showLocalizedErrorHelper(\"fail_to_load_catalog_msg\")).progress(this.addCatalogToModel.bind(this)))},updateCatalogTilesToGroupsMap:function(){var e,t,o,i,s=this.getModel().getProperty(\"/catalogTiles\"),r=sap.ushell.Container.getService(\"LaunchPage\");if(s)for(t=0;t<s.length;t++)e=s[t],o=encodeURIComponent(r.getCatalogTileId(e.src)),i=this.getModel().getProperty(\"/catalogTiles/\"+t+\"/associatedGroups\"),i=this.oTileCatalogToGroupsMap[o]||[],s[t].associatedGroups=i;this.getModel().setProperty(\"/catalogTiles\",s)},addCatalogToModel:function(e){var o,i,s=this.oModel.getProperty(\"/catalogs\"),r=sap.ushell.Container.getService(\"LaunchPage\"),l=r.getCatalogId(e),a=!1;s.forEach(function(e){e.id===l&&(a=!0)}),a||(o={title:r.getCatalogTitle(e),id:r.getCatalogId(e),static:!1,tiles:[],numberOfTiles:0},i=r.getCatalogTiles(e),this.aPromises.push(i),i.done(function(i){if(i.length){var r,l={catalog:o.title,id:o.id,index:s.length,numberOfExistingTiles:0};(r=function(){if(!this.oModel.getProperty(\"/isCatalogInUpdate\")){this.oModel.setProperty(\"/isCatalogInUpdate\",!0);var a,n=this.searchModelCatalogByTitle(o.title);return n.result?(l.index=n.indexOfPreviousInstanceInModel,l.numberOfExistingTiles=n.numOfTilesInCatalog,this.setCatalogTiles(\"/catalogTiles\",!0,l,i),a=this.oModel.getProperty(\"/catalogs\"),(e=a[n.indexOfPreviousInstanceInModel]).numIntentSupportedTiles=t.call(this,o),e.numberOfTiles=n.numOfTilesInCatalog+i.length,s[n.indexOfPreviousInstanceInModel]=e):(this.setCatalogTiles(\"/catalogTiles\",!0,l,i),o.numIntentSupportedTiles=t.call(this,o),o.numberOfTiles=i.length,s.push(o)),this.oModel.setProperty(\"/catalogs\",s),void this.oModel.setProperty(\"/isCatalogInUpdate\",!1)}setTimeout(r,50)}.bind(this))()}}.bind(this)).fail(this._showLocalizedErrorHelper(\"fail_to_load_catalog_tiles_msg\")))},searchModelCatalogByTitle:function(e){var t,o=this.oModel.getProperty(\"/catalogs\"),i=!1,s=0,r=!1;return $.each(o,function(o,l){if(l.title===sap.ushell.resources.i18n.getText(\"catalogsLoading\"))r=!0;else if(e==l.title)return t=o,s=l.numberOfTiles,i=!0,!1}),{result:i,indexOfPreviousInstanceInModel:t,indexOfPreviousInstanceInPage:r?t-1:t,numOfTilesInCatalog:s}},getTagList:function(e){var t,o,i,s={},r=0,l=[];for(r=0;r<this.tagsPool.length;r++)s[o=this.tagsPool[r]]?s[o]++:s[o]=1;for(t in s)l.push({tag:t,occ:s[t]});0===(i=l.sort(function(e,t){return t.occ-e.occ})).length&&this.oModel.setProperty(\"/tagFiltering\",!1),e?this.oModel.setProperty(\"/tagList\",i.slice(0,e)):this.oModel.setProperty(\"/tagList\",i)},onDoneLoadingCatalogs:function(t){t.length||this.oModel.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noCatalogs\"));var o,i=sap.ushell.Container.getService(\"LaunchPage\");t.filter(function(e){return!i.getCatalogError(e)}).length!==t.length&&this._showLocalizedError(\"partialCatalogFail\"),!0===this.oModel.getProperty(\"/tagFiltering\")&&this.getTagList(),(o=this.oModel.getProperty(\"/catalogs\"))[0]&&o[0].title===sap.ushell.resources.i18n.getText(\"catalogsLoading\")&&o.splice(0,1),o.splice(0,0,{title:e(\"catalogSelect_initial_selection\"),static:!0,tiles:[],numIntentSupportedTiles:-1}),this.oModel.setProperty(\"/catalogs\",o),sap.ushell.utils.handleTilesVisibility()},setCatalogTiles:function(e,t,o,i){var s=sap.ushell.Container.getService(\"LaunchPage\"),r=$.map(i,function(e,t){var i,r=encodeURIComponent(s.getCatalogTileId(e)),l=this.oTileCatalogToGroupsMap[r]||[],a=s.getCatalogTileTags(e)||[];return a.length>0&&(this.tagsPool=this.tagsPool.concat(a)),i=s.getCatalogTileView(e),{associatedGroups:l,src:e,catalog:o.catalog,catalogIndex:this.calculateCatalogTileIndex(o.index,o.numberOfExistingTiles,t),catalogId:o.id,title:s.getCatalogTileTitle(e),tags:a,keywords:(s.getCatalogTileKeywords(e)||[]).join(\",\"),id:r,size:s.getCatalogTileSize(e),content:[i],isTileIntentSupported:s.isTileIntentSupported(e)}}.bind(this));this.oModel.setProperty(e,$.merge(t&&this.oModel.getProperty(e)||[],r))},calculateCatalogTileIndex:function(e,t,o){var i=parseInt(1e5*e,10);return i+=(void 0!==t?t:0)+o},mapCatalogTilesToGroups:function(){this.oTileCatalogToGroupsMap={};var e,t,o,i,s,r,l=this.oModel.getProperty(\"/groups\"),a=sap.ushell.Container.getService(\"LaunchPage\"),n=0;for(n=0;n<l.length;n++)if(o=(e=l[n]).tiles)for(t=0;t<o.length;++t)i=encodeURIComponent(a.getCatalogTileId(o[t].object)),s=this.oTileCatalogToGroupsMap[i]||[],r=a.getGroupId(e.object),-1!==s.indexOf(r)||void 0!==e.isGroupVisible&&!e.isGroupVisible||e.isGroupLocked||s.push(r),this.oTileCatalogToGroupsMap[i]=s},_showLocalizedMessage:function(t,o,i){sap.ushell.Container.getService(\"Message\").show(i||sap.ushell.services.Message.Type.INFO,e(t,o),o)},_showLocalizedError:function(e,t){this._showLocalizedMessage(e,t,sap.ushell.services.Message.Type.ERROR)},_showLocalizedErrorHelper:function(e,t){var o=this;return function(){o._showLocalizedError(e,t)}},_resetGroupsOnFailureHelper:function(e){var t=this;return function(o){t._showLocalizedError(e),t._requestFailed(),setTimeout(function(){t.loadGroupsFromArray(o)})}},_resetGroupsOnFailure:function(e,t){this._requestFailed(),this._showLocalizedError(e,t),this.loadPersonalizedGroups(),this.oModel.updateBindings(!0)},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments)},_bindSegment:function(e,t){var o,i,s;for(o=0;o<t.length;o++)(i=e[(s=t[o]).index]).isRendered=!0,i.tiles=i.tiles.concat(s.tiles),i.links=i.links.concat(s.links);return e},createGroupsModelFrame:function(e,t){var o,i,s,r=[];for(s=function(e){var t=jQuery.extend({},e);return t.tiles=[],t.links=[],t},o=0;o<e.length;o++)i=e[o],r[o]=s(i),r[o].isRendered=!1,r[o].visibilityModes=sap.ushell.utils.calcVisibilityModes(i,t);return r},_splitGroups:function(e,t,o){var i,s,r,l,a,n,u,d=e,p=o,h=[],g=[\"tiles\",\"links\"],c=1;for(n=function(e){var t=jQuery.extend({},e);return t.tiles=[],t.links=[],t},i=0;i<t.length;i++)for(r=n(u=t[i]),h.push(r),l=0;l<g.length;l++)for(a=g[l],c=this.PagingManager.getSizeofSupportedElementInUnits(\"links\"===a?\"link\":\"tile\"),s=0;s<u[a].length;s++)p<=0&&(p=d,h&&this.segmentsStore.push(h),r=n(u),(h=[]).push(r)),r[a].push(u[a][s]),p-=c;h&&this.segmentsStore.push(h)},_processSegment:function(e){var t,o,i,s=sap.ui.getCore().getEventBus();this.segmentsStore.length>0?(i=e[o=(t=this.segmentsStore.shift())[0].index].tiles.length+e[o].links.length,e=this._bindSegment(e,t),this.oModel.setProperty(\"/groups\",e),this._updateModelWithTileView(o,i),this._handleSegment()):(this._updateModelWithTileView(0,0),sap.ushell.utils.handleTilesVisibility(),s.publish(\"launchpad\",\"dashboardModelContentLoaded\"))},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=!1,this.bGroupsModelLoadingInProcess=!0,this.loadPersonalizedGroups()},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=!1,this.bIsGroupsModelDirty&&this._handleBookmarkModelUpdate()},_handleSegment:function(){clearTimeout(this.oSegmentTimer),this.oSegmentTimer=setTimeout(function(){this._processSegment(this.oModel.getProperty(\"/groups\"))}.bind(this),100)},loadGroupsFromArray:function(e){var t=this;this.oPageBuilderService.getDefaultGroup().done(function(o){if(0!=e.length||void 0!=o){var i,s,r,l,a,n,u,d,p,h,g=0,c=[],f=e.indexOf(o),_=[],T=5,v=10,y=15,M=0,b=0;for(e.splice(f,1);g<e.length;)l=e[g],t.oPageBuilderService.isGroupLocked(l)?(c.push(l),e.splice(g,1)):g++;for(s=c.length,t.oModel.getProperty(\"/disableSortedLockedGroups\")||c.sort(function(e,o){return t.oPageBuilderService.getGroupTitle(e).toLowerCase()<t.oPageBuilderService.getGroupTitle(o).toLowerCase()?-1:1}),(i=c).push(o),i.push.apply(i,e),a=(e=i).length,n=t.oModel.getProperty(\"/groups/length\"),t.oModel.setProperty(\"/groups/indexOfDefaultGroup\",s),g=a;g<n;++g)t._destroyGroupModel(\"/groups/\"+g);for(t.PagingManager||(jQuery.sap.require(\"sap.ushell.components.flp.launchpad.PagingManager\"),t.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager(\"dashboardPaging\",{supportedElements:{tile:{className:\"sapUshellTile\"},link:{className:\"sapUshellLinkTile\"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth}),0===t.PagingManager.currentPageIndex&&(t.PagingManager.moveToNextPage(),M=t.PagingManager._calcElementsPerPage())),d=t.PagingManager.getSizeofSupportedElementInUnits(\"link\"),p=t.PagingManager.getSizeofSupportedElementInUnits(\"tile\"),g=0;g<a;++g)(r=t._getGroupModel(e[g],g===s,g===a-1)).index=g,b+=r.tiles.length*p+r.links.length*d,_.push(r);(u=(b-M)/(sap.ui.Device.system.desktop?T:sap.ui.Device.system.tablet?v:y))<14&&(u=14),h=t.createGroupsModelFrame(_,t.oModel.getProperty(\"/personalization\")),t._splitGroups(u,_,M),t._processSegment(h),t.oModel.setProperty(\"/groups/length\",h.length),\"catalog\"===t.oModel.getProperty(\"/currentState/stateName\")&&(t.mapCatalogTilesToGroups(),t.updateCatalogTilesToGroupsMap())}}).fail(t._resetGroupsOnFailureHelper(\"fail_to_get_default_group_msg\"))},_loadGroup:function(e,t,o){var i,s,r=\"/groups/\"+e,l=this.oModel.getProperty(\"/groups/indexOfDefaultGroup\"),a=this.oModel.getProperty(r).isLastGroup;this._destroyGroupModel(r),i=this.oModel.getProperty(r+\"/groupId\"),s=this._getGroupModel(t,e===l,a,void 0,o),i&&(s.groupId=i),s.index=e,s.isRendered=!0,this.oModel.setProperty(r,s)},_getGroupModel:function(t,o,i,s,r){var l,a,n=this.oPageBuilderService,u=t&&n.getGroupTiles(t)||[],d=[],p=[];a=this.getModel().getProperty(\"/personalization\");var h=!(!t||!n.isGroupLocked(t));for(l=0;l<u.length;++l){var g=u[l],c=n.getTileType(g).toLowerCase();\"tile\"===c?d.push(this._getTileModel(u[l],h,c,r)):\"link\"===c?p.push(this._getTileModel(u[l],h,c,r)):jQuery.sap.log.error(\"Unknown tile type: '\"+c+\"'\",void 0,\"sap.ushell.components.flp.launchpad.DashboardManager\")}return{title:o&&e(\"my_group\")||t&&n.getGroupTitle(t)||s&&s.title||\"\",object:t,groupId:jQuery.sap.uid(),links:p,tiles:d,isDefaultGroup:o||!1,editMode:!t,isGroupLocked:h,visibilityModes:[!0,!0],removable:!t||n.isGroupRemovable(t),sortable:a,isGroupVisible:!t||n.isGroupVisible(t),isEnabled:!o,isLastGroup:i||!1,isRendered:!!s&&!!s.isRendered}},_addTileToGroup:function(e,t){var o=e+\"/tiles\",i=this.oModel.getProperty(e),s=this.oModel.getProperty(o).length,r=this.oPageBuilderService.getTileType(t),l=this.oModel.getProperty(e+\"/isGroupLocked\"),a=this.oModel.getProperty(\"/personalization\");i.tiles[s]=this._getTileModel(t,l,r,this._addModelToTileViewUpdateQueue),i.visibilityModes=sap.ushell.utils.calcVisibilityModes(i,a),this._updateModelWithTileView(i.index,s),this.oModel.setProperty(e,i)},_addAndUpdateModelWithTileView:function(e,t){this._addModelToTileViewUpdateQueue(e,t),this._updateModelWithTileView(0,0)},_addModelToTileViewUpdateQueue:function(e,t){this.tileViewUpdateQueue.push({uuid:e,view:t})},_updateModelWithTileView:function(e,t){var o=this;this.tileViewUpdateTimeoutID&&clearTimeout(this.tileViewUpdateTimeoutID),this.tileViewUpdateTimeoutID=setTimeout(function(){o.tileViewUpdateTimeoutID=void 0,o.oSortableDeferred.done(function(){o._updateModelWithTilesViews(e,t)})},50)},_updateModelWithTilesViews:function(e,t){var o,i,s,r,l,a,n=this.oModel.getProperty(\"/groups\"),u=e||0,d=t||0,p=[];if(n&&0!==this.tileViewUpdateQueue.length){for(var h=u;h<n.length;h+=1){o=n[h].tiles,i=n[h].links,o=o.concat(i);for(var g=d;g<o.length;g+=1){s=o[g];for(var c=0;c<this.tileViewUpdateQueue.length;c++)if(r=this.tileViewUpdateQueue[c],s.uuid==r.uuid){p.push(c),r.view?(s.content[0].destroy(),s.content=[r.view],a=null!==(l=this.oPageBuilderService.getTileSize(s.object))&&\"1x2\"===l||!1,s.long!==a&&(s.long=a)):s.content[0].setState(\"Failed\");break}}}var f,_=[];for(f=0;f<this.tileViewUpdateQueue.length;f++)-1===p.indexOf(f)&&_.push(this.tileViewUpdateQueue[f]);this.tileViewUpdateQueue=_,this.oModel.setProperty(\"/groups\",n)}},getModelTileById:function(e){var t;return this.oModel.getProperty(\"/groups\").forEach(function(o){o.tiles.forEach(function(o){o.uuid!==e&&o.originalTileId!==e||(t=o)})}),t},_getTileModel:function(e,t,o,i){var s,r,l,a,n=this.oPageBuilderService,u=jQuery.sap.uid(),d=this;if(this.sTileType=o,n.setTileVisible(e,!1),(r=n.getTileView(e)).done(function(e){s=e,a&&(a.apply(d,[u,s]),d._handleSegment())}),r.fail(function(){a?(a.apply(d,[u]),d._handleSegment()):(jQuery.sap.require(\"sap.ushell.ui.launchpad.TileState\"),s=\"link\"===d.sTileType?new sap.m.Link({text:sap.ushell.resources.i18n.getText(\"cannotLoadTile\")}):new sap.ushell.ui.launchpad.TileState({state:\"Failed\"}))}),s||(a=i||this._addModelToTileViewUpdateQueue,jQuery.sap.require(\"sap.ushell.ui.launchpad.TileState\"),s=new sap.ushell.ui.launchpad.TileState({state:\"Loading\"})),\"link\"===o)l={object:e,originalTileId:n.getTileId(e),uuid:u,tileCatalogId:encodeURIComponent(n.getCatalogTileId(e)),content:[s],target:n.getTileTarget(e)||\"\",debugInfo:n.getTileDebugInfo(e),isTileIntentSupported:n.isTileIntentSupported(e),isLocked:t};else if(\"tile\"===o){var p=n.getTileSize(e);l={object:e,originalTileId:n.getTileId(e),uuid:u,tileCatalogId:encodeURIComponent(n.getCatalogTileId(e)),content:[s],long:null!==p&&\"1x2\"===p||!1,target:n.getTileTarget(e)||\"\",debugInfo:n.getTileDebugInfo(e),isTileIntentSupported:n.isTileIntentSupported(e),rgba:\"\",isLocked:t,showActionsIcon:this.oModel.getProperty(\"/tileActionsIconEnabled\")||!1}}return l},_destroyAllGroupModels:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o)for(t=0;t<o.length;t+=1)this._destroyGroupModel(o[t])},_destroyGroupModel:function(e){var t=\"string\"==typeof e?this.oModel.getProperty(e):e;t&&this._destroyAllTileModels(t.tiles)},_destroyAllTileModels:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o)for(t=0;t<o.length;t+=1)this._destroyTileModel(o[t])},_destroyTileModel:function(e){var t,o=\"string\"==typeof e?this.oModel.getProperty(e):e;if(o&&o.content)for(t=0;t<o.content.length;t+=1)o.content[t].destroy()},loadPersonalizedGroups:function(){var e=this,t=this.oPageBuilderService.getGroups(),o=new jQuery.Deferred;return t.done(function(t){e.loadGroupsFromArray(t),o.resolve()}),t.fail(function(){e._showLocalizedErrorHelper(\"fail_to_load_groups_msg\")(),o.reject()}),o}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/PagingManager-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.PagingManager\"),sap.ui.base.EventProvider.extend(\"sap.ushell.components.flp.launchpad.PagingManager\",{metadata:{publicMethods:[\"setElementClass\",\"setContainerSize\",\"getNumberOfAllocatedElements\",\"moveToNextPage\",\"getTileHeight\"]},constructor:function(e,t){sap.ushell.components.flp.launchpad.getPagingManager=jQuery.sap.getter(this.getInterface()),this.currentPageIndex=0,this.containerHeight=t.containerHeight||0,this.containerWidth=t.containerWidth||0,this.supportedElements=t.supportedElements||\"\",this.tileHeight=0},getTileHeight:function(){return this.tileHeight},setElementClass:function(e){this.supportedElements=e},setContainerSize:function(e,t){var i=this.getNumberOfAllocatedElements();this.containerHeight=e,this.containerWidth=t,this._changePageSize(i)},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex},_changePageSize:function(e){this.currentPageIndex=Math.ceil(e/this._calcElementsPerPage())},moveToNextPage:function(){this.currentPageIndex++},getSizeofSupportedElementInUnits:function(e){return this.supportedElements[e].sizeInBaseUnits},_calcElementMatrix:function(e){var t=jQuery(\"<div>\").addClass(e);jQuery(\"body\").append(t);var i=t.height(),n=t.width();return(i<20||n<40)&&(n=40,i=20),t.remove(),{width:n,height:i}},_calcElementsPerPage:function(){var e,t,i,n,h,s,a;for(e in this.supportedElements)n=this.supportedElements[e],i=this._calcElementMatrix(n.className),n.matrix=i,t?(t.width=t.width>i.width?i.width:t.width,t.height=t.height>i.height?i.height:t.height):t={width:i.width,height:i.height};for(e in this.supportedElements)h=(n=this.supportedElements[e]).matrix,n.sizeInBaseUnits=Math.round(h.width/t.width*h.height/t.height);return s=Math.round(this.containerWidth/t.width),(a=Math.round(this.containerHeight/t.height))&&s&&s!==1/0&&a!==1/0&&0!==s&&0!==a?a*s:10}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/PagingManager.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.PagingManager\"),sap.ui.base.EventProvider.extend(\"sap.ushell.components.flp.launchpad.PagingManager\",{metadata:{publicMethods:[\"setElementClass\",\"setContainerSize\",\"getNumberOfAllocatedElements\",\"moveToNextPage\",\"getTileHeight\"]},constructor:function(e,t){sap.ushell.components.flp.launchpad.getPagingManager=jQuery.sap.getter(this.getInterface()),this.currentPageIndex=0,this.containerHeight=t.containerHeight||0,this.containerWidth=t.containerWidth||0,this.supportedElements=t.supportedElements||\"\",this.tileHeight=0},getTileHeight:function(){return this.tileHeight},setElementClass:function(e){this.supportedElements=e},setContainerSize:function(e,t){var i=this.getNumberOfAllocatedElements();this.containerHeight=e,this.containerWidth=t,this._changePageSize(i)},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex},_changePageSize:function(e){this.currentPageIndex=Math.ceil(e/this._calcElementsPerPage())},moveToNextPage:function(){this.currentPageIndex++},getSizeofSupportedElementInUnits:function(e){return this.supportedElements[e].sizeInBaseUnits},_calcElementMatrix:function(e){var t=jQuery(\"<div>\").addClass(e);jQuery(\"body\").append(t);var i=t.height(),n=t.width();return(i<20||n<40)&&(n=40,i=20),t.remove(),{width:n,height:i}},_calcElementsPerPage:function(){var e,t,i,n,h,s,a;for(e in this.supportedElements)n=this.supportedElements[e],i=this._calcElementMatrix(n.className),n.matrix=i,t?(t.width=t.width>i.width?i.width:t.width,t.height=t.height>i.height?i.height:t.height):t={width:i.width,height:i.height};for(e in this.supportedElements)h=(n=this.supportedElements[e]).matrix,n.sizeInBaseUnits=Math.round(h.width/t.width*h.height/t.height);return s=Math.round(this.containerWidth/t.width),(a=Math.round(this.containerHeight/t.height))&&s&&s!==1/0&&a!==1/0&&0!==s&&0!==a?a*s:10}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/AppFinder-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.launchpad.AccessibilityCustomData\"),sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\",{onInit:function(){sap.ushell.Container.getRenderer(\"fiori2\").createExtendedShellState(\"appFinderExtendedShellState\",function(){sap.ushell.Container.getRenderer(\"fiori2\").showHeaderItem(\"homeBtn\",!0);var e=sap.ui.Device.system.phone;sap.ushell.Container.getRenderer(\"fiori2\").setHeaderHiding(e)});var e=this,t=this.getView(),a=t.getModel();a.getProperty(\"/groups\")&&0!==a.getProperty(\"/groups\").length||sap.ushell.components.flp.launchpad.getDashboardManager().loadPersonalizedGroups();var n=t.enableEasyAccess;this.oRouter=this.getView().parentComponent.getRouter(),this.catalogView=sap.ui.view(\"catalogView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",height:\"100%\",viewData:{parentComponent:t.parentComponent}}),this.catalogView.addStyleClass(\"sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce\"),this._addViewCustomData(this.catalogView,\"appFinderCatalogTitle\"),this.oRouter.getRoute(\"catalog\").attachPatternMatched(function(t){e._navigateTo.apply(e,[\"appFinder\",\"catalog\"])}),this.oRouter.getRoute(\"appFinder\").attachPatternMatched(function(t){e._applyExtendedShellstate(),e._getPathAndHandleGroupContext(t),e.oView.isFiori2&&e._updateShellHeader(e.oView.oPage.getTitle()),n&&e.onShow(t),sap.ui.getCore().getEventBus().publish(\"showCatalog\")}),n||(this.currentMenu=\"catalog\",t.oPage.addContent(this.catalogView))},_applyExtendedShellstate:function(){setTimeout(function(){sap.ushell.Container&&sap.ushell.Container.getRenderer(\"fiori2\").applyExtendedShellState(\"appFinderExtendedShellState\")},0)},getCurrentMenuName:function(){return this.currentMenu},_navigateTo:function(e,t){var a=this.oView.getModel().getProperty(\"/groupContext\"),n=a?a.path:null;n?this.oRouter.navTo(e,{menu:t,filters:JSON.stringify({targetGroup:encodeURIComponent(n)})},!0):this.oRouter.navTo(e,{menu:t},!0)},getSystemsModel:function(){if(this.getSystemsPromise)return this.getSystemsPromise;var e=new sap.ui.model.json.JSONModel;return e.setProperty(\"/systemSelected\",null),e.setProperty(\"/systemsList\",[]),this.getSystemsPromise=this.getSystems().then(function(t){return e.setProperty(\"/systemsList\",t),e}),this.getSystemsPromise},onSegmentButtonClick:function(e){switch(e.getParameters().id){case\"catalog\":this._navigateTo(\"appFinder\",\"catalog\");break;case\"userMenu\":this._navigateTo(\"appFinder\",\"userMenu\");break;case\"sapMenu\":this._navigateTo(\"appFinder\",\"sapMenu\")}},onShow:function(e){var t=e.getParameter(\"arguments\").menu;if(t!==this.getCurrentMenuName()){this.currentMenu=t;var a=this.getView();a.segmentedButton.setSelectedButton(t),\"catalog\"===t?(a.oPage.removeAllContent(),a.oPage.addContent(this.catalogView)):this.getSystemsModel().then(function(e,t){\"userMenu\"===e?(this.userMenuView||(this.userMenuView=new sap.ui.view(\"userMenuView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",height:\"100%\",viewData:{menuName:\"USER_MENU\",easyAccessSystemsModel:t,parentComponent:a.parentComponent}}),this._addViewCustomData(this.userMenuView,\"appFinderUserMenuTitle\")),a.oPage.removeAllContent(),a.oPage.addContent(this.userMenuView)):\"sapMenu\"===e&&(this.sapMenuView||(this.sapMenuView=new sap.ui.view(\"sapMenuView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",height:\"100%\",viewData:{menuName:\"SAP_MENU\",easyAccessSystemsModel:t,parentComponent:a.parentComponent}}),this._addViewCustomData(this.sapMenuView,\"appFinderSapMenuTitle\")),a.oPage.removeAllContent(),a.oPage.addContent(this.sapMenuView))}.bind(this,this.currentMenu))}},_getPathAndHandleGroupContext:function(e){var t=e.getParameter(\"arguments\").filters,a=t?JSON.parse(t):t,n=a&&decodeURIComponent(a.targetGroup)||\"\";n=\"undefined\"===n?void 0:n,this._updateModelWithGroupContext(n)},_updateModelWithGroupContext:function(e){var t,a=sap.ushell.Container.getService(\"LaunchPage\"),n=this.oView.getModel(),i={path:e,id:\"\",title:\"\"};if(e&&\"\"!==e){var s=function(){if(n.getProperty(\"/groups\").length)return t=n.getProperty(e),i.id=a.getGroupId(t.object),void(i.title=t.title||a.getGroupTitle(t.object));setTimeout(s,100)};s()}n.setProperty(\"/groupContext\",i)},getSystems:function(){var e=new jQuery.Deferred,t=[],a=sap.ushell.Container.getService(\"ClientSideTargetResolution\");return a?a.getEasyAccessSystems().done(function(a){for(var n=Object.keys(a),i=0;i<n.length;i++){var s=n[i];t[i]={systemName:a[s].text,systemId:s}}e.resolve(t)}).fail(function(t){e.reject(\"An error occurred while retrieving the systems: \"+t)}):e.reject(\"cannot get ClientSideTargetResolution service\"),e.promise()},_addViewCustomData:function(e,t){var a=sap.ushell.resources.i18n;e.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"role\",value:\"main\",writeToDom:!0})),e.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"aria-label\",value:a.getText(t),writeToDom:!0}))},_initializeShellUIService:function(){jQuery.sap.require(\"sap.ushell.ui5service.ShellUIService\"),this.oShellUIService=new sap.ushell.ui5service.ShellUIService({scopeObject:this.getOwnerComponent(),scopeType:\"component\"})},_updateShellHeader:function(e){this.oShellUIService||this._initializeShellUIService(),this.oShellUIService.setTitle(e)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/AppFinder-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\",{createContent:function(e){var t=this;this.addEventDelegate({onAfterShow:function(){var e=sap.ui.getCore().byId(\"homeBtn\");e&&e.setEnabled&&e.getTarget()&&e.setEnabled(!0)},onAfterHide:function(){var e=sap.ui.getCore().byId(\"homeBtn\");e&&e.setEnabled&&e.getTarget()&&e.setEnabled(!1),t.isFiori2&&t.oController._updateShellHeader(void 0)}}),this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.setModel(this.parentComponent.getModel()),this.enableEasyAccess=this.getModel().getProperty(\"/enableEasyAccess\"),this.enableEasyAccess&&(sap.ui.Device.system.phone||sap.ui.Device.system.tablet&&!sap.ui.Device.system.combi)&&(this.enableEasyAccess=!1);var n=sap.ushell.resources.i18n;if(this.enableEasyAccess){this.segmentedButton=new sap.m.SegmentedButton({buttons:[new sap.m.Button(\"catalog\",{text:n.getText(\"appFinderCatalogTitle\"),press:function(t){e.onSegmentButtonClick(t)}}),new sap.m.Button(\"userMenu\",{text:n.getText(\"appFinderUserMenuTitle\"),press:function(t){e.onSegmentButtonClick(t)}}),new sap.m.Button(\"sapMenu\",{text:n.getText(\"appFinderSapMenuTitle\"),press:function(t){e.onSegmentButtonClick(t)}})]});for(var s=this.segmentedButton.getButtons(),a=0;a<s.length;a++){var o=s[a];o.addAriaLabelledBy(o.getId()+\"View\"),o.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"aria-controls\",value:o.getId()+\"View\",writeToDom:!0}))}}var i=sap.ushell.Container.getRenderer(\"fiori2\");return this.isFiori2=i.isFiori2(),this.oPage=new sap.m.Page(\"appFinderPage\",{showHeader:!this.isFiori2,showSubHeader:!!this.enableEasyAccess,showFooter:!1,showNavButton:!1,enableScrolling:!1,title:{parts:[\"/groupContext/title\"],formatter:function(e){return e?n.getText(\"appFinder_group_context_title\",e):n.getText(\"appFinderTitle\")}},subHeader:this.enableEasyAccess?new sap.m.Toolbar({justifyContent:sap.m.FlexJustifyContent.Center,content:this.segmentedButton}):void 0}),this.oPage},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/AppFinder.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.launchpad.AccessibilityCustomData\"),sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\",{onInit:function(){sap.ushell.Container.getRenderer(\"fiori2\").createExtendedShellState(\"appFinderExtendedShellState\",function(){sap.ushell.Container.getRenderer(\"fiori2\").showHeaderItem(\"homeBtn\",!0);var e=sap.ui.Device.system.phone;sap.ushell.Container.getRenderer(\"fiori2\").setHeaderHiding(e)});var e=this,t=this.getView(),a=t.getModel();a.getProperty(\"/groups\")&&0!==a.getProperty(\"/groups\").length||sap.ushell.components.flp.launchpad.getDashboardManager().loadPersonalizedGroups();var n=t.enableEasyAccess;this.oRouter=this.getView().parentComponent.getRouter(),this.catalogView=sap.ui.view(\"catalogView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",height:\"100%\",viewData:{parentComponent:t.parentComponent}}),this.catalogView.addStyleClass(\"sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce\"),this._addViewCustomData(this.catalogView,\"appFinderCatalogTitle\"),this.oRouter.getRoute(\"catalog\").attachPatternMatched(function(t){e._navigateTo.apply(e,[\"appFinder\",\"catalog\"])}),this.oRouter.getRoute(\"appFinder\").attachPatternMatched(function(t){e._applyExtendedShellstate(),e._getPathAndHandleGroupContext(t),e.oView.isFiori2&&e._updateShellHeader(e.oView.oPage.getTitle()),n&&e.onShow(t),sap.ui.getCore().getEventBus().publish(\"showCatalog\")}),n||(this.currentMenu=\"catalog\",t.oPage.addContent(this.catalogView))},_applyExtendedShellstate:function(){setTimeout(function(){sap.ushell.Container&&sap.ushell.Container.getRenderer(\"fiori2\").applyExtendedShellState(\"appFinderExtendedShellState\")},0)},getCurrentMenuName:function(){return this.currentMenu},_navigateTo:function(e,t){var a=this.oView.getModel().getProperty(\"/groupContext\"),n=a?a.path:null;n?this.oRouter.navTo(e,{menu:t,filters:JSON.stringify({targetGroup:encodeURIComponent(n)})},!0):this.oRouter.navTo(e,{menu:t},!0)},getSystemsModel:function(){if(this.getSystemsPromise)return this.getSystemsPromise;var e=new sap.ui.model.json.JSONModel;return e.setProperty(\"/systemSelected\",null),e.setProperty(\"/systemsList\",[]),this.getSystemsPromise=this.getSystems().then(function(t){return e.setProperty(\"/systemsList\",t),e}),this.getSystemsPromise},onSegmentButtonClick:function(e){switch(e.getParameters().id){case\"catalog\":this._navigateTo(\"appFinder\",\"catalog\");break;case\"userMenu\":this._navigateTo(\"appFinder\",\"userMenu\");break;case\"sapMenu\":this._navigateTo(\"appFinder\",\"sapMenu\")}},onShow:function(e){var t=e.getParameter(\"arguments\").menu;if(t!==this.getCurrentMenuName()){this.currentMenu=t;var a=this.getView();a.segmentedButton.setSelectedButton(t),\"catalog\"===t?(a.oPage.removeAllContent(),a.oPage.addContent(this.catalogView)):this.getSystemsModel().then(function(e,t){\"userMenu\"===e?(this.userMenuView||(this.userMenuView=new sap.ui.view(\"userMenuView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",height:\"100%\",viewData:{menuName:\"USER_MENU\",easyAccessSystemsModel:t,parentComponent:a.parentComponent}}),this._addViewCustomData(this.userMenuView,\"appFinderUserMenuTitle\")),a.oPage.removeAllContent(),a.oPage.addContent(this.userMenuView)):\"sapMenu\"===e&&(this.sapMenuView||(this.sapMenuView=new sap.ui.view(\"sapMenuView\",{type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",height:\"100%\",viewData:{menuName:\"SAP_MENU\",easyAccessSystemsModel:t,parentComponent:a.parentComponent}}),this._addViewCustomData(this.sapMenuView,\"appFinderSapMenuTitle\")),a.oPage.removeAllContent(),a.oPage.addContent(this.sapMenuView))}.bind(this,this.currentMenu))}},_getPathAndHandleGroupContext:function(e){var t=e.getParameter(\"arguments\").filters,a=t?JSON.parse(t):t,n=a&&decodeURIComponent(a.targetGroup)||\"\";n=\"undefined\"===n?void 0:n,this._updateModelWithGroupContext(n)},_updateModelWithGroupContext:function(e){var t,a=sap.ushell.Container.getService(\"LaunchPage\"),n=this.oView.getModel(),i={path:e,id:\"\",title:\"\"};if(e&&\"\"!==e){var s=function(){if(n.getProperty(\"/groups\").length)return t=n.getProperty(e),i.id=a.getGroupId(t.object),void(i.title=t.title||a.getGroupTitle(t.object));setTimeout(s,100)};s()}n.setProperty(\"/groupContext\",i)},getSystems:function(){var e=new jQuery.Deferred,t=[],a=sap.ushell.Container.getService(\"ClientSideTargetResolution\");return a?a.getEasyAccessSystems().done(function(a){for(var n=Object.keys(a),i=0;i<n.length;i++){var s=n[i];t[i]={systemName:a[s].text,systemId:s}}e.resolve(t)}).fail(function(t){e.reject(\"An error occurred while retrieving the systems: \"+t)}):e.reject(\"cannot get ClientSideTargetResolution service\"),e.promise()},_addViewCustomData:function(e,t){var a=sap.ushell.resources.i18n;e.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"role\",value:\"main\",writeToDom:!0})),e.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"aria-label\",value:a.getText(t),writeToDom:!0}))},_initializeShellUIService:function(){jQuery.sap.require(\"sap.ushell.ui5service.ShellUIService\"),this.oShellUIService=new sap.ushell.ui5service.ShellUIService({scopeObject:this.getOwnerComponent(),scopeType:\"component\"})},_updateShellHeader:function(e){this.oShellUIService||this._initializeShellUIService(),this.oShellUIService.setTitle(e)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/AppFinder.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\",{createContent:function(e){var t=this;this.addEventDelegate({onAfterShow:function(){var e=sap.ui.getCore().byId(\"homeBtn\");e&&e.setEnabled&&e.getTarget()&&e.setEnabled(!0)},onAfterHide:function(){var e=sap.ui.getCore().byId(\"homeBtn\");e&&e.setEnabled&&e.getTarget()&&e.setEnabled(!1),t.isFiori2&&t.oController._updateShellHeader(void 0)}}),this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.setModel(this.parentComponent.getModel()),this.enableEasyAccess=this.getModel().getProperty(\"/enableEasyAccess\"),this.enableEasyAccess&&(sap.ui.Device.system.phone||sap.ui.Device.system.tablet&&!sap.ui.Device.system.combi)&&(this.enableEasyAccess=!1);var n=sap.ushell.resources.i18n;if(this.enableEasyAccess){this.segmentedButton=new sap.m.SegmentedButton({buttons:[new sap.m.Button(\"catalog\",{text:n.getText(\"appFinderCatalogTitle\"),press:function(t){e.onSegmentButtonClick(t)}}),new sap.m.Button(\"userMenu\",{text:n.getText(\"appFinderUserMenuTitle\"),press:function(t){e.onSegmentButtonClick(t)}}),new sap.m.Button(\"sapMenu\",{text:n.getText(\"appFinderSapMenuTitle\"),press:function(t){e.onSegmentButtonClick(t)}})]});for(var s=this.segmentedButton.getButtons(),a=0;a<s.length;a++){var o=s[a];o.addAriaLabelledBy(o.getId()+\"View\"),o.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"aria-controls\",value:o.getId()+\"View\",writeToDom:!0}))}}var i=sap.ushell.Container.getRenderer(\"fiori2\");return this.isFiori2=i.isFiori2(),this.oPage=new sap.m.Page(\"appFinderPage\",{showHeader:!this.isFiori2,showSubHeader:!!this.enableEasyAccess,showFooter:!1,showNavButton:!1,enableScrolling:!1,title:{parts:[\"/groupContext/title\"],formatter:function(e){return e?n.getText(\"appFinder_group_context_title\",e):n.getText(\"appFinderTitle\")}},subHeader:this.enableEasyAccess?new sap.m.Toolbar({justifyContent:sap.m.FlexJustifyContent.Center,content:this.segmentedButton}):void 0}),this.oPage},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.AppFinder\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/Catalog-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",{oPopoverView:void 0,onInit:function(){var e=this;sap.ui.getCore().byId(\"catalogSelect\").addEventDelegate({onBeforeRendering:this.onBeforeSelectRendering},this);var t=this.getView().parentComponent.getRouter();t.getRoute(\"catalog\").attachPatternMatched(function(t){e.onShow(t)}),t.getRoute(\"appFinder\").attachPatternMatched(function(t){e.onShow(t)}),this.timeoutId=0},onBeforeRendering:function(){sap.ui.getCore().getEventBus().publish(\"renderCatalog\"),setTimeout(function(){jQuery(\"#catalogSelect\").focus()},0)},onAfterRendering:function(){var e=this.getView().getModel(),t=e.getProperty(\"/catalogs\"),o=this;t.length?t[0].title!=sap.ushell.resources.i18n.getText(\"catalogsLoading\")&&e.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noFilteredItems\")):(e.setProperty(\"/catalogs\",[{title:sap.ushell.resources.i18n.getText(\"catalogsLoading\"),static:!0,tiles:[],numIntentSupportedTiles:-1}]),e.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"loadingTiles\"))),this.PagingManager||(this.lastCatalogId=0,jQuery.sap.require(\"sap.ushell.components.flp.launchpad.PagingManager\"),this.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager(\"catalogPaging\",{supportedElements:{tile:{className:\"sapUshellTile\"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth})),0===this.PagingManager.currentPageIndex&&o.allocateNextPage(),jQuery(\"#catalogTilesPage-cont\").scroll(function(){var e=sap.ui.getCore().byId(\"catalogTilesPage\").getScrollDelegate(),t=e.getScrollTop();e.getMaxScrollTop()-t<=30+o.PagingManager.getTileHeight()&&o.allocateNextPage()}),jQuery(window).resize(function(){var e=$(window).width(),t=$(window).height();o.PagingManager.setContainerSize(e,t),o.resetPageFilter(),o.applyTileFilters()})},onShow:function(e){var t,o,i,r=this.getView().getModel(),a=r.getProperty(\"/catalogTiles\")||[],s=e.getParameter(\"arguments\").filters,l=s?JSON.parse(s):s;if((t=sap.ui.getCore().byId(\"viewPortContainer\"))&&t.shiftCenterTransition(!1),$.extend(this.getView().getViewData(),e),this.PagingManager&&this.resetPageFilter(),this.categoryFilter=l&&l.catalogSelector&&l.catalogSelector||null,this.categoryFilter&&(this.categoryFilter=window.decodeURIComponent(this.categoryFilter)),this.searchFilter=l&&l.tileFilter&&l.tileFilter||null,this.searchFilter&&(this.searchFilter=window.decodeURIComponent(this.searchFilter)),o=l&&l.tagFilter&&l.tagFilter||\"\")try{this.tagFilter=JSON.parse(o)}catch(e){this.tagFilter=[]}else this.tagFilter=[];for(this.tagFilter&&r.setProperty(\"/selectedTags\",this.tagFilter),r.setProperty(\"/showCatalogHeaders\",!0),r.setProperty(\"/catalogSearchFilter\",this.searchFilter),i=0;i<a.length;i+=1)a[i].active=!1;this.categoryFilter||this.searchFilter?sap.ui.getCore().byId(\"catalogSelect\").rerender():sap.ui.getCore().byId(\"catalogSelect\")&&sap.ui.getCore().byId(\"catalogSelect\").setSelectedItemId(\"\"),this.oRenderingFilter=new sap.ui.model.Filter(\"\",\"EQ\",\"a\"),this.oRenderingFilter.fnTest=function(e){return e.catalogIndex<=this.lastCatalogId||this.allocateTiles>0&&(this.lastCatalogId=e.catalogIndex,this.allocateTiles--,!0)}.bind(this),this.PagingManager&&this.applyTileFilters()},resetPageFilter:function(){this.lastCatalogId=0,this.allocateTiles=this.PagingManager.getNumberOfAllocatedElements()},allocateNextPage:function(){this.allocateTiles&&0!==this.allocateTiles||(this.PagingManager.moveToNextPage(),this.allocateTiles=this.PagingManager._calcElementsPerPage(),this.applyTileFilters())},onBeforeSelectRendering:function(){var e=sap.ui.getCore().byId(\"catalogSelect\"),t=jQuery.grep(e.getItems(),jQuery.proxy(function(e){return e.getBindingContext().getObject().title===this.categoryFilter},this));t.length||t.push(e.getItemAt(0)),t[0]&&e.getSelectedItemId()!==t[0].getId()&&window.setTimeout($.proxy(e.setSelectedItem,e,t[0].getId()),500)},setTagsFilter:function(e){var t={catalogSelector:this.categoryFilter,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):\"\",tagFilter:e,targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)},!0)},setCategoryFilter:function(e){var t={catalogSelector:e,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):\"\",tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)},!0)},setSearchFilter:function(e){var t={catalogSelector:this.categoryFilter,tileFilter:e?encodeURIComponent(e):\"\",tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)})},getGroupContext:function(){var e=this.getView().getModel().getProperty(\"/groupContext/path\");return e||\"\"},applyTileFilters:function(){var e,t,o,i,r=[];this.tagFilter&&((e=new sap.ui.model.Filter(\"tags\",\"EQ\",\"v\")).fnTest=function(e){var t,o;if(0===this.tagFilter.length)return!0;for(t=0;t<this.tagFilter.length;t++)if(o=this.tagFilter[t],-1===e.indexOf(o))return!1;return!0}.bind(this),r.push(e)),this.searchFilter=this.searchFilter?this.searchFilter.replace(/\\*/g,\"\"):this.searchFilter,this.searchFilter&&(t=new sap.ui.model.Filter($.map(this.searchFilter.split(/[\\s,]+/),function(e){return e&&new sap.ui.model.Filter(\"keywords\",sap.ui.model.FilterOperator.Contains,e)||e&&new sap.ui.model.Filter(\"title\",sap.ui.model.FilterOperator.Contains,e)||void 0}),!0),r.push(t)),this.categoryFilter&&(i=this.categoryFilter,o=new sap.ui.model.Filter(\"catalog\",sap.ui.model.FilterOperator.EQ,i),r.push(o)),r.push(new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0)),this.oRenderingFilter&&r.push(this.oRenderingFilter),sap.ui.getCore().byId(\"catalogTiles\").getBinding(\"tiles\").filter(r)},onLiveFilter:function(e){clearTimeout(this.timeoutId);var t=this,o=e.getParameter(\"newValue\");this.timeoutId=setTimeout(function(e){e?t.setSearchFilter(e):t.setSearchFilter()},300,o)},onTagsFilter:function(e){var t=e.getParameters(\"selectedItem\").changedItem,o=e.getParameter(\"selected\"),i=[],r=t.getText();this.tagFilter&&(i=this.tagFilter),o?i.push(r):i=i.filter(function(e){return e!==r}),this.setTagsFilter(i.length>0?JSON.stringify(i):\"\")},onCategoryFilter:function(e){var t=e.getParameter(\"selectedItem\"),o=t.getBindingContext(),i=o.getModel();i.getProperty(\"static\",o)?(i.setProperty(\"/showCatalogHeaders\",!0),this.setCategoryFilter(),this.selectedCategory=void 0):(i.setProperty(\"/showCatalogHeaders\",!1),this.setCategoryFilter(window.encodeURIComponent(t.getBindingContext().getObject().title)),this.selectedCategory=t.getId())},onTileAfterRendering:function(e){var t=e.getSource().getFootItems()[0];void 0!==t&&t.addStyleClass(\"sapUshellCatalogPlusIcon\")},catalogTilePress:function(e){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"catalogTileClick\")},onTileFooterClick:function(e){var t=e.getSource(),o=t.getBindingContext(),i=this.getView().getModel(),r=i.getProperty(\"/groupContext/path\");if(r)this._handleTileFooterClickInGroupContext(o,r);else{this.oPopoverView&&!0===this.oPopoverView.getVisible()&&this.oPopoverView.setVisible(!1);var a=i.getProperty(\"/groups\"),s=sap.ushell.Container.getService(\"LaunchPage\"),l=this.getCatalogTileDataFromModel(o),n=l.tileData.associatedGroups,g=a.map(function(e){var t=s.getGroupId(e.object),o=!(-1==$.inArray(t,n));return{selected:o,initiallySelected:o,oGroup:e}});void 0===this.oPopoverView&&(this.oPopoverView=sap.ui.getCore().byId(\"groupListPopoverView\"),void 0===this.oPopoverView&&(this.oPopoverView=new sap.ui.view({id:\"groupListPopoverView\",type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",viewData:{enableHideGroups:i.getProperty(\"/enableHideGroups\"),enableHelp:i.getProperty(\"/enableHelp\")}}),this.oPopoverView.setVisible(!1))),!1===this.oPopoverView.getVisible()&&(this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.MultiSelect),this.oPopoverView.setGroupsData(g),this.oPopoverView.setVisible(!0),this.oPopoverView.open(t).then(this._handlePopoverResponse.bind(this,o,l)))}},_handlePopoverResponse:function(e,t,o){var i=this.getView().getModel(),r=i.getProperty(\"/groups\"),a=[];o.addToGroups.forEach(function(t){var o=r.indexOf(t),s=new sap.ui.model.Context(i,\"/groups/\"+o),l=this._addTile(e,s);a.push(l)}.bind(this)),o.removeFromGroups.forEach(function(t){var o=e.getModel().getProperty(e.getPath()).id,i=r.indexOf(t),s=this._removeTile(o,i);a.push(s)}.bind(this)),o.newGroups.forEach(function(t){var o=t.length>0?t:sap.ushell.resources.i18n.getText(\"new_group_name\"),i=this._createGroupAndSaveTile(e,o);a.push(i)}.bind(this)),jQuery.when.apply(jQuery,a).then(function(){var e=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(t,o,e)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,o){var i=o.filter(function(e,t,o){return!e.status});if(i.length){var r=this.prepareErrorMessage(i,e.tileData.title);sap.ushell.components.flp.launchpad.DashboardManager().resetGroupsOnFailure(r.messageId,r.parameters)}else{var a=[],s=sap.ushell.Container.getService(\"LaunchPage\");t.allGroups.forEach(function(e){if(e.selected){var t=s.getGroupId(e.oGroup.object);a.push(t)}});var l=this.getView().getModel();if(t.newGroups.length){var n=l.getProperty(\"/groups\");n.slice(n.length-t.newGroups.length).forEach(function(e){var t=s.getGroupId(e.object);a.push(t)})}l.setProperty(\"/catalogTiles/\"+e.tileIndex+\"/associatedGroups\",a);var g=t.addToGroups[0]?t.addToGroups[0].title:\"\";!g.length&&t.newGroups.length&&(g=t.newGroups[0]);var p=t.removeFromGroups[0]?t.removeFromGroups[0].title:\"\",u=this.prepareDetailedMessage(e.tileData.title,t.addToGroups.length+t.newGroups.length,t.removeFromGroups.length,g,p);sap.m.MessageToast.show(u,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"})}},_getCatalogTileIndexInModel:function(e){var t=e.sPath.split(\"/\");return t[t.length-1]},_handleTileFooterClickInGroupContext:function(e,t){var o,i,r,a,s,l=sap.ushell.Container.getService(\"LaunchPage\"),n=this.getView().getModel(),g=this.getCatalogTileDataFromModel(e),p=g.tileData.associatedGroups,u=n.getProperty(t),c=l.getGroupId(u.object),d=$.inArray(c,p),h=this._getCatalogTileIndexInModel(e),m=this;g.isBeingProcessed||(n.setProperty(\"/catalogTiles/\"+h+\"/isBeingProcessed\",!0),-1==d?(o=new sap.ui.model.Context(e.getModel(),t),(i=this._addTile(e,o)).done(function(t){1==t.status?m._groupContextOperationSucceeded(e,g,u,!0):m._groupContextOperationFailed(g,u,!0)}),i.always(function(){n.setProperty(\"/catalogTiles/\"+h+\"/isBeingProcessed\",!1)})):(a=e.getModel().getProperty(e.getPath()).id,s=t.split(\"/\")[2],(r=this._removeTile(a,s)).done(function(t){1==t.status?m._groupContextOperationSucceeded(e,g,u,!1):m._groupContextOperationFailed(g,u,!1)}),r.always(function(){n.setProperty(\"/catalogTiles/\"+h+\"/isBeingProcessed\",!1)})))},_groupContextOperationSucceeded:function(e,t,o,i){var r,a,s=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(o.object),l=t.tileData.associatedGroups;if(i)l.push(s),e.getModel().setProperty(\"/catalogTiles/\"+t.tileIndex+\"/associatedGroups\",l),r=this.prepareDetailedMessage(t.tileData.title,1,0,o.title,\"\");else{for(a in l)if(l[a]==s){l.splice(a,1);break}e.getModel().setProperty(\"/catalogTiles/\"+t.tileIndex+\"/associatedGroups\",l),r=this.prepareDetailedMessage(t.tileData.title,0,1,\"\",o.title)}sap.m.MessageToast.show(r,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"})},_groupContextOperationFailed:function(e,t,o){var i,r=sap.ushell.components.flp.launchpad.getDashboardManager();i=o?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_group\",parameters:[e.tileData.title,t.title]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_group\",parameters:[e.tileData.title,t.title]}),r.resetGroupsOnFailure(i.messageId,i.parameters)},prepareErrorMessage:function(e,t){var o,i,r,a,s=0,l=0,n=!1;for(var g in e)o=e[g].group,\"add\"==(i=e[g].action)?1==++s&&(r=o.title):\"remove\"==i?1==++l&&(a=o.title):\"addTileToNewGroup\"==i?1==++s&&(r=o.title):n=!0;return n?1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_create_new_group\"}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"}):1==e.length?s?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_group\",parameters:[t,r]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_group\",parameters:[t,a]}):0==l?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_several_groups\",parameters:[t]}):0==s?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_several_groups\",parameters:[t]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"})},prepareDetailedMessage:function(e,t,o,i,r){var a;return 0==t?1==o?a=sap.ushell.resources.i18n.getText(\"tileRemovedFromSingleGroup\",[e,r]):o>1&&(a=sap.ushell.resources.i18n.getText(\"tileRemovedFromSeveralGroups\",[e,o])):1==t?0==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroup\",[e,i]):1==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroupAndRemovedFromSingleGroup\",[e,i,r]):o>1&&(a=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroupAndRemovedFromSeveralGroups\",[e,i,o])):t>1&&(0==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroups\",[e,t]):1==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroupsAndRemovedFromSingleGroup\",[e,t,r]):o>1&&(a=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroupsAndRemovedFromSeveralGroups\",[e,t,o]))),a},getCatalogTileDataFromModel:function(e){var t=this._getCatalogTileIndexInModel(e),o=e.getModel().getProperty(\"/catalogTiles/\"+t);return{tileData:o,tileIndex:t,isBeingProcessed:!!o.isBeingProcessed}},_addTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.createTile({catalogTileContext:e,groupContext:t}).done(function(e){i.resolve(e)}),i},_removeTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.deleteCatalogTileFromGroup({tileId:e,groupIndex:t}).done(function(e){i.resolve(e)}),i},_createGroupAndSaveTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.createGroupAndSaveTile({catalogTileContext:e,newGroupName:t}).done(function(e){i.resolve(e)}),i}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/Catalog-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ui.core.IconPool\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Tile\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.CatalogTileContainer\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Panel\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",{oController:null,createContent:function(e){this.parentComponent=this.getViewData().parentComponent;var t=this.parentComponent.getModel();this.setModel(t),this.oController=e;var a=new sap.m.Button({icon:{parts:[\"associatedGroups\",\"associatedGroups/length\",\"/groupContext/path\",\"/groupContext/id\"],formatter:function(e,t,a,o){return function(e,t,a){var o;return o=t?-1!==$.inArray(a,e)?\"accept\":\"add\":e&&e.length>0?\"accept\":\"add\",sap.ui.core.IconPool.getIconURI(o)}(e,a,o)}},tooltip:{parts:[\"i18n>addTileToGroup\",\"i18n>addAssociatedTileToGroup\",\"associatedGroups\",\"associatedGroups/length\",\"/groupContext/path\",\"/groupContext/id\",\"/groupContext/title\"],formatter:function(e,t,a,o,l,n,r){return function(e,t,a,o,l,n){var r;if(o){var s=sap.ushell.resources.i18n,i=$.inArray(l,a);r=s.getText(-1!==i?\"removeAssociatedTileFromContextGroup\":\"addAssociatedTileToContextGroup\",n)}else r=a&&a.length?t:e;return r}(e,t,a,l,n,r)}},press:[e.onTileFooterClick,e]}),o=new sap.ushell.ui.launchpad.Tile({afterRendering:[e.onTileAfterRendering,e],tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},footItems:[a],long:{path:\"size\",formatter:function(e){return null!==e&&(\"1x2\"===e||\"2x2\"===e)||!1}},index:{path:\"id\",formatter:function(e){return parseInt(e,10)||0}},tileCatalogId:\"{id}\",press:[e.catalogTilePress,e]}),l=new sap.ushell.ui.launchpad.CatalogTileContainer(\"catalogTiles\",{showHeader:!1,showPlaceholder:!1,showGroupHeader:\"{/showCatalogHeaders}\",noDataText:\"{/catalogsNoDataText}\",groupHeaderLevel:sap.m.HeaderLevel.H3,showNoData:!0,tiles:{path:\"/catalogTiles\",template:o,sorter:new sap.ui.model.Sorter(\"catalogIndex\",!1,function(e){return e&&e.getProperty(\"catalog\")||\"\"})},afterRendering:function(e){var t,a,o=this.getModel();for((this.getTiles().length||o.getProperty(\"/catalogTiles/length\"))&&(setTimeout(function(){sap.ui.getCore().byId(\"catalogSearch\").setEnabled(!0)}),o.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noFilteredItems\")),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRendered\"),sap.ui.Device.os.ios||sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRefresh\")),jQuery.sap.byId(\"catalogTiles\").removeAttr(\"tabindex\",0),jQuery.sap.byId(\"catalogTilesPage-intHeader-BarPH\").removeAttr(\"tabindex\",0),t=jQuery(\".sapUshellTile button\"),a=0;a<t.length;a++)t[a].setAttribute(\"tabindex\",-1)}});l.addStyleClass(\"sapUshellCatalogTileContainer\"),l.addEventDelegate({onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogSelect\").focus()}catch(e){}}}),a.constructor.prototype.setIcon=function(e){return this.setProperty(\"icon\",e,!0),e&&this._image&&this._image.setSrc&&this._image.setSrc(e),this};var n=new sap.ui.model.Filter(\"numIntentSupportedTiles\",sap.ui.model.FilterOperator.NE,0),r=new sap.m.Select(\"catalogSelect\",{visible:\"{/catalogSelection}\",name:\"Browse\",tooltip:\"{i18n>catalogSelect_tooltip}\",width:\"17rem\",items:{path:\"/catalogs\",template:new sap.ui.core.ListItem({text:\"{title}\"}),filters:[n]},change:[e.onCategoryFilter,e]}),s=r.onAfterRendering;r.addEventDelegate({onsapskipforward:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),jQuery(\"#catalogTiles .sapUshellTile:visible:first\").focus()}catch(e){}},onsaptabprevious:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}},onsapskipback:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}}}),t.getProperty(\"/enableHelp\")&&r.addStyleClass(\"help-id-catalogCategorySelect\"),r.onAfterRendering=function(){s&&s.apply(this,arguments),jQuery.sap.byId(\"catalogSelect\").attr(\"tabindex\",0)};var i=r._onAfterRenderingPopover;r._onAfterRenderingPopover=function(){this._oPopover&&this._oPopover.setFollowOf(!1),i&&i.apply(this,arguments)};var p=new sap.m.SearchField(\"catalogSearch\",{visible:\"{/searchFiltering}\",tooltip:\"{i18n>catalogSearch_tooltip}\",width:\"17rem\",enabled:!1,value:{path:\"/catalogSearchFilter\"},placeholder:\"{i18n>search_catalog}\",liveChange:[e.onLiveFilter,e]}).addStyleClass(\"sapUshellCatalogSearch\"),c=p.onAfterRendering;t.getProperty(\"/enableHelp\")&&p.addStyleClass(\"help-id-catalogSearch\"),p.onAfterRendering=function(){c.apply(this,arguments),jQuery.sap.byId(\"catalogSearch\").find(\"input\").attr(\"tabindex\",0),this.data(\"sap-ui-fastnavgroup\",\"true\",!0)},p.addEventDelegate({onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}},onsapskipforward:function(e){try{e.preventDefault();var t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(t)}catch(e){}},onsaptabnext:function(e){try{if(!u.getVisible()){e.preventDefault();var t=jQuery(\".sapUshellTile:visible\"),a=jQuery(t[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),a.focus()}}catch(e){}}});var u=new sap.m.MultiComboBox(\"catalogTagFilter\",{visible:\"{/tagFiltering}\",selectedKeys:{path:\"/selectedTags\",mode:sap.ui.model.BindingMode.TwoWay},tooltip:\"{i18n>catalogTilesTagfilter_tooltip}\",width:\"17rem\",placeholder:\"{i18n>catalogTilesTagfilter_HintText}\",items:{path:\"/tagList\",sorter:new sap.ui.model.Sorter(\"tag\",!1,!1),template:new sap.ui.core.ListItem({text:\"{tag}\",key:\"{tag}\"})},selectionChange:[e.onTagsFilter,e]});t.getProperty(\"/enableHelp\")&&u.addStyleClass(\"help-id-catalogTagFilter\"),u.addEventDelegate({onsaptabnext:function(e){try{e.preventDefault();var t=jQuery(\".sapUshellTile:visible\"),a=jQuery(t[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),a.focus()}catch(e){}},onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogSelect\").focus()}catch(e){}},onsapskipforward:function(e){try{e.preventDefault();var t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(t)}catch(e){}}});var d=new sap.m.Page(\"catalogTilesPage\",{showHeader:!1,showFooter:!1,showNavButton:!1,content:[new sap.ushell.ui.launchpad.Panel({translucent:!0,headerText:\"\",headerLevel:sap.m.HeaderLevel.H2,headerBar:new sap.m.Bar(\"catalogHeader\",{translucent:!0,tooltip:\"{i18n>tile_catalog_header_tooltip}\",contentLeft:[r,p,u]}).addStyleClass(\"sapUshellCatalogHeaderBar\"),content:[l]}).addStyleClass(\"sapUshellCatalogPage\")]});return d.addDelegate({onAfterRendering:function(){jQuery(\"#catalogTilesPage header button\").attr(\"tabindex\",-1)}}),d},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.Catalog\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/Catalog.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",{oPopoverView:void 0,onInit:function(){var e=this;sap.ui.getCore().byId(\"catalogSelect\").addEventDelegate({onBeforeRendering:this.onBeforeSelectRendering},this);var t=this.getView().parentComponent.getRouter();t.getRoute(\"catalog\").attachPatternMatched(function(t){e.onShow(t)}),t.getRoute(\"appFinder\").attachPatternMatched(function(t){e.onShow(t)}),this.timeoutId=0},onBeforeRendering:function(){sap.ui.getCore().getEventBus().publish(\"renderCatalog\"),setTimeout(function(){jQuery(\"#catalogSelect\").focus()},0)},onAfterRendering:function(){var e=this.getView().getModel(),t=e.getProperty(\"/catalogs\"),o=this;t.length?t[0].title!=sap.ushell.resources.i18n.getText(\"catalogsLoading\")&&e.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noFilteredItems\")):(e.setProperty(\"/catalogs\",[{title:sap.ushell.resources.i18n.getText(\"catalogsLoading\"),static:!0,tiles:[],numIntentSupportedTiles:-1}]),e.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"loadingTiles\"))),this.PagingManager||(this.lastCatalogId=0,jQuery.sap.require(\"sap.ushell.components.flp.launchpad.PagingManager\"),this.PagingManager=new sap.ushell.components.flp.launchpad.PagingManager(\"catalogPaging\",{supportedElements:{tile:{className:\"sapUshellTile\"}},containerHeight:window.innerHeight,containerWidth:window.innerWidth})),0===this.PagingManager.currentPageIndex&&o.allocateNextPage(),jQuery(\"#catalogTilesPage-cont\").scroll(function(){var e=sap.ui.getCore().byId(\"catalogTilesPage\").getScrollDelegate(),t=e.getScrollTop();e.getMaxScrollTop()-t<=30+o.PagingManager.getTileHeight()&&o.allocateNextPage()}),jQuery(window).resize(function(){var e=$(window).width(),t=$(window).height();o.PagingManager.setContainerSize(e,t),o.resetPageFilter(),o.applyTileFilters()})},onShow:function(e){var t,o,i,r=this.getView().getModel(),a=r.getProperty(\"/catalogTiles\")||[],s=e.getParameter(\"arguments\").filters,l=s?JSON.parse(s):s;if((t=sap.ui.getCore().byId(\"viewPortContainer\"))&&t.shiftCenterTransition(!1),$.extend(this.getView().getViewData(),e),this.PagingManager&&this.resetPageFilter(),this.categoryFilter=l&&l.catalogSelector&&l.catalogSelector||null,this.categoryFilter&&(this.categoryFilter=window.decodeURIComponent(this.categoryFilter)),this.searchFilter=l&&l.tileFilter&&l.tileFilter||null,this.searchFilter&&(this.searchFilter=window.decodeURIComponent(this.searchFilter)),o=l&&l.tagFilter&&l.tagFilter||\"\")try{this.tagFilter=JSON.parse(o)}catch(e){this.tagFilter=[]}else this.tagFilter=[];for(this.tagFilter&&r.setProperty(\"/selectedTags\",this.tagFilter),r.setProperty(\"/showCatalogHeaders\",!0),r.setProperty(\"/catalogSearchFilter\",this.searchFilter),i=0;i<a.length;i+=1)a[i].active=!1;this.categoryFilter||this.searchFilter?sap.ui.getCore().byId(\"catalogSelect\").rerender():sap.ui.getCore().byId(\"catalogSelect\")&&sap.ui.getCore().byId(\"catalogSelect\").setSelectedItemId(\"\"),this.oRenderingFilter=new sap.ui.model.Filter(\"\",\"EQ\",\"a\"),this.oRenderingFilter.fnTest=function(e){return e.catalogIndex<=this.lastCatalogId||this.allocateTiles>0&&(this.lastCatalogId=e.catalogIndex,this.allocateTiles--,!0)}.bind(this),this.PagingManager&&this.applyTileFilters()},resetPageFilter:function(){this.lastCatalogId=0,this.allocateTiles=this.PagingManager.getNumberOfAllocatedElements()},allocateNextPage:function(){this.allocateTiles&&0!==this.allocateTiles||(this.PagingManager.moveToNextPage(),this.allocateTiles=this.PagingManager._calcElementsPerPage(),this.applyTileFilters())},onBeforeSelectRendering:function(){var e=sap.ui.getCore().byId(\"catalogSelect\"),t=jQuery.grep(e.getItems(),jQuery.proxy(function(e){return e.getBindingContext().getObject().title===this.categoryFilter},this));t.length||t.push(e.getItemAt(0)),t[0]&&e.getSelectedItemId()!==t[0].getId()&&window.setTimeout($.proxy(e.setSelectedItem,e,t[0].getId()),500)},setTagsFilter:function(e){var t={catalogSelector:this.categoryFilter,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):\"\",tagFilter:e,targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)},!0)},setCategoryFilter:function(e){var t={catalogSelector:e,tileFilter:this.searchFilter?encodeURIComponent(this.searchFilter):\"\",tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)},!0)},setSearchFilter:function(e){var t={catalogSelector:this.categoryFilter,tileFilter:e?encodeURIComponent(e):\"\",tagFilter:JSON.stringify(this.tagFilter),targetGroup:encodeURIComponent(this.getGroupContext())};this.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify(t)})},getGroupContext:function(){var e=this.getView().getModel().getProperty(\"/groupContext/path\");return e||\"\"},applyTileFilters:function(){var e,t,o,i,r=[];this.tagFilter&&((e=new sap.ui.model.Filter(\"tags\",\"EQ\",\"v\")).fnTest=function(e){var t,o;if(0===this.tagFilter.length)return!0;for(t=0;t<this.tagFilter.length;t++)if(o=this.tagFilter[t],-1===e.indexOf(o))return!1;return!0}.bind(this),r.push(e)),this.searchFilter=this.searchFilter?this.searchFilter.replace(/\\*/g,\"\"):this.searchFilter,this.searchFilter&&(t=new sap.ui.model.Filter($.map(this.searchFilter.split(/[\\s,]+/),function(e){return e&&new sap.ui.model.Filter(\"keywords\",sap.ui.model.FilterOperator.Contains,e)||e&&new sap.ui.model.Filter(\"title\",sap.ui.model.FilterOperator.Contains,e)||void 0}),!0),r.push(t)),this.categoryFilter&&(i=this.categoryFilter,o=new sap.ui.model.Filter(\"catalog\",sap.ui.model.FilterOperator.EQ,i),r.push(o)),r.push(new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0)),this.oRenderingFilter&&r.push(this.oRenderingFilter),sap.ui.getCore().byId(\"catalogTiles\").getBinding(\"tiles\").filter(r)},onLiveFilter:function(e){clearTimeout(this.timeoutId);var t=this,o=e.getParameter(\"newValue\");this.timeoutId=setTimeout(function(e){e?t.setSearchFilter(e):t.setSearchFilter()},300,o)},onTagsFilter:function(e){var t=e.getParameters(\"selectedItem\").changedItem,o=e.getParameter(\"selected\"),i=[],r=t.getText();this.tagFilter&&(i=this.tagFilter),o?i.push(r):i=i.filter(function(e){return e!==r}),this.setTagsFilter(i.length>0?JSON.stringify(i):\"\")},onCategoryFilter:function(e){var t=e.getParameter(\"selectedItem\"),o=t.getBindingContext(),i=o.getModel();i.getProperty(\"static\",o)?(i.setProperty(\"/showCatalogHeaders\",!0),this.setCategoryFilter(),this.selectedCategory=void 0):(i.setProperty(\"/showCatalogHeaders\",!1),this.setCategoryFilter(window.encodeURIComponent(t.getBindingContext().getObject().title)),this.selectedCategory=t.getId())},onTileAfterRendering:function(e){var t=e.getSource().getFootItems()[0];void 0!==t&&t.addStyleClass(\"sapUshellCatalogPlusIcon\")},catalogTilePress:function(e){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"catalogTileClick\")},onTileFooterClick:function(e){var t=e.getSource(),o=t.getBindingContext(),i=this.getView().getModel(),r=i.getProperty(\"/groupContext/path\");if(r)this._handleTileFooterClickInGroupContext(o,r);else{this.oPopoverView&&!0===this.oPopoverView.getVisible()&&this.oPopoverView.setVisible(!1);var a=i.getProperty(\"/groups\"),s=sap.ushell.Container.getService(\"LaunchPage\"),l=this.getCatalogTileDataFromModel(o),n=l.tileData.associatedGroups,g=a.map(function(e){var t=s.getGroupId(e.object),o=!(-1==$.inArray(t,n));return{selected:o,initiallySelected:o,oGroup:e}});void 0===this.oPopoverView&&(this.oPopoverView=sap.ui.getCore().byId(\"groupListPopoverView\"),void 0===this.oPopoverView&&(this.oPopoverView=new sap.ui.view({id:\"groupListPopoverView\",type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",viewData:{enableHideGroups:i.getProperty(\"/enableHideGroups\"),enableHelp:i.getProperty(\"/enableHelp\")}}),this.oPopoverView.setVisible(!1))),!1===this.oPopoverView.getVisible()&&(this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.MultiSelect),this.oPopoverView.setGroupsData(g),this.oPopoverView.setVisible(!0),this.oPopoverView.open(t).then(this._handlePopoverResponse.bind(this,o,l)))}},_handlePopoverResponse:function(e,t,o){var i=this.getView().getModel(),r=i.getProperty(\"/groups\"),a=[];o.addToGroups.forEach(function(t){var o=r.indexOf(t),s=new sap.ui.model.Context(i,\"/groups/\"+o),l=this._addTile(e,s);a.push(l)}.bind(this)),o.removeFromGroups.forEach(function(t){var o=e.getModel().getProperty(e.getPath()).id,i=r.indexOf(t),s=this._removeTile(o,i);a.push(s)}.bind(this)),o.newGroups.forEach(function(t){var o=t.length>0?t:sap.ushell.resources.i18n.getText(\"new_group_name\"),i=this._createGroupAndSaveTile(e,o);a.push(i)}.bind(this)),jQuery.when.apply(jQuery,a).then(function(){var e=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(t,o,e)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,t,o){var i=o.filter(function(e,t,o){return!e.status});if(i.length){var r=this.prepareErrorMessage(i,e.tileData.title);sap.ushell.components.flp.launchpad.DashboardManager().resetGroupsOnFailure(r.messageId,r.parameters)}else{var a=[],s=sap.ushell.Container.getService(\"LaunchPage\");t.allGroups.forEach(function(e){if(e.selected){var t=s.getGroupId(e.oGroup.object);a.push(t)}});var l=this.getView().getModel();if(t.newGroups.length){var n=l.getProperty(\"/groups\");n.slice(n.length-t.newGroups.length).forEach(function(e){var t=s.getGroupId(e.object);a.push(t)})}l.setProperty(\"/catalogTiles/\"+e.tileIndex+\"/associatedGroups\",a);var g=t.addToGroups[0]?t.addToGroups[0].title:\"\";!g.length&&t.newGroups.length&&(g=t.newGroups[0]);var p=t.removeFromGroups[0]?t.removeFromGroups[0].title:\"\",u=this.prepareDetailedMessage(e.tileData.title,t.addToGroups.length+t.newGroups.length,t.removeFromGroups.length,g,p);sap.m.MessageToast.show(u,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"})}},_getCatalogTileIndexInModel:function(e){var t=e.sPath.split(\"/\");return t[t.length-1]},_handleTileFooterClickInGroupContext:function(e,t){var o,i,r,a,s,l=sap.ushell.Container.getService(\"LaunchPage\"),n=this.getView().getModel(),g=this.getCatalogTileDataFromModel(e),p=g.tileData.associatedGroups,u=n.getProperty(t),c=l.getGroupId(u.object),d=$.inArray(c,p),h=this._getCatalogTileIndexInModel(e),m=this;g.isBeingProcessed||(n.setProperty(\"/catalogTiles/\"+h+\"/isBeingProcessed\",!0),-1==d?(o=new sap.ui.model.Context(e.getModel(),t),(i=this._addTile(e,o)).done(function(t){1==t.status?m._groupContextOperationSucceeded(e,g,u,!0):m._groupContextOperationFailed(g,u,!0)}),i.always(function(){n.setProperty(\"/catalogTiles/\"+h+\"/isBeingProcessed\",!1)})):(a=e.getModel().getProperty(e.getPath()).id,s=t.split(\"/\")[2],(r=this._removeTile(a,s)).done(function(t){1==t.status?m._groupContextOperationSucceeded(e,g,u,!1):m._groupContextOperationFailed(g,u,!1)}),r.always(function(){n.setProperty(\"/catalogTiles/\"+h+\"/isBeingProcessed\",!1)})))},_groupContextOperationSucceeded:function(e,t,o,i){var r,a,s=sap.ushell.Container.getService(\"LaunchPage\").getGroupId(o.object),l=t.tileData.associatedGroups;if(i)l.push(s),e.getModel().setProperty(\"/catalogTiles/\"+t.tileIndex+\"/associatedGroups\",l),r=this.prepareDetailedMessage(t.tileData.title,1,0,o.title,\"\");else{for(a in l)if(l[a]==s){l.splice(a,1);break}e.getModel().setProperty(\"/catalogTiles/\"+t.tileIndex+\"/associatedGroups\",l),r=this.prepareDetailedMessage(t.tileData.title,0,1,\"\",o.title)}sap.m.MessageToast.show(r,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"})},_groupContextOperationFailed:function(e,t,o){var i,r=sap.ushell.components.flp.launchpad.getDashboardManager();i=o?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_group\",parameters:[e.tileData.title,t.title]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_group\",parameters:[e.tileData.title,t.title]}),r.resetGroupsOnFailure(i.messageId,i.parameters)},prepareErrorMessage:function(e,t){var o,i,r,a,s=0,l=0,n=!1;for(var g in e)o=e[g].group,\"add\"==(i=e[g].action)?1==++s&&(r=o.title):\"remove\"==i?1==++l&&(a=o.title):\"addTileToNewGroup\"==i?1==++s&&(r=o.title):n=!0;return n?1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_create_new_group\"}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"}):1==e.length?s?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_group\",parameters:[t,r]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_group\",parameters:[t,a]}):0==l?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_add_to_several_groups\",parameters:[t]}):0==s?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_remove_from_several_groups\",parameters:[t]}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"})},prepareDetailedMessage:function(e,t,o,i,r){var a;return 0==t?1==o?a=sap.ushell.resources.i18n.getText(\"tileRemovedFromSingleGroup\",[e,r]):o>1&&(a=sap.ushell.resources.i18n.getText(\"tileRemovedFromSeveralGroups\",[e,o])):1==t?0==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroup\",[e,i]):1==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroupAndRemovedFromSingleGroup\",[e,i,r]):o>1&&(a=sap.ushell.resources.i18n.getText(\"tileAddedToSingleGroupAndRemovedFromSeveralGroups\",[e,i,o])):t>1&&(0==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroups\",[e,t]):1==o?a=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroupsAndRemovedFromSingleGroup\",[e,t,r]):o>1&&(a=sap.ushell.resources.i18n.getText(\"tileAddedToSeveralGroupsAndRemovedFromSeveralGroups\",[e,t,o]))),a},getCatalogTileDataFromModel:function(e){var t=this._getCatalogTileIndexInModel(e),o=e.getModel().getProperty(\"/catalogTiles/\"+t);return{tileData:o,tileIndex:t,isBeingProcessed:!!o.isBeingProcessed}},_addTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.createTile({catalogTileContext:e,groupContext:t}).done(function(e){i.resolve(e)}),i},_removeTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.deleteCatalogTileFromGroup({tileId:e,groupIndex:t}).done(function(e){i.resolve(e)}),i},_createGroupAndSaveTile:function(e,t){var o=sap.ushell.components.flp.launchpad.getDashboardManager(),i=jQuery.Deferred();return o.createGroupAndSaveTile({catalogTileContext:e,newGroupName:t}).done(function(e){i.resolve(e)}),i}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/Catalog.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ui.core.IconPool\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Tile\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.CatalogTileContainer\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Panel\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.Catalog\",{oController:null,createContent:function(e){this.parentComponent=this.getViewData().parentComponent;var t=this.parentComponent.getModel();this.setModel(t),this.oController=e;var a=new sap.m.Button({icon:{parts:[\"associatedGroups\",\"associatedGroups/length\",\"/groupContext/path\",\"/groupContext/id\"],formatter:function(e,t,a,o){return function(e,t,a){var o;return o=t?-1!==$.inArray(a,e)?\"accept\":\"add\":e&&e.length>0?\"accept\":\"add\",sap.ui.core.IconPool.getIconURI(o)}(e,a,o)}},tooltip:{parts:[\"i18n>addTileToGroup\",\"i18n>addAssociatedTileToGroup\",\"associatedGroups\",\"associatedGroups/length\",\"/groupContext/path\",\"/groupContext/id\",\"/groupContext/title\"],formatter:function(e,t,a,o,l,n,r){return function(e,t,a,o,l,n){var r;if(o){var s=sap.ushell.resources.i18n,i=$.inArray(l,a);r=s.getText(-1!==i?\"removeAssociatedTileFromContextGroup\":\"addAssociatedTileToContextGroup\",n)}else r=a&&a.length?t:e;return r}(e,t,a,l,n,r)}},press:[e.onTileFooterClick,e]}),o=new sap.ushell.ui.launchpad.Tile({afterRendering:[e.onTileAfterRendering,e],tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},footItems:[a],long:{path:\"size\",formatter:function(e){return null!==e&&(\"1x2\"===e||\"2x2\"===e)||!1}},index:{path:\"id\",formatter:function(e){return parseInt(e,10)||0}},tileCatalogId:\"{id}\",press:[e.catalogTilePress,e]}),l=new sap.ushell.ui.launchpad.CatalogTileContainer(\"catalogTiles\",{showHeader:!1,showPlaceholder:!1,showGroupHeader:\"{/showCatalogHeaders}\",noDataText:\"{/catalogsNoDataText}\",groupHeaderLevel:sap.m.HeaderLevel.H3,showNoData:!0,tiles:{path:\"/catalogTiles\",template:o,sorter:new sap.ui.model.Sorter(\"catalogIndex\",!1,function(e){return e&&e.getProperty(\"catalog\")||\"\"})},afterRendering:function(e){var t,a,o=this.getModel();for((this.getTiles().length||o.getProperty(\"/catalogTiles/length\"))&&(setTimeout(function(){sap.ui.getCore().byId(\"catalogSearch\").setEnabled(!0)}),o.setProperty(\"/catalogsNoDataText\",sap.ushell.resources.i18n.getText(\"noFilteredItems\")),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRendered\"),sap.ui.Device.os.ios||sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRefresh\")),jQuery.sap.byId(\"catalogTiles\").removeAttr(\"tabindex\",0),jQuery.sap.byId(\"catalogTilesPage-intHeader-BarPH\").removeAttr(\"tabindex\",0),t=jQuery(\".sapUshellTile button\"),a=0;a<t.length;a++)t[a].setAttribute(\"tabindex\",-1)}});l.addStyleClass(\"sapUshellCatalogTileContainer\"),l.addEventDelegate({onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogSelect\").focus()}catch(e){}}}),a.constructor.prototype.setIcon=function(e){return this.setProperty(\"icon\",e,!0),e&&this._image&&this._image.setSrc&&this._image.setSrc(e),this};var n=new sap.ui.model.Filter(\"numIntentSupportedTiles\",sap.ui.model.FilterOperator.NE,0),r=new sap.m.Select(\"catalogSelect\",{visible:\"{/catalogSelection}\",name:\"Browse\",tooltip:\"{i18n>catalogSelect_tooltip}\",width:\"17rem\",items:{path:\"/catalogs\",template:new sap.ui.core.ListItem({text:\"{title}\"}),filters:[n]},change:[e.onCategoryFilter,e]}),s=r.onAfterRendering;r.addEventDelegate({onsapskipforward:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),jQuery(\"#catalogTiles .sapUshellTile:visible:first\").focus()}catch(e){}},onsaptabprevious:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}},onsapskipback:function(e){try{e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}}}),t.getProperty(\"/enableHelp\")&&r.addStyleClass(\"help-id-catalogCategorySelect\"),r.onAfterRendering=function(){s&&s.apply(this,arguments),jQuery.sap.byId(\"catalogSelect\").attr(\"tabindex\",0)};var i=r._onAfterRenderingPopover;r._onAfterRenderingPopover=function(){this._oPopover&&this._oPopover.setFollowOf(!1),i&&i.apply(this,arguments)};var p=new sap.m.SearchField(\"catalogSearch\",{visible:\"{/searchFiltering}\",tooltip:\"{i18n>catalogSearch_tooltip}\",width:\"17rem\",enabled:!1,value:{path:\"/catalogSearchFilter\"},placeholder:\"{i18n>search_catalog}\",liveChange:[e.onLiveFilter,e]}).addStyleClass(\"sapUshellCatalogSearch\"),c=p.onAfterRendering;t.getProperty(\"/enableHelp\")&&p.addStyleClass(\"help-id-catalogSearch\"),p.onAfterRendering=function(){c.apply(this,arguments),jQuery.sap.byId(\"catalogSearch\").find(\"input\").attr(\"tabindex\",0),this.data(\"sap-ui-fastnavgroup\",\"true\",!0)},p.addEventDelegate({onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogTilesPage header button\")[0].focus()}catch(e){}},onsapskipforward:function(e){try{e.preventDefault();var t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(t)}catch(e){}},onsaptabnext:function(e){try{if(!u.getVisible()){e.preventDefault();var t=jQuery(\".sapUshellTile:visible\"),a=jQuery(t[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),a.focus()}}catch(e){}}});var u=new sap.m.MultiComboBox(\"catalogTagFilter\",{visible:\"{/tagFiltering}\",selectedKeys:{path:\"/selectedTags\",mode:sap.ui.model.BindingMode.TwoWay},tooltip:\"{i18n>catalogTilesTagfilter_tooltip}\",width:\"17rem\",placeholder:\"{i18n>catalogTilesTagfilter_HintText}\",items:{path:\"/tagList\",sorter:new sap.ui.model.Sorter(\"tag\",!1,!1),template:new sap.ui.core.ListItem({text:\"{tag}\",key:\"{tag}\"})},selectionChange:[e.onTagsFilter,e]});t.getProperty(\"/enableHelp\")&&u.addStyleClass(\"help-id-catalogTagFilter\"),u.addEventDelegate({onsaptabnext:function(e){try{e.preventDefault();var t=jQuery(\".sapUshellTile:visible\"),a=jQuery(t[0]);sap.ushell.components.flp.ComponentKeysHandler.setFocusOnCatalogTile(),a.focus()}catch(e){}},onsapskipback:function(e){try{e.preventDefault(),jQuery(\"#catalogSelect\").focus()}catch(e){}},onsapskipforward:function(e){try{e.preventDefault();var t=jQuery(\"#catalogTiles .sapUshellTile:visible:first\");sap.ushell.components.flp.ComponentKeysHandler.setTileFocus(t)}catch(e){}}});var d=new sap.m.Page(\"catalogTilesPage\",{showHeader:!1,showFooter:!1,showNavButton:!1,content:[new sap.ushell.ui.launchpad.Panel({translucent:!0,headerText:\"\",headerLevel:sap.m.HeaderLevel.H2,headerBar:new sap.m.Bar(\"catalogHeader\",{translucent:!0,tooltip:\"{i18n>tile_catalog_header_tooltip}\",contentLeft:[r,p,u]}).addStyleClass(\"sapUshellCatalogHeaderBar\"),content:[l]}).addStyleClass(\"sapUshellCatalogPage\")]});return d.addDelegate({onAfterRendering:function(){jQuery(\"#catalogTilesPage header button\").attr(\"tabindex\",-1)}}),d},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.Catalog\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/EasyAccess-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",{DEFAULT_URL:\"/sap/opu/odata/UI2\",DEFAULT_NUMBER_OF_LEVELS:3,onInit:function(){this.translationBundle=sap.ushell.resources.i18n,this.oView=this.getView();var e=this.oView.getModel(\"easyAccessSystemsModel\");new sap.ui.model.Binding(e,\"/systemSelected\",e.getContext(\"/systemSelected\")).attachChange(this.adjustUiOnSystemChange.bind(this)),this.menuName=this.oView.getViewData().menuName,this.systemId=null,this.easyAccessCache={},this.easyAccessModel=new sap.ui.model.json.JSONModel,this.oView.hierarchyFolders.setModel(this.easyAccessModel,\"easyAccess\"),this.oView.hierarchyApps.setModel(this.easyAccessModel,\"easyAccess\"),this.checkIfSystemSelectedAndLoadData()},onAfterRendering:function(){this.oView.hierarchyApps.getController()._updateAppBoxedWithPinStatuses()},checkIfSystemSelectedAndLoadData:function(){var e=this.oView.getModel(\"easyAccessSystemsModel\").getProperty(\"/systemSelected\");e&&(this.systemId=e.systemId,this.loadMenuItemsFirstTime(this.oView.getViewData().menuName,e))},navigateHierarchy:function(e,t){this.oView.hierarchyFolders.setBusy(!1);var s=this.easyAccessModel.getProperty(e||\"/\");if(void 0!==s.folders)return this.oView.hierarchyFolders.updatePageBindings(e,t),void this.oView.hierarchyApps.getController().updatePageBindings(e);this.oView.hierarchyFolders.setBusy(!0),this.getMenuItems(this.menuName,this.systemId,s.id,s.level).then(function(e,s){this.easyAccessModel.setProperty(e+\"/folders\",s.folders),this.easyAccessModel.setProperty(e+\"/apps\",s.apps),this.oView.hierarchyFolders.updatePageBindings(e,t),this.oView.hierarchyApps.getController().updatePageBindings(e),this.oView.hierarchyFolders.setBusy(!1)}.bind(this,e),function(e){this.handleGetMenuItemsError(e)}.bind(this))},adjustUiOnSystemChange:function(){this.systemId&&this.easyAccessModel.getData()&&(this.easyAccessCache[this.systemId]=this.easyAccessModel.getData());var e=this.oView.getModel(\"easyAccessSystemsModel\").getProperty(\"/systemSelected\");if(e){this.systemId=e.systemId;var t=this.easyAccessCache[this.systemId];t?(this.easyAccessModel.setData(t),this.navigateHierarchy(\"\",!1)):(this.oView.hierarchyFolders.setBusy(!0),this.loadMenuItemsFirstTime(this.menuName,e))}},loadMenuItemsFirstTime:function(e,t){return this.getMenuItems(e,t.systemId,\"\",0).then(function(e){e.text=t.systemName||t.systemId,this.easyAccessModel.setData(e),this.oView.hierarchyFolders.setBusy(!1),this.navigateHierarchy(\"\",!1)}.bind(this),function(e){this.handleGetMenuItemsError(e),this.oView.hierarchyFolders.updatePageBindings(\"/\",!1),this.oView.hierarchyApps.getController().updatePageBindings(\"/\")}.bind(this))},handleGetMenuItemsError:function(e){jQuery.sap.require(\"sap.m.MessageBox\");var t=this.getErrorMessage(e);sap.m.MessageBox.error(t),this.easyAccessModel.setData(\"\"),this.oView.hierarchyFolders.setBusy(!1)},getErrorMessage:function(e){var t=\"\";return\"SAP_MENU\"==this.menuName?t=this.translationBundle.getText(\"easyAccessSapMenuNameParameter\"):\"USER_MENU\"==this.menuName&&(t=this.translationBundle.getText(\"easyAccessUserMenuNameParameter\")),e?e.message?this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsg\",[t,e.message]):this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsg\",[t,e]):this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsgNoReason\",t)},getMenuItems:function(e,t,s,r,i){var a=new jQuery.Deferred;\"SAP_MENU\"!=e&&\"USER_MENU\"!=e&&a.reject(\"Invalid menuType parameter\"),\"string\"==typeof t&&\"\"!==t||a.reject(\"Invalid systemId parameter\"),\"string\"!=typeof s&&a.reject(\"Invalid entityId parameter\"),\"number\"!=typeof r&&a.reject(\"Invalid entityLevel parameter\"),i&&\"number\"!=typeof i&&a.reject(\"Invalid numberOfNextLevels parameter\"),\"\"==s&&(r=0);var o=this.getView().getModel().getProperty(\"/easyAccessNumbersOfLevels\"),n=r+(o||(i||this.DEFAULT_NUMBER_OF_LEVELS))+1,l={requestUri:this._getODataRequestUrl(e,t,s,n)},d=this._callODataService(l,t,s,n);return d.done(function(e){a.resolve(e)}),d.fail(function(e){a.reject(e)}),a.promise()},_callODataService:function(e,t,s,r){jQuery.sap.require(\"sap.ui.thirdparty.datajs\");var i=this,a=new jQuery.Deferred;return OData.read(e,function(e,o){if(e&&e.results&&o&&200===o.statusCode){var n=i._oDataResultFormatter(e.results,t,s,r);a.resolve(n)}},function(e){a.reject(e)}),a.promise()},_appendSystemToUrl:function(e,t){if(e.url)return e.url+(e.url.indexOf(\"?\")>0?\"&\":\"?\")+\"sap-system=\"+t},_oDataResultFormatter:function(e,t,s,r){var i,a={},o={};\"\"==s?(o={id:\"root\",text:\"root\",level:0,folders:[],apps:[]},a.root=o):(o={id:s,folders:[],apps:[]},a[s]=o);for(var n=0;n<e.length;n++){var l;l=\"\"==(i=e[n]).parentId&&\"01\"==i.level?a.root:a[i.parentId];var d={id:i.Id,text:i.text,level:parseInt(i.level,10)};\"FL\"==i.type?(d.folders=[],d.apps=[],i.level==r-1&&(d.folders=void 0,d.apps=void 0),l&&l.folders&&l.folders.push(d),a[i.Id]=d):(d.url=this._appendSystemToUrl(i,t),l&&l.apps&&l.apps.push(d))}return o},_getODataRequestUrl:function(e,t,s,r){var i,a,o=this.getView().getModel();if(\"SAP_MENU\"==e){var n=o.getProperty(\"/sapMenuServiceUrl\");i=n||this.DEFAULT_URL+\"/EASY_ACCESS_MENU\"}else if(\"USER_MENU\"==e){var l=o.getProperty(\"/userMenuServiceUrl\");i=l||this.DEFAULT_URL+\"/USER_MENU\"}a=r<10?\"0\"+r:r.toString();var d=\"\";return s&&(decodeURIComponent(s)===s&&(s=encodeURIComponent(s)),d=\"('\"+s+\"')/AllChildren\"),i+\";o=\"+t+\"/MenuItems\"+d+\"?$filter=level lt '\"+a+\"'&$orderby=level,text\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/EasyAccess-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",{createContent:function(e){this.setModel(this.getViewData().easyAccessSystemsModel,\"easyAccessSystemsModel\"),this.setModel(this.getViewData().parentComponent.getModel()),this.hierarchyFolders=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",height:\"100%\",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(e),easyAccessSystemsModel:this.getModel(\"easyAccessSystemsModel\")}}),this.hierarchyFolders.addStyleClass(\"sapUshellHierarchyFolders\"),this.hierarchyApps=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",height:\"100%\",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(e)}}),this.hierarchyApps.addStyleClass(\" sapUshellAppsView sapMShellGlobalInnerBackground\");var s=new sap.m.SplitApp({masterPages:this.hierarchyFolders,detailPages:this.hierarchyApps});return s.setInitialMaster(this.hierarchyFolders),s.setInitialDetail(this.hierarchyApps),s},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/EasyAccess.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",{DEFAULT_URL:\"/sap/opu/odata/UI2\",DEFAULT_NUMBER_OF_LEVELS:3,onInit:function(){this.translationBundle=sap.ushell.resources.i18n,this.oView=this.getView();var e=this.oView.getModel(\"easyAccessSystemsModel\");new sap.ui.model.Binding(e,\"/systemSelected\",e.getContext(\"/systemSelected\")).attachChange(this.adjustUiOnSystemChange.bind(this)),this.menuName=this.oView.getViewData().menuName,this.systemId=null,this.easyAccessCache={},this.easyAccessModel=new sap.ui.model.json.JSONModel,this.oView.hierarchyFolders.setModel(this.easyAccessModel,\"easyAccess\"),this.oView.hierarchyApps.setModel(this.easyAccessModel,\"easyAccess\"),this.checkIfSystemSelectedAndLoadData()},onAfterRendering:function(){this.oView.hierarchyApps.getController()._updateAppBoxedWithPinStatuses()},checkIfSystemSelectedAndLoadData:function(){var e=this.oView.getModel(\"easyAccessSystemsModel\").getProperty(\"/systemSelected\");e&&(this.systemId=e.systemId,this.loadMenuItemsFirstTime(this.oView.getViewData().menuName,e))},navigateHierarchy:function(e,t){this.oView.hierarchyFolders.setBusy(!1);var s=this.easyAccessModel.getProperty(e||\"/\");if(void 0!==s.folders)return this.oView.hierarchyFolders.updatePageBindings(e,t),void this.oView.hierarchyApps.getController().updatePageBindings(e);this.oView.hierarchyFolders.setBusy(!0),this.getMenuItems(this.menuName,this.systemId,s.id,s.level).then(function(e,s){this.easyAccessModel.setProperty(e+\"/folders\",s.folders),this.easyAccessModel.setProperty(e+\"/apps\",s.apps),this.oView.hierarchyFolders.updatePageBindings(e,t),this.oView.hierarchyApps.getController().updatePageBindings(e),this.oView.hierarchyFolders.setBusy(!1)}.bind(this,e),function(e){this.handleGetMenuItemsError(e)}.bind(this))},adjustUiOnSystemChange:function(){this.systemId&&this.easyAccessModel.getData()&&(this.easyAccessCache[this.systemId]=this.easyAccessModel.getData());var e=this.oView.getModel(\"easyAccessSystemsModel\").getProperty(\"/systemSelected\");if(e){this.systemId=e.systemId;var t=this.easyAccessCache[this.systemId];t?(this.easyAccessModel.setData(t),this.navigateHierarchy(\"\",!1)):(this.oView.hierarchyFolders.setBusy(!0),this.loadMenuItemsFirstTime(this.menuName,e))}},loadMenuItemsFirstTime:function(e,t){return this.getMenuItems(e,t.systemId,\"\",0).then(function(e){e.text=t.systemName||t.systemId,this.easyAccessModel.setData(e),this.oView.hierarchyFolders.setBusy(!1),this.navigateHierarchy(\"\",!1)}.bind(this),function(e){this.handleGetMenuItemsError(e),this.oView.hierarchyFolders.updatePageBindings(\"/\",!1),this.oView.hierarchyApps.getController().updatePageBindings(\"/\")}.bind(this))},handleGetMenuItemsError:function(e){jQuery.sap.require(\"sap.m.MessageBox\");var t=this.getErrorMessage(e);sap.m.MessageBox.error(t),this.easyAccessModel.setData(\"\"),this.oView.hierarchyFolders.setBusy(!1)},getErrorMessage:function(e){var t=\"\";return\"SAP_MENU\"==this.menuName?t=this.translationBundle.getText(\"easyAccessSapMenuNameParameter\"):\"USER_MENU\"==this.menuName&&(t=this.translationBundle.getText(\"easyAccessUserMenuNameParameter\")),e?e.message?this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsg\",[t,e.message]):this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsg\",[t,e]):this.translationBundle.getText(\"easyAccessErrorGetDataErrorMsgNoReason\",t)},getMenuItems:function(e,t,s,r,i){var a=new jQuery.Deferred;\"SAP_MENU\"!=e&&\"USER_MENU\"!=e&&a.reject(\"Invalid menuType parameter\"),\"string\"==typeof t&&\"\"!==t||a.reject(\"Invalid systemId parameter\"),\"string\"!=typeof s&&a.reject(\"Invalid entityId parameter\"),\"number\"!=typeof r&&a.reject(\"Invalid entityLevel parameter\"),i&&\"number\"!=typeof i&&a.reject(\"Invalid numberOfNextLevels parameter\"),\"\"==s&&(r=0);var o=this.getView().getModel().getProperty(\"/easyAccessNumbersOfLevels\"),n=r+(o||(i||this.DEFAULT_NUMBER_OF_LEVELS))+1,l={requestUri:this._getODataRequestUrl(e,t,s,n)},d=this._callODataService(l,t,s,n);return d.done(function(e){a.resolve(e)}),d.fail(function(e){a.reject(e)}),a.promise()},_callODataService:function(e,t,s,r){jQuery.sap.require(\"sap.ui.thirdparty.datajs\");var i=this,a=new jQuery.Deferred;return OData.read(e,function(e,o){if(e&&e.results&&o&&200===o.statusCode){var n=i._oDataResultFormatter(e.results,t,s,r);a.resolve(n)}},function(e){a.reject(e)}),a.promise()},_appendSystemToUrl:function(e,t){if(e.url)return e.url+(e.url.indexOf(\"?\")>0?\"&\":\"?\")+\"sap-system=\"+t},_oDataResultFormatter:function(e,t,s,r){var i,a={},o={};\"\"==s?(o={id:\"root\",text:\"root\",level:0,folders:[],apps:[]},a.root=o):(o={id:s,folders:[],apps:[]},a[s]=o);for(var n=0;n<e.length;n++){var l;l=\"\"==(i=e[n]).parentId&&\"01\"==i.level?a.root:a[i.parentId];var d={id:i.Id,text:i.text,level:parseInt(i.level,10)};\"FL\"==i.type?(d.folders=[],d.apps=[],i.level==r-1&&(d.folders=void 0,d.apps=void 0),l&&l.folders&&l.folders.push(d),a[i.Id]=d):(d.url=this._appendSystemToUrl(i,t),l&&l.apps&&l.apps.push(d))}return o},_getODataRequestUrl:function(e,t,s,r){var i,a,o=this.getView().getModel();if(\"SAP_MENU\"==e){var n=o.getProperty(\"/sapMenuServiceUrl\");i=n||this.DEFAULT_URL+\"/EASY_ACCESS_MENU\"}else if(\"USER_MENU\"==e){var l=o.getProperty(\"/userMenuServiceUrl\");i=l||this.DEFAULT_URL+\"/USER_MENU\"}a=r<10?\"0\"+r:r.toString();var d=\"\";return s&&(decodeURIComponent(s)===s&&(s=encodeURIComponent(s)),d=\"('\"+s+\"')/AllChildren\"),i+\";o=\"+t+\"/MenuItems\"+d+\"?$filter=level lt '\"+a+\"'&$orderby=level,text\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/EasyAccess.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\",{createContent:function(e){this.setModel(this.getViewData().easyAccessSystemsModel,\"easyAccessSystemsModel\"),this.setModel(this.getViewData().parentComponent.getModel()),this.hierarchyFolders=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",height:\"100%\",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(e),easyAccessSystemsModel:this.getModel(\"easyAccessSystemsModel\")}}),this.hierarchyFolders.addStyleClass(\"sapUshellHierarchyFolders\"),this.hierarchyApps=new sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",height:\"100%\",viewData:{navigateHierarchy:this.oController.navigateHierarchy.bind(e)}}),this.hierarchyApps.addStyleClass(\" sapUshellAppsView sapMShellGlobalInnerBackground\");var s=new sap.m.SplitApp({masterPages:this.hierarchyFolders,detailPages:this.hierarchyApps});return s.setInitialMaster(this.hierarchyFolders),s.setInitialDetail(this.hierarchyApps),s},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.EasyAccess\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/GroupListPopover-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",{onInit:function(){var e=this.getView();this.oPopoverModel=new sap.ui.model.json.JSONModel,e.oPopover.setModel(this.oPopoverModel)},okButtonHandler:function(e){var o,t=this.getView(),r=this.oPopoverModel.getProperty(\"/userGroupList\");this._isListModeMultiSelect()&&\"select\"===e.sId||(e.preventDefault(),e._bIsStopHandlers=!0,r=this.oPopoverModel.getProperty(\"/userGroupList\"),o={addToGroups:[],removeFromGroups:[],newGroups:[],allGroups:r},r.forEach(function(e){e.selected!==e.initiallySelected&&(e.selected?o.addToGroups.push(e.oGroup):o.removeFromGroups.push(e.oGroup))}),t.newGroupInput&&t.newGroupInput.getValue().length&&o.newGroups.push(t.newGroupInput.getValue()),t.oPopover.close(),t.deferred.resolve(o))},_isListModeMultiSelect:function(){return this.getView().oGroupList.getMode()===sap.m.ListMode.MultiSelect},_isListModeSingleSelectMaster:function(){return this.getView().oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster},_cancelButtonHandler:function(e){e.preventDefault(),e._bIsStopHandlers=!0;var o=this.getView();o.oPopover.close(),o.deferred.reject()},_navigateToCreateNewGroupPane:function(){var e=this.getView();e.headBarForNewGroup||(e.headBarForNewGroup=e._createHeadBarForNewGroup()),e.newGroupInput||(e.newGroupInput=e._createNewGroupInput()),e.oPopover.removeAllContent(),e.oPopover.addContent(e.newGroupInput),e.oPopover.setCustomHeader(e.headBarForNewGroup),e.oPopover.setContentHeight(\"\"),this._isListModeSingleSelectMaster()&&this._setFooterVisibility(!0),setTimeout(function(){e.newGroupInput.focus()},0)},_afterCloseHandler:function(){var e=this.getView();e.oPopover.removeAllContent(),e.oPopover.addContent(e.oGroupsContainer),e.oPopover.setTitle(sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\")),e.oPopover.setCustomHeader(),e.setVisible(!1)},_backButtonHandler:function(){var e=this.getView();e.oPopover.removeAllContent(),this._isListModeSingleSelectMaster()&&this._setFooterVisibility(!1),sap.ui.Device.system.phone?e.oPopover.setContentHeight(\"100%\"):e.oPopover.setContentHeight(e.iPopoverDataSectionHeight+\"px\"),e.oPopover.setVerticalScrolling(!0),e.oPopover.setHorizontalScrolling(!1),e.oPopover.addContent(e.oGroupsContainer),e.oPopover.setTitle(sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\")),e.oPopover.setCustomHeader(),e.newGroupInput.setValue(\"\")},_setFooterVisibility:function(e){var o=sap.ui.getCore().byId(\"groupsPopover-footer\");o&&o.setVisible(e)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/GroupListPopover-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",{bPopoverCreated:!1,oPopover:void 0,oGroupList:void 0,createContent:function(e){this.iPopoverDataSectionHeight=192,this.oGroupsContainer=this._createPopoverContainer(this.iPopoverDataSectionHeight),this.bPopoverCreated||(this.oPopover=new sap.m.ResponsivePopover({id:\"groupsPopover\",placement:sap.m.PlacementType.Auto,enableScrolling:!0,title:sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\"),contentWidth:\"20rem\",beginButton:this._createOkButton(),endButton:this._createCancelButton(),content:this.oGroupsContainer,afterClose:this.getController()._afterCloseHandler.bind(this.getController())}),this.bPopoverCreated=!0,this.oPopover.setInitialFocus(\"newGroupItem\"))},setGroupsData:function(e){this.getController().oPopoverModel.setData({userGroupList:e})},setGroupListSingleSelection:function(e){this.oGroupList.setMode(e),e===sap.m.ListMode.SingleSelectMaster?this.oGroupList.attachSelect(this.getController().okButtonHandler.bind(this.getController())):this.oGroupList.detachSelect(this.getController().okButtonHandler,this.getController())},open:function(e){return document.body.clientHeight-e.getDomRef().getBoundingClientRect().bottom>=310?this.oPopover.setPlacement(sap.m.PlacementType.Bottom):this.oPopover.setPlacement(sap.m.PlacementType.Auto),this.oPopover.openBy(e),void 0!==this.newGroupInput&&this.newGroupInput.setValue(\"\"),this.oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster?this.getController()._setFooterVisibility(!1):this.getController()._setFooterVisibility(!0),this.deferred=jQuery.Deferred(),this.deferred.promise()},_createPopoverContainer:function(e){var t,o,r=this._createNewGroupUiElements();return o=this._createPopoverGroupList(),t=new sap.m.ScrollContainer({horizontal:!1,vertical:!0,content:[r,o]}),sap.ui.Device.system.phone?t.setHeight(\"100%\"):t.setHeight(e-2+\"px\"),t},_createNewGroupUiElements:function(){var e=new sap.m.StandardListItem({id:\"newGroupItem\",title:sap.ushell.resources.i18n.getText(\"newGroup_listItemText\"),type:\"Navigation\",press:this.getController()._navigateToCreateNewGroupPane.bind(this.getController())}),t=new sap.m.List({});return this.getViewData().enableHelp&&e.addStyleClass(\"help-id-newGroupItem\"),t.addItem(e),t},_createNewGroupInput:function(){var e=new sap.m.Input({id:\"newGroupNameInput\",type:\"Text\",placeholder:sap.ushell.resources.i18n.getText(\"new_group_name\")});return e.setValueState(sap.ui.core.ValueState.None),e.setPlaceholder(sap.ushell.resources.i18n.getText(\"new_group_name\")),e.enabled=!0,e.addStyleClass(\"sapUshellCatalogNewGroupInput\"),e},_createHeadBarForNewGroup:function(){var e=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI(\"nav-back\"),press:this.getController()._backButtonHandler.bind(this.getController()),tooltip:sap.ushell.resources.i18n.getText(\"newGroupGoBackBtn_tooltip\")});return e.addStyleClass(\"sapUshellCatalogNewGroupBackButton\"),new sap.m.Bar({contentLeft:[e],contentMiddle:[new sap.m.Label({text:sap.ushell.resources.i18n.getText(\"newGroup_popoverTitle\")})]})},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\"},_createPopoverGroupList:function(){var e=new sap.m.DisplayListItem({label:\"{oGroup/title}\",selected:\"{selected}\",tooltip:\"{oGroup/title}\",type:sap.m.ListType.Active}),t=this,o=[];return o.push(new sap.ui.model.Filter(\"oGroup/isGroupLocked\",sap.ui.model.FilterOperator.EQ,!1)),this.getViewData().enableHideGroups&&o.push(new sap.ui.model.Filter(\"oGroup/isGroupVisible\",sap.ui.model.FilterOperator.EQ,!0)),this.oGroupList=new sap.m.List(\"groupListId\",{includeItemInSelection:!0,items:{path:\"/userGroupList\",template:e,filters:o}}),this.oGroupList.addEventDelegate({onsapup:function(e){try{if(e.preventDefault(),t.getView().getModel().getProperty(\"/groups/length\"))0===jQuery(\":focus\").index()&&(jQuery(\"#newGroupItem\").focus(),e._bIsStopHandlers=!0)}catch(e){jQuery.sap.log.error(\"Groups popup Accessibility `up` key failed\")}}}),this.oGroupList},_createOkButton:function(){var e=new sap.m.Button({id:\"okButton\",press:this.getController().okButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText(\"okBtn\")});return e.addEventDelegate({onsaptabprevious:function(e){try{e.preventDefault(),e._bIsStopHandlers=!0;var t=jQuery(\"#newGroupItem\");t.length||(t=jQuery(\"#newGroupNameInput input\")),t.focus()}catch(e){jQuery.sap.log.error(\"Groups popup Accessibility `shift-tab` key failed\")}}}),e},_createCancelButton:function(){return new sap.m.Button({id:\"cancelButton\",press:this.getController()._cancelButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText(\"cancelBtn\")})}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/GroupListPopover.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",{onInit:function(){var e=this.getView();this.oPopoverModel=new sap.ui.model.json.JSONModel,e.oPopover.setModel(this.oPopoverModel)},okButtonHandler:function(e){var o,t=this.getView(),r=this.oPopoverModel.getProperty(\"/userGroupList\");this._isListModeMultiSelect()&&\"select\"===e.sId||(e.preventDefault(),e._bIsStopHandlers=!0,r=this.oPopoverModel.getProperty(\"/userGroupList\"),o={addToGroups:[],removeFromGroups:[],newGroups:[],allGroups:r},r.forEach(function(e){e.selected!==e.initiallySelected&&(e.selected?o.addToGroups.push(e.oGroup):o.removeFromGroups.push(e.oGroup))}),t.newGroupInput&&t.newGroupInput.getValue().length&&o.newGroups.push(t.newGroupInput.getValue()),t.oPopover.close(),t.deferred.resolve(o))},_isListModeMultiSelect:function(){return this.getView().oGroupList.getMode()===sap.m.ListMode.MultiSelect},_isListModeSingleSelectMaster:function(){return this.getView().oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster},_cancelButtonHandler:function(e){e.preventDefault(),e._bIsStopHandlers=!0;var o=this.getView();o.oPopover.close(),o.deferred.reject()},_navigateToCreateNewGroupPane:function(){var e=this.getView();e.headBarForNewGroup||(e.headBarForNewGroup=e._createHeadBarForNewGroup()),e.newGroupInput||(e.newGroupInput=e._createNewGroupInput()),e.oPopover.removeAllContent(),e.oPopover.addContent(e.newGroupInput),e.oPopover.setCustomHeader(e.headBarForNewGroup),e.oPopover.setContentHeight(\"\"),this._isListModeSingleSelectMaster()&&this._setFooterVisibility(!0),setTimeout(function(){e.newGroupInput.focus()},0)},_afterCloseHandler:function(){var e=this.getView();e.oPopover.removeAllContent(),e.oPopover.addContent(e.oGroupsContainer),e.oPopover.setTitle(sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\")),e.oPopover.setCustomHeader(),e.setVisible(!1)},_backButtonHandler:function(){var e=this.getView();e.oPopover.removeAllContent(),this._isListModeSingleSelectMaster()&&this._setFooterVisibility(!1),sap.ui.Device.system.phone?e.oPopover.setContentHeight(\"100%\"):e.oPopover.setContentHeight(e.iPopoverDataSectionHeight+\"px\"),e.oPopover.setVerticalScrolling(!0),e.oPopover.setHorizontalScrolling(!1),e.oPopover.addContent(e.oGroupsContainer),e.oPopover.setTitle(sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\")),e.oPopover.setCustomHeader(),e.newGroupInput.setValue(\"\")},_setFooterVisibility:function(e){var o=sap.ui.getCore().byId(\"groupsPopover-footer\");o&&o.setVisible(e)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/GroupListPopover.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",{bPopoverCreated:!1,oPopover:void 0,oGroupList:void 0,createContent:function(e){this.iPopoverDataSectionHeight=192,this.oGroupsContainer=this._createPopoverContainer(this.iPopoverDataSectionHeight),this.bPopoverCreated||(this.oPopover=new sap.m.ResponsivePopover({id:\"groupsPopover\",placement:sap.m.PlacementType.Auto,enableScrolling:!0,title:sap.ushell.resources.i18n.getText(\"addTileToGroups_popoverTitle\"),contentWidth:\"20rem\",beginButton:this._createOkButton(),endButton:this._createCancelButton(),content:this.oGroupsContainer,afterClose:this.getController()._afterCloseHandler.bind(this.getController())}),this.bPopoverCreated=!0,this.oPopover.setInitialFocus(\"newGroupItem\"))},setGroupsData:function(e){this.getController().oPopoverModel.setData({userGroupList:e})},setGroupListSingleSelection:function(e){this.oGroupList.setMode(e),e===sap.m.ListMode.SingleSelectMaster?this.oGroupList.attachSelect(this.getController().okButtonHandler.bind(this.getController())):this.oGroupList.detachSelect(this.getController().okButtonHandler,this.getController())},open:function(e){return document.body.clientHeight-e.getDomRef().getBoundingClientRect().bottom>=310?this.oPopover.setPlacement(sap.m.PlacementType.Bottom):this.oPopover.setPlacement(sap.m.PlacementType.Auto),this.oPopover.openBy(e),void 0!==this.newGroupInput&&this.newGroupInput.setValue(\"\"),this.oGroupList.getMode()===sap.m.ListMode.SingleSelectMaster?this.getController()._setFooterVisibility(!1):this.getController()._setFooterVisibility(!0),this.deferred=jQuery.Deferred(),this.deferred.promise()},_createPopoverContainer:function(e){var t,o,r=this._createNewGroupUiElements();return o=this._createPopoverGroupList(),t=new sap.m.ScrollContainer({horizontal:!1,vertical:!0,content:[r,o]}),sap.ui.Device.system.phone?t.setHeight(\"100%\"):t.setHeight(e-2+\"px\"),t},_createNewGroupUiElements:function(){var e=new sap.m.StandardListItem({id:\"newGroupItem\",title:sap.ushell.resources.i18n.getText(\"newGroup_listItemText\"),type:\"Navigation\",press:this.getController()._navigateToCreateNewGroupPane.bind(this.getController())}),t=new sap.m.List({});return this.getViewData().enableHelp&&e.addStyleClass(\"help-id-newGroupItem\"),t.addItem(e),t},_createNewGroupInput:function(){var e=new sap.m.Input({id:\"newGroupNameInput\",type:\"Text\",placeholder:sap.ushell.resources.i18n.getText(\"new_group_name\")});return e.setValueState(sap.ui.core.ValueState.None),e.setPlaceholder(sap.ushell.resources.i18n.getText(\"new_group_name\")),e.enabled=!0,e.addStyleClass(\"sapUshellCatalogNewGroupInput\"),e},_createHeadBarForNewGroup:function(){var e=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI(\"nav-back\"),press:this.getController()._backButtonHandler.bind(this.getController()),tooltip:sap.ushell.resources.i18n.getText(\"newGroupGoBackBtn_tooltip\")});return e.addStyleClass(\"sapUshellCatalogNewGroupBackButton\"),new sap.m.Bar({contentLeft:[e],contentMiddle:[new sap.m.Label({text:sap.ushell.resources.i18n.getText(\"newGroup_popoverTitle\")})]})},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\"},_createPopoverGroupList:function(){var e=new sap.m.DisplayListItem({label:\"{oGroup/title}\",selected:\"{selected}\",tooltip:\"{oGroup/title}\",type:sap.m.ListType.Active}),t=this,o=[];return o.push(new sap.ui.model.Filter(\"oGroup/isGroupLocked\",sap.ui.model.FilterOperator.EQ,!1)),this.getViewData().enableHideGroups&&o.push(new sap.ui.model.Filter(\"oGroup/isGroupVisible\",sap.ui.model.FilterOperator.EQ,!0)),this.oGroupList=new sap.m.List(\"groupListId\",{includeItemInSelection:!0,items:{path:\"/userGroupList\",template:e,filters:o}}),this.oGroupList.addEventDelegate({onsapup:function(e){try{if(e.preventDefault(),t.getView().getModel().getProperty(\"/groups/length\"))0===jQuery(\":focus\").index()&&(jQuery(\"#newGroupItem\").focus(),e._bIsStopHandlers=!0)}catch(e){jQuery.sap.log.error(\"Groups popup Accessibility `up` key failed\")}}}),this.oGroupList},_createOkButton:function(){var e=new sap.m.Button({id:\"okButton\",press:this.getController().okButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText(\"okBtn\")});return e.addEventDelegate({onsaptabprevious:function(e){try{e.preventDefault(),e._bIsStopHandlers=!0;var t=jQuery(\"#newGroupItem\");t.length||(t=jQuery(\"#newGroupNameInput input\")),t.focus()}catch(e){jQuery.sap.log.error(\"Groups popup Accessibility `shift-tab` key failed\")}}}),e},_createCancelButton:function(){return new sap.m.Button({id:\"cancelButton\",press:this.getController()._cancelButtonHandler.bind(this.getController()),text:sap.ushell.resources.i18n.getText(\"cancelBtn\")})}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyApps-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",{onInit:function(){},oPopoverView:void 0,getCrumbsData:function(e,o){var t,r=e.split(\"/\"),s=[],a=r.join(\"/\");for(r.splice(r.length-2,2);r.length;)a=r.join(\"/\"),t=o.getProperty(a+\"/text\"),s.unshift({text:t,path:a}),r.splice(r.length-2,2);return s},_updateAppBoxedWithPinStatuses:function(e){var o=this.getView();e||(e=o.layout.getBinding(\"items\").getPath());var t=o.getModel(\"easyAccess\"),r=t.getProperty(e),s=sap.ushell.Container.getService(\"Bookmark\"),a=r.map(function(e){return s.countBookmarks(e.url).then(function(o){return e.bookmarkCount=o,e})});jQuery.when.apply(jQuery,a).then(function(){var o=Array.prototype.slice.call(arguments);t.setProperty(e,o)})},updatePageBindings:function(e){this.getView().layout.bindAggregation(\"items\",\"easyAccess>\"+e+\"/apps\",this.getView().oItemTemplate),this._updateAppBoxedWithPinStatuses(e+\"/apps\"),this.getView().breadcrumbs.bindProperty(\"currentLocationText\",\"easyAccess>\"+e+\"/text\");var o=this.getCrumbsData(e,this.getView().getModel(\"easyAccess\"));this.getView().crumbsModel.setProperty(\"/crumbs\",o)},onAppBoxPressed:function(e){if(!e.mParameters.srcControl.$().closest(\".sapUshellPinButton\").length){var o=e.getSource().getProperty(\"url\");o&&0===o.indexOf(\"#\")&&hasher.setHash(o)}},_handleSuccessMessage:function(e,o){var t,r,s=o.addToGroups?o.addToGroups.length:0,a=s+(o.newGroups?o.newGroups.length:0);return 1===a?(r=1===s?o.addToGroups[0].title:o.newGroups[0],t=sap.ushell.resources.i18n.getText(\"appAddedToSingleGroup\",[e.text,r])):t=sap.ushell.resources.i18n.getText(\"appAddedToSeveralGroups\",[e.text,a]),sap.m.MessageToast.show(t,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"}),t},_prepareErrorMessage:function(e,o){var t,r,s,a,i=0,n=!1;for(a in e)t=e[a].group,\"addBookmark_ToExistingGroup\"==(r=e[a].action)?1===++i&&(s=t.title):\"addBookmark_ToNewGroup\"==r?1===++i&&(s=t):n=!0;return n?1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_create_new_group\"}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"}):1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_app_operation_add_to_group\",parameters:[o,s]}):sap.ushell.resources.i18n.getText({messageId:\"fail_app_operation_add_to_several_groups\",parameters:[o]})},_handleBookmarkAppPopoverResponse:function(e,o){var t=[];o.newGroups.forEach(function(o){t.push(this._createGroupAndAddBookmark(o,e))}.bind(this)),o.addToGroups.forEach(function(o){t.push(this._addBookmark(o,e))}.bind(this)),jQuery.when.apply(jQuery,t).then(function(){var t=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(e,o,t)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,o,t){var r=t.filter(function(e,o,t){return!e.status});if(r.length){var s=this._prepareErrorMessage(r,e.text);sap.ushell.components.flp.launchpad.getDashboardManager().resetGroupsOnFailure(s.messageId,s.parameters)}else this._updateAppBoxedWithPinStatuses(),this._handleSuccessMessage(e,o)},_createGroupAndAddBookmark:function(e,o){var t=sap.ushell.components.flp.launchpad.getDashboardManager(),r=jQuery.Deferred(),s={};return t.createGroup(e).done(function(t){this._addBookmark(t.getObject(),o,!0).done(function(e){r.resolve(e)}).fail(function(){s={group:e,status:0,action:\"addBookmark_ToNewGroup\"},r.resolve(s)})}.bind(this)).fail(function(){s={group:e,status:0,action:\"addBookmark_NewGroupCreation\"},r.resolve(s)}),r.promise()},_addBookmark:function(e,o,t){var r=sap.ushell.Container.getService(\"Bookmark\"),s=jQuery.Deferred(),a={},i=r.addBookmark({url:o.url,title:o.text},e.object),n=t?\"addBookmark_ToNewGroup\":\"addBookmark_ToExistingGroup\";return i.done(function(){a={group:e,status:1,action:n},s.resolve(a)}).fail(function(){a={group:e,status:0,action:n},s.resolve(a)}),s.promise()},showSaveAppPopover:function(e){var o,t=this.getView().getModel(),r=e.oSource.getParent().getBinding(\"title\").getContext().getObject();if(t.getProperty(\"/groupContext\").path){var s=t.getProperty(\"/groupContext\").path,a={newGroups:[],addToGroups:[t.getProperty(s)]};this._handleBookmarkAppPopoverResponse(r,a)}else o=t.getProperty(\"/groups\").map(function(e){return{selected:!1,initiallySelected:!1,oGroup:e}}),void 0===this.oPopoverView&&(this.oPopoverView=sap.ui.getCore().byId(\"groupListPopoverView\"),void 0===this.oPopoverView&&(this.oPopoverView=new sap.ui.view({id:\"groupListPopoverView\",type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",viewData:{enableHideGroups:t.getProperty(\"/enableHideGroups\"),enableHelp:t.getProperty(\"/enableHelp\")}}))),this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.SingleSelectMaster),this.oPopoverView.setGroupsData(o),this.oPopoverView.open(e.oSource).then(this._handleBookmarkAppPopoverResponse.bind(this,r))}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyApps-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.appfinder.AppBox\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",{createContent:function(e){this.oController=e;var t=new sap.m.Button({icon:{path:\"easyAccess>bookmarkCount\",formatter:function(e){return e?\"sap-icon://accept\":\"sap-icon://add\"}},press:e.showSaveAppPopover.bind(e)});return t.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"tabindex\",value:\"-1\",writeToDom:!0})),t.addStyleClass(\"sapUshellPinButton\"),this.oItemTemplate=new sap.ushell.ui.appfinder.AppBox({title:\"{easyAccess>text}\",url:\"{easyAccess>url}\",pinButton:t,tabindex:{path:\"easyAccess>text\"},press:[e.onAppBoxPressed,e]}),this.oItemTemplate.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"tabindex\",value:\"-1\",writeToDom:!0})),this.layout=new sap.m.FlexBox({items:{path:\"easyAccess>/apps\",template:this.oItemTemplate},wrap:sap.m.FlexWrap.Wrap}),this.layout.addDelegate({onAfterRendering:function(){var e=this.getItems(),t=function(e){\"tabindex\"===e.getKey()&&e.setValue(\"0\")};e.length&&(e[0].getCustomData().forEach(t),e[0].getPinButton().getCustomData().forEach(t))}.bind(this.layout)}),this.crumbsModel=new sap.ui.model.json.JSONModel({crumbs:[]}),this.linkTemplate=new sap.m.Link({text:\"{crumbs>text}\",press:function(e){var t=e.oSource.getBinding(\"text\").getContext().getObject();this.getViewData().navigateHierarchy(t.path,!1)}.bind(this)}),this.breadcrumbs=new sap.m.Breadcrumbs({links:{path:\"crumbs>/crumbs\",template:this.linkTemplate},currentLocationText:\"{/text}\"}),this.breadcrumbs.setModel(this.crumbsModel,\"crumbs\"),[this.breadcrumbs,this.layout]},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyApps.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",{onInit:function(){},oPopoverView:void 0,getCrumbsData:function(e,o){var t,r=e.split(\"/\"),s=[],a=r.join(\"/\");for(r.splice(r.length-2,2);r.length;)a=r.join(\"/\"),t=o.getProperty(a+\"/text\"),s.unshift({text:t,path:a}),r.splice(r.length-2,2);return s},_updateAppBoxedWithPinStatuses:function(e){var o=this.getView();e||(e=o.layout.getBinding(\"items\").getPath());var t=o.getModel(\"easyAccess\"),r=t.getProperty(e),s=sap.ushell.Container.getService(\"Bookmark\"),a=r.map(function(e){return s.countBookmarks(e.url).then(function(o){return e.bookmarkCount=o,e})});jQuery.when.apply(jQuery,a).then(function(){var o=Array.prototype.slice.call(arguments);t.setProperty(e,o)})},updatePageBindings:function(e){this.getView().layout.bindAggregation(\"items\",\"easyAccess>\"+e+\"/apps\",this.getView().oItemTemplate),this._updateAppBoxedWithPinStatuses(e+\"/apps\"),this.getView().breadcrumbs.bindProperty(\"currentLocationText\",\"easyAccess>\"+e+\"/text\");var o=this.getCrumbsData(e,this.getView().getModel(\"easyAccess\"));this.getView().crumbsModel.setProperty(\"/crumbs\",o)},onAppBoxPressed:function(e){if(!e.mParameters.srcControl.$().closest(\".sapUshellPinButton\").length){var o=e.getSource().getProperty(\"url\");o&&0===o.indexOf(\"#\")&&hasher.setHash(o)}},_handleSuccessMessage:function(e,o){var t,r,s=o.addToGroups?o.addToGroups.length:0,a=s+(o.newGroups?o.newGroups.length:0);return 1===a?(r=1===s?o.addToGroups[0].title:o.newGroups[0],t=sap.ushell.resources.i18n.getText(\"appAddedToSingleGroup\",[e.text,r])):t=sap.ushell.resources.i18n.getText(\"appAddedToSeveralGroups\",[e.text,a]),sap.m.MessageToast.show(t,{duration:3e3,width:\"15em\",my:\"center bottom\",at:\"center bottom\",of:window,offset:\"0 -50\",collision:\"fit fit\"}),t},_prepareErrorMessage:function(e,o){var t,r,s,a,i=0,n=!1;for(a in e)t=e[a].group,\"addBookmark_ToExistingGroup\"==(r=e[a].action)?1===++i&&(s=t.title):\"addBookmark_ToNewGroup\"==r?1===++i&&(s=t):n=!0;return n?1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_create_new_group\"}):sap.ushell.resources.i18n.getText({messageId:\"fail_tile_operation_some_actions\"}):1==e.length?sap.ushell.resources.i18n.getText({messageId:\"fail_app_operation_add_to_group\",parameters:[o,s]}):sap.ushell.resources.i18n.getText({messageId:\"fail_app_operation_add_to_several_groups\",parameters:[o]})},_handleBookmarkAppPopoverResponse:function(e,o){var t=[];o.newGroups.forEach(function(o){t.push(this._createGroupAndAddBookmark(o,e))}.bind(this)),o.addToGroups.forEach(function(o){t.push(this._addBookmark(o,e))}.bind(this)),jQuery.when.apply(jQuery,t).then(function(){var t=Array.prototype.slice.call(arguments);this._handlePopoverGroupsActionPromises(e,o,t)}.bind(this))},_handlePopoverGroupsActionPromises:function(e,o,t){var r=t.filter(function(e,o,t){return!e.status});if(r.length){var s=this._prepareErrorMessage(r,e.text);sap.ushell.components.flp.launchpad.getDashboardManager().resetGroupsOnFailure(s.messageId,s.parameters)}else this._updateAppBoxedWithPinStatuses(),this._handleSuccessMessage(e,o)},_createGroupAndAddBookmark:function(e,o){var t=sap.ushell.components.flp.launchpad.getDashboardManager(),r=jQuery.Deferred(),s={};return t.createGroup(e).done(function(t){this._addBookmark(t.getObject(),o,!0).done(function(e){r.resolve(e)}).fail(function(){s={group:e,status:0,action:\"addBookmark_ToNewGroup\"},r.resolve(s)})}.bind(this)).fail(function(){s={group:e,status:0,action:\"addBookmark_NewGroupCreation\"},r.resolve(s)}),r.promise()},_addBookmark:function(e,o,t){var r=sap.ushell.Container.getService(\"Bookmark\"),s=jQuery.Deferred(),a={},i=r.addBookmark({url:o.url,title:o.text},e.object),n=t?\"addBookmark_ToNewGroup\":\"addBookmark_ToExistingGroup\";return i.done(function(){a={group:e,status:1,action:n},s.resolve(a)}).fail(function(){a={group:e,status:0,action:n},s.resolve(a)}),s.promise()},showSaveAppPopover:function(e){var o,t=this.getView().getModel(),r=e.oSource.getParent().getBinding(\"title\").getContext().getObject();if(t.getProperty(\"/groupContext\").path){var s=t.getProperty(\"/groupContext\").path,a={newGroups:[],addToGroups:[t.getProperty(s)]};this._handleBookmarkAppPopoverResponse(r,a)}else o=t.getProperty(\"/groups\").map(function(e){return{selected:!1,initiallySelected:!1,oGroup:e}}),void 0===this.oPopoverView&&(this.oPopoverView=sap.ui.getCore().byId(\"groupListPopoverView\"),void 0===this.oPopoverView&&(this.oPopoverView=new sap.ui.view({id:\"groupListPopoverView\",type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.ushell.components.flp.launchpad.appfinder.GroupListPopover\",viewData:{enableHideGroups:t.getProperty(\"/enableHideGroups\"),enableHelp:t.getProperty(\"/enableHelp\")}}))),this.oPopoverView.setGroupListSingleSelection(sap.m.ListMode.SingleSelectMaster),this.oPopoverView.setGroupsData(o),this.oPopoverView.open(e.oSource).then(this._handleBookmarkAppPopoverResponse.bind(this,r))}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyApps.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.appfinder.AppBox\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\",{createContent:function(e){this.oController=e;var t=new sap.m.Button({icon:{path:\"easyAccess>bookmarkCount\",formatter:function(e){return e?\"sap-icon://accept\":\"sap-icon://add\"}},press:e.showSaveAppPopover.bind(e)});return t.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"tabindex\",value:\"-1\",writeToDom:!0})),t.addStyleClass(\"sapUshellPinButton\"),this.oItemTemplate=new sap.ushell.ui.appfinder.AppBox({title:\"{easyAccess>text}\",url:\"{easyAccess>url}\",pinButton:t,tabindex:{path:\"easyAccess>text\"},press:[e.onAppBoxPressed,e]}),this.oItemTemplate.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:\"tabindex\",value:\"-1\",writeToDom:!0})),this.layout=new sap.m.FlexBox({items:{path:\"easyAccess>/apps\",template:this.oItemTemplate},wrap:sap.m.FlexWrap.Wrap}),this.layout.addDelegate({onAfterRendering:function(){var e=this.getItems(),t=function(e){\"tabindex\"===e.getKey()&&e.setValue(\"0\")};e.length&&(e[0].getCustomData().forEach(t),e[0].getPinButton().getCustomData().forEach(t))}.bind(this.layout)}),this.crumbsModel=new sap.ui.model.json.JSONModel({crumbs:[]}),this.linkTemplate=new sap.m.Link({text:\"{crumbs>text}\",press:function(e){var t=e.oSource.getBinding(\"text\").getContext().getObject();this.getViewData().navigateHierarchy(t.path,!1)}.bind(this)}),this.breadcrumbs=new sap.m.Breadcrumbs({links:{path:\"crumbs>/crumbs\",template:this.linkTemplate},currentLocationText:\"{/text}\"}),this.breadcrumbs.setModel(this.crumbsModel,\"crumbs\"),[this.breadcrumbs,this.layout]},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.HierarchyApps\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",{onInit:function(){this.oDialog=null,this.getView().setModel(this.getView().getViewData().easyAccessSystemsModel,\"easyAccessSystems\"),this.getSelectedSystem().then(function(e){e?this.setSystemSelected(e):(this.setSystemSelected(void 0),this.onSystemSelectionPress())}.bind(this),function(){this.setSystemSelected(void 0),this.onSystemSelectionPress()})},onExit:function(){this.oDialog&&this.destroyDialog()},getPersonalizer:function(){if(this.oPersonalizer)return this.oPersonalizer;var e=sap.ushell.Container.getService(\"Personalization\"),t=sap.ui.core.Component.getOwnerComponentFor(this),s={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:!0};return this.oPersonalizer=e.getPersonalizer({container:\"flp.launchpad.appfinder.HierarchyFolders\",item:\"lastSelectedSystem\"},s,t),this.oPersonalizer},getSelectedSystem:function(){var e=new jQuery.Deferred,t=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemsList\");if(t&&t.length&&1===t.length){var s=t[0];this.setSystemSelectedInPersonalization(s),e.resolve(s)}else this.getSelectedSystemInPersonalization().then(function(s){if(s){for(var i=!1,n=0;n<t.length;n++)(t[n].systemName&&t[n].systemName===s.systemName||t[n].systemId===s.systemId)&&(i=!0,e.resolve(s));i||(e.resolve(),this.setSystemSelectedInPersonalization())}else e.resolve()}.bind(this));return e.promise()},setSystemSelected:function(e){this.getView().getModel(\"easyAccessSystems\").setProperty(\"/systemSelected\",e),this.setSystemSelectedInPersonalization(e)},getSelectedSystemInPersonalization:function(){var e=new jQuery.Deferred;return this.getPersonalizer().getPersData().then(function(t){t?e.resolve(t):e.resolve()},function(t){jQuery.sap.log.error(\"Failed to get selected system from the personalization\",t,\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\"),e.reject()}),e.promise()},setSystemSelectedInPersonalization:function(e){this.getPersonalizer().setPersData(e).fail(function(e){jQuery.sap.log.error(\"Failed to save selected system in the personalization\",e,\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\")})},onSystemSelectionPress:function(){var e=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemsList\");e&&e.length&&e.length<=1||this.createDialog().open()},createDialog:function(){return this.oDialog||(this.oDialog=new sap.m.SelectDialog({id:\"systemSelectionDialog\",title:this.getView().translationBundle.getText(\"easyAccessSelectSystemDialogTitle\"),multiSelect:!1,contentHeight:\"20rem\",items:{path:\"/systemsList\",template:new sap.m.StandardListItem({adaptTitleSize:!1,title:{parts:[\"systemName\",\"systemId\"],formatter:this.titleFormatter},description:{parts:[\"systemName\",\"systemId\"],formatter:this.descriptionFormatter},selected:{parts:[\"systemName\",\"systemId\"],formatter:this.selectedFormatter.bind(this)}})},confirm:this.systemConfirmHandler.bind(this),search:this.systemSearchHandler.bind(this),cancel:this.destroyDialog.bind(this)}),this.oDialog.setModel(this.getView().getModel(\"easyAccessSystems\"))),this.oDialog},destroyDialog:function(){this.oDialog.destroyItems(),this.oDialog.destroy(),this.oDialog=null},systemConfirmHandler:function(e){var t=e.getParameters().selectedItem.getBindingContext().getObject();this.setSystemSelected(t),this.destroyDialog()},systemSearchHandler:function(e){var t=e.getParameter(\"value\"),s=new sap.ui.model.Filter(\"systemName\",sap.ui.model.FilterOperator.Contains,t),i=new sap.ui.model.Filter(\"systemId\",sap.ui.model.FilterOperator.Contains,t),n=new sap.ui.model.Filter({filters:[i,s],and:!1});e.getSource().getBinding(\"items\").filter(n)},titleFormatter:function(e,t){return e||t},descriptionFormatter:function(e,t){return e?t:null},selectedFormatter:function(e,t){var s=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemSelected\");return!!s&&(e?s.systemName===e:s.systemId===t)},systemSelectorTextFormatter:function(e){return e?e.systemName?this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithSystem\",e.systemName):this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithSystem\",e.systemId):this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithoutSystem\")}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",{createContent:function(e){var t=this;return this.translationBundle=sap.ushell.resources.i18n,this.treePath=\"\",this.systemSelectorText=new sap.m.Text({text:{path:\"easyAccessSystemsModel>/systemSelected\",formatter:e.systemSelectorTextFormatter.bind(e)}}),this.oItemTemplate=new sap.m.StandardListItem({title:\"{easyAccess>text}\",type:\"Navigation\",press:function(){var e=this.getBindingContextPath();t.getViewData().navigateHierarchy(e,!0)}}),this.oList=new sap.m.List({items:{path:\"easyAccess>\"+this.treePath+\"/folders\",template:this.oItemTemplate},updateFinished:function(){t.finishEasyAccessAnimation(!0)},noDataText:{path:\"easyAccessSystemsModel>/systemSelected\",formatter:function(e){if(e)return t.translationBundle.getText(\"easyAccessFolderWithNoItems\")}}}),this.pageMenu=new sap.m.Page({title:\"{easyAccess>/text}\",showNavButton:!1,enableScrolling:!0,subHeader:new sap.m.Toolbar({design:\"Info\",height:\"2rem\",active:{path:\"easyAccessSystemsModel>/systemsList\",formatter:function(e){return e.length>1}},content:[this.systemSelectorText,new sap.m.ToolbarSpacer,new sap.ui.core.Icon({width:\"2rem\",src:\"sap-icon://edit\"})],press:[e.onSystemSelectionPress,e]}),content:this.oList}),this.pageMenu.attachNavButtonPress(function(){var e=this.treePath.split(\"/\"),t=e.slice(0,e.length-2);this.getViewData().navigateHierarchy(t.join(\"/\"),!1)}.bind(this)),this.pageMenu},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\"},finishEasyAccessAnimation:function(){this.jqFolderClone&&(this.forwardAnimation?(this.pageMenu.$().addClass(\"forwardToViewAnimation\"),this.jqFolderClone.addClass(\"forwardOutOfViewAnimation\")):(this.pageMenu.$().addClass(\"backToViewAnimation\"),this.jqFolderClone.addClass(\"backOutOfViewAnimation\")),this.jqFolderClone.on(\"animationend\",function(){this.pageMenu.$().removeClass(\"forwardToViewAnimation backToViewAnimation\");var e=this.pageMenu.$().find(\".sapMBarLeft button\");e.length?e.focus():setTimeout(function(){this.pageMenu.$().find(\"header + header\").focus()}.bind(this)),this.jqFolderClone&&this.jqFolderClone.remove()}.bind(this)))},prepareEasyAccessAnimation:function(e){this.forwardAnimation=e,this.jqFolderClone=this.pageMenu.$().clone().removeAttr(\"data-sap-ui\").css(\"z-index\",\"1\"),this.jqFolderClone.find(\"*\").removeAttr(\"id\"),this.pageMenu.$().parent().append(this.jqFolderClone)},updatePageBindings:function(e,t){var s=e.split(\"/\").length>2;this.treePath=e,this.pageMenu.setShowNavButton(s),this.pageMenu.setShowSubHeader(!s),this.prepareEasyAccessAnimation(t),this.pageMenu.bindProperty(\"title\",\"easyAccess>\"+e+\"/text\"),this.oList.bindItems(\"easyAccess>\"+e+\"/folders\",this.oItemTemplate)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",{onInit:function(){this.oDialog=null,this.getView().setModel(this.getView().getViewData().easyAccessSystemsModel,\"easyAccessSystems\"),this.getSelectedSystem().then(function(e){e?this.setSystemSelected(e):(this.setSystemSelected(void 0),this.onSystemSelectionPress())}.bind(this),function(){this.setSystemSelected(void 0),this.onSystemSelectionPress()})},onExit:function(){this.oDialog&&this.destroyDialog()},getPersonalizer:function(){if(this.oPersonalizer)return this.oPersonalizer;var e=sap.ushell.Container.getService(\"Personalization\"),t=sap.ui.core.Component.getOwnerComponentFor(this),s={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:!0};return this.oPersonalizer=e.getPersonalizer({container:\"flp.launchpad.appfinder.HierarchyFolders\",item:\"lastSelectedSystem\"},s,t),this.oPersonalizer},getSelectedSystem:function(){var e=new jQuery.Deferred,t=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemsList\");if(t&&t.length&&1===t.length){var s=t[0];this.setSystemSelectedInPersonalization(s),e.resolve(s)}else this.getSelectedSystemInPersonalization().then(function(s){if(s){for(var i=!1,n=0;n<t.length;n++)(t[n].systemName&&t[n].systemName===s.systemName||t[n].systemId===s.systemId)&&(i=!0,e.resolve(s));i||(e.resolve(),this.setSystemSelectedInPersonalization())}else e.resolve()}.bind(this));return e.promise()},setSystemSelected:function(e){this.getView().getModel(\"easyAccessSystems\").setProperty(\"/systemSelected\",e),this.setSystemSelectedInPersonalization(e)},getSelectedSystemInPersonalization:function(){var e=new jQuery.Deferred;return this.getPersonalizer().getPersData().then(function(t){t?e.resolve(t):e.resolve()},function(t){jQuery.sap.log.error(\"Failed to get selected system from the personalization\",t,\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\"),e.reject()}),e.promise()},setSystemSelectedInPersonalization:function(e){this.getPersonalizer().setPersData(e).fail(function(e){jQuery.sap.log.error(\"Failed to save selected system in the personalization\",e,\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\")})},onSystemSelectionPress:function(){var e=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemsList\");e&&e.length&&e.length<=1||this.createDialog().open()},createDialog:function(){var e=this;return this.oDialog||(this.oDialog=new sap.m.SelectDialog({id:\"systemSelectionDialog\",title:e.getView().translationBundle.getText(\"easyAccessSelectSystemDialogTitle\"),multiSelect:!1,contentHeight:\"20rem\",items:{path:\"/systemsList\",template:new sap.m.StandardListItem({adaptTitleSize:!1,title:{parts:[\"systemName\",\"systemId\"],formatter:e.titleFormatter},description:{parts:[\"systemName\",\"systemId\"],formatter:e.descriptionFormatter},selected:{parts:[\"systemName\",\"systemId\"],formatter:e.selectedFormatter.bind(this)}})},confirm:e.systemConfirmHandler.bind(e),search:e.systemSearchHandler.bind(e),cancel:e.destroyDialog.bind(e)}),this.oDialog.setModel(this.getView().getModel(\"easyAccessSystems\"))),this.oDialog},destroyDialog:function(){this.oDialog.destroyItems(),this.oDialog.destroy(),this.oDialog=null},systemConfirmHandler:function(e){var t=e.getParameters().selectedItem.getBindingContext().getObject();this.setSystemSelected(t),this.destroyDialog()},systemSearchHandler:function(e){var t=e.getParameter(\"value\"),s=new sap.ui.model.Filter(\"systemName\",sap.ui.model.FilterOperator.Contains,t),i=new sap.ui.model.Filter(\"systemId\",sap.ui.model.FilterOperator.Contains,t),n=new sap.ui.model.Filter({filters:[i,s],and:!1});e.getSource().getBinding(\"items\").filter(n)},titleFormatter:function(e,t){return e||t},descriptionFormatter:function(e,t){return e?t:null},selectedFormatter:function(e,t){var s=this.getView().getModel(\"easyAccessSystems\").getProperty(\"/systemSelected\");return!!s&&(e?s.systemName===e:s.systemId===t)},systemSelectorTextFormatter:function(e){return e?e.systemName?this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithSystem\",e.systemName):this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithSystem\",e.systemId):this.getView().translationBundle.getText(\"easyAccessSelectSystemTextWithoutSystem\")}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/appfinder/HierarchyFolders.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.jsview(\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\",{createContent:function(e){var t=this;return this.translationBundle=sap.ushell.resources.i18n,this.treePath=\"\",this.systemSelectorText=new sap.m.Text({text:{path:\"easyAccessSystemsModel>/systemSelected\",formatter:e.systemSelectorTextFormatter.bind(e)}}),this.oItemTemplate=new sap.m.StandardListItem({title:\"{easyAccess>text}\",type:\"Navigation\",press:function(){var e=this.getBindingContextPath();t.getViewData().navigateHierarchy(e,!0)}}),this.oList=new sap.m.List({items:{path:\"easyAccess>\"+this.treePath+\"/folders\",template:this.oItemTemplate},updateFinished:function(){t.finishEasyAccessAnimation(!0)},noDataText:{path:\"easyAccessSystemsModel>/systemSelected\",formatter:function(e){if(e)return t.translationBundle.getText(\"easyAccessFolderWithNoItems\")}}}),this.pageMenu=new sap.m.Page({title:\"{easyAccess>/text}\",showNavButton:!1,enableScrolling:!0,subHeader:new sap.m.Toolbar({design:\"Info\",height:\"2rem\",active:{path:\"easyAccessSystemsModel>/systemsList\",formatter:function(e){return e.length>1}},content:[this.systemSelectorText,new sap.m.ToolbarSpacer,new sap.ui.core.Icon({width:\"2rem\",src:\"sap-icon://edit\"})],press:[e.onSystemSelectionPress,e]}),content:this.oList}),this.pageMenu.attachNavButtonPress(function(){var e=this.treePath.split(\"/\"),t=e.slice(0,e.length-2);this.getViewData().navigateHierarchy(t.join(\"/\"),!1)}.bind(this)),this.pageMenu},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.appfinder.HierarchyFolders\"},finishEasyAccessAnimation:function(){this.jqFolderClone&&(this.forwardAnimation?(this.pageMenu.$().addClass(\"forwardToViewAnimation\"),this.jqFolderClone.addClass(\"forwardOutOfViewAnimation\")):(this.pageMenu.$().addClass(\"backToViewAnimation\"),this.jqFolderClone.addClass(\"backOutOfViewAnimation\")),this.jqFolderClone.on(\"animationend\",function(){this.pageMenu.$().removeClass(\"forwardToViewAnimation backToViewAnimation\");var e=this.pageMenu.$().find(\".sapMBarLeft button\");e.length?e.focus():setTimeout(function(){this.pageMenu.$().find(\"header + header\").focus()}.bind(this)),this.jqFolderClone&&this.jqFolderClone.remove()}.bind(this)))},prepareEasyAccessAnimation:function(e){this.forwardAnimation=e,this.jqFolderClone=this.pageMenu.$().clone().removeAttr(\"data-sap-ui\").css(\"z-index\",\"1\"),this.jqFolderClone.find(\"*\").removeAttr(\"id\"),this.pageMenu.$().parent().append(this.jqFolderClone)},updatePageBindings:function(e,t){var s=e.split(\"/\").length>2;this.treePath=e,this.pageMenu.setShowNavButton(s),this.pageMenu.setShowSubHeader(!s),this.prepareEasyAccessAnimation(t),this.pageMenu.bindProperty(\"title\",\"easyAccess>\"+e+\"/text\"),this.oList.bindItems(\"easyAccess>\"+e+\"/folders\",this.oItemTemplate)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardContent-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.TileContainer\"),sap.ui.controller(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\",{onInit:function(){var e=sap.ui.getCore().getEventBus();this.handleDashboardScroll=this._handleDashboardScroll.bind(this),e.subscribe(\"launchpad\",\"appClosed\",this._resizeHandler,this),e.subscribe(\"launchpad\",\"appOpened\",this._appOpenedHandler,this),e.subscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),e.subscribe(\"launchpad\",\"actionModeInactive\",this._handleGroupVisibilityChanges,this),window.document.addEventListener(\"visibilitychange\",sap.ushell.utils.handleTilesVisibility,!1),this.sViewId=\"#\"+this.oView.getId(),sap.ui.Device.browser.mobile&&e.subscribe(\"launchpad\",\"contentRefresh\",this._webkitMobileRenderFix,this),this.isDesktop=sap.ui.Device.system.desktop&&navigator.userAgent.toLowerCase().indexOf(\"tablet\")<0,this.isNotificationPreviewLoaded=!1,this._setCenterViewPortShift()},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"launchpad\",\"contentRefresh\",this._webkitMobileRenderFix,this),e.unsubscribe(\"launchpad\",\"appClosed\",this._resizeHandler,this),e.unsubscribe(\"launchpad\",\"appOpened\",this._appOpenedHandler,this),e.unsubscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),window.document.removeEventListener(\"visibilitychange\",sap.ushell.utils.handleTilesVisibility,!1)},onAfterRendering:function(){var e,t,i,o,s,n=sap.ui.getCore().getEventBus(),a=this.getView().getDomRef().getElementsByTagName(\"section\");jQuery(a[0]).off(\"scrollstop\",this.handleDashboardScroll),jQuery(a[0]).on(\"scrollstop\",this.handleDashboardScroll),n.unsubscribe(\"launchpad\",\"scrollToGroup\",this._scrollToGroup,this),n.subscribe(\"launchpad\",\"scrollToGroup\",this._scrollToGroup,this),n.unsubscribe(\"launchpad\",\"scrollToFirstVisibleGroup\",this._scrollToFirstVisibleGroup,this),n.subscribe(\"launchpad\",\"scrollToFirstVisibleGroup\",this._scrollToFirstVisibleGroup,this),sap.ui.Device.orientation.attachHandler(function(){var s=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\");s.length&&(e=this.getView().getModel(),t=e.getProperty(\"/topGroupInViewPortIndex\"),s.get(t)&&(i=sap.ui.getCore().byId(s.get(t).id),o=e.getProperty(\"/editTitle\"),this._publishAsync(\"launchpad\",\"scrollToGroup\",{group:i,isInEditTitle:o})))},this),jQuery(window).bind(\"resize\",function(){clearTimeout(s),s=setTimeout(this._resizeHandler.bind(this),300)}.bind(this)),this.getView().getModel().getProperty(\"/personalization\")&&!sap.ushell.components.flp.ActionMode&&(jQuery.sap.require(\"sap.ushell.components.flp.ActionMode\"),sap.ushell.components.flp.ActionMode.init(this.getView().getModel())),this._updateTopGroupInModel()},_setCenterViewPortShift:function(){var e=sap.ui.getCore().byId(\"viewPortContainer\");e&&e.shiftCenterTransition(!0)},_dashboardDeleteTileHandler:function(e){var t=e.getSource().getBindingContext().getObject().object,i={originalTileId:sap.ushell.Container.getService(\"LaunchPage\").getTileId(t)};sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",i,this)},dashboardTilePress:function(){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"dashboardTileClick\")},_updateTopGroupInModel:function(){var e=this.getView().getModel(),t=this._getIndexOfTopGroupInViewPort();e.setProperty(\"/topGroupInViewPortIndex\",t)},_getIndexOfTopGroupInViewPort:function(){var e,t=this.getView().getDomRef().getElementsByTagName(\"section\"),i=$(t).find(\".sapUshellTileContainer\"),o=i.not(\".sapUshellHidden\").first().offset(),s=o&&o.top||0,n=[],a=t[0].scrollTop,r=0;return i&&o?(i.each(function(){if(!jQuery(this).hasClass(\"sapUshellHidden\")){var e=jQuery(this).parent().offset().top;n.push([e,e+jQuery(this).parent().height()])}}),e=a+s,jQuery.each(n,function(t,i){var o=i[0],s=i[1];if(o-24<=e&&e<=s)return r=t,!1}),r):r},_handleDashboardScroll:function(){var e=this.getView();this._updateTopGroupInModel(),sap.ushell.utils.handleTilesVisibility(),e.oAnchorNavigationBar.closeOverflowPopup(),e.oAnchorNavigationBar.reArrangeNavigationBarElements()},_handleGroupDeletion:function(e){jQuery.sap.require(\"sap.m.MessageBox\");var t=sap.ui.getCore().getEventBus(),i=e.getObject(),o=i.removable,s=i.title,n=i.groupId,a=sap.ushell.resources.i18n,r=sap.ushell.Container.getService(\"Message\"),l=sap.m.MessageBox.Action,u=o?l.DELETE:a.getText(\"ResetGroupBtn\");r.confirm(a.getText(o?\"delete_group_msg\":\"reset_group_msg\",s),function(e){e===u&&t.publish(\"launchpad\",o?\"deleteGroup\":\"resetGroup\",{groupId:n})},a.getText(o?\"delete_group\":\"reset_group\"),[u,l.CANCEL])},_modelLoaded:function(){this.bModelInitialized=!0,sap.ushell.Layout.getInitPromise().then(function(){this._initializeUIActions()}.bind(this))},_initializeUIActions:function(){(new sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions).initializeUIActions(this)},_forceBrowserRerenderElement:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame;t?t(function(){var t=e.style.display;e.style.display=\"none\",e.style.display=t}):jQuery.sap.log.info(\"unsupported browser for animation frame\")},_webkitMobileRenderFix:function(){(sap.ui.Device.browser.chrome||sap.ui.Device.os.android)&&this._forceBrowserRerenderElement(document.body)},_resizeHandler:function(){this._addBottomSpace(),sap.ushell.utils.handleTilesVisibility();var e=jQuery.find(\"#dashboardGroups:visible\").length;sap.ushell.Layout&&e&&(sap.ushell.Layout.reRenderGroupsLayout(null),this._initializeUIActions())},_appOpenedHandler:function(e,t,i){var o,s,n=this.getView().getModel();s=this.getOwnerComponent().getMetadata().getComponentName(),-1===i.additionalInformation.indexOf(s)&&(sap.ushell.utils.setTilesNoVisibility(),(o=sap.ui.getCore().byId(\"viewPortContainer\"))&&o.shiftCenterTransition(!1)),sap.ushell.components.flp.ActionMode&&sap.ushell.components.flp.ActionMode.oModel&&sap.ushell.components.flp.ActionMode.oModel.getProperty(\"/tileActionModeActive\")&&sap.ushell.components.flp.ActionMode.toggleActionMode(n,\"Menu Item\")},_addBottomSpace:function(){sap.ushell.utils.addBottomSpace()},_scrollToFirstVisibleGroup:function(e,t,i){var o,s=this.oView.oDashboardGroupsBox.getGroups(),n=i.fromTop>0?i.fromTop:0;o=i.group?i.group.getGroupId():i.groupId,s&&(jQuery.each(s,function(e,t){if(t.getGroupId()===o){var s=document.getElementById(t.sId).offsetTop;return jQuery(\".sapUshellDashboardView section\").stop().animate({scrollTop:s+n},0),i.group&&i.focus&&jQuery.sap.byId(t.sId).focus(),!1}}),sap.ushell.utils.addBottomSpace())},_scrollToGroup:function(e,t,i){var o,s=this,n=this.oView.oDashboardGroupsBox.getGroups();o=i.group?i.group.getGroupId():i.groupId,n&&jQuery.each(this.oView.oDashboardGroupsBox.getGroups(),function(e,t){var n;if(t.getGroupId()===o)return setTimeout(function(){n=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+document.getElementById(t.sId).getBoundingClientRect().top,n+=49,jQuery(\".sapUshellDashboardView section\").stop().animate({scrollTop:n},500),i.isInEditTitle&&t.setEditMode(!0)},300),(i.groupId||i.groupChanged)&&s._addBottomSpace(),sap.ushell.utils.handleTilesVisibility(),!1})},_handleDrop:function(e,t){var i,o,s=sap.ushell.Layout.getLayoutEngine().layoutEndCallback(),n=sap.ui.getCore().getEventBus();s.tileMovedFlag&&(i=!0,o=!0,s.srcGroup!==s.dstGroup?i=o=!1:s.tile!==s.dstGroup.getTiles()[s.dstTileIndex]&&(o=!1),s.srcGroup.removeAggregation(\"tiles\",s.tile,i),s.dstGroup.insertAggregation(\"tiles\",s.tile,s.dstTileIndex,o),n.publish(\"launchpad\",\"moveTile\",{sTileId:s.tile.getUuid(),toGroupId:s.dstGroup.getGroupId(),toIndex:s.dstTileIndex}),n.publish(\"launchpad\",\"sortableStop\"))},_handleAnchorItemPress:function(e){this._scrollToGroup(\"launchpad\",\"scrollToGroup\",{group:e.getParameter(\"group\"),groupChanged:!1,focus:\"sapenter\"===e.getParameter(\"action\")})},_addGroupHandler:function(e){var t,i=e.getSource().getBindingContext().getPath().split(\"/\");t=window.parseInt(i[i.length-1],10),\"afterContent\"===e.getSource().sParentAggregationName&&(t+=1),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"createGroupAt\",{title:sap.ushell.resources.i18n.getText(\"new_group_name\"),location:t,isRendered:!0})},_notificationsUpdateCallback:function(){var e,t,i,o,s,n,a,r=this,l=0,u=this.getView().getModel().getProperty(\"/previewNotificationItems\"),p=[],d=[],h=!1,c=5-u.length-1;sap.ushell.Container.getService(\"Notifications\").getNotifications().done(function(g){if(g){var f=sap.ui.getCore().byId(\"notifications-preview-container\");if(this.isNotificationPreviewLoaded||f.setEnableBounceAnimations(!0),u&&u.length)for(s=0;s<u.length;s++){var m=u[s].originalItemId,b=!1;for(n=0;n<g.length;n++){if(g[n].Id===m){b=!0;break}if(u[s].originalTimestamp>g[n].CreatedAt)break}b||(u.splice(s,1),h=!0,s--)}for(u&&u.length>0&&(e=u[0].originalTimestamp,t=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(e)),s=0;s<g.length&&l<5;s++)i=g[s].CreatedAt,o=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(i),(!t||o>t)&&(p[l]=g[s],l++);var v=p.length;if(u&&u.length>0&&u.length<5&&g.length>u.length)for(e=u[u.length-1].originalTimestamp,t=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(e),l=0,s=0;s<g.length&&l<=c;s++)i=g[s].CreatedAt,(o=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(i))<t&&(p[v+l]=g[s],l++);if(0!==p.length||h){for(n=0;n<p.length;n++)a=new sap.m.NotificationListItem({hideShowMoreButton:!0,description:p[n].SensitiveText,title:p[n].Text,datetime:sap.ushell.utils.formatDate(p[n].CreatedAt),priority:sap.ui.core.Priority[p[n].Priority.charAt(0)+p[n].Priority.substr(1).toLowerCase()],press:function(e){var t=this.getBindingContext().getPath().split(\"/\"),i=\"/\"+t[1]+\"/\"+t[2],o=this.getModel().getProperty(i),s=o.NavigationTargetObject,n=o.NavigationTargetAction,a=o.NavigationTargetParams,r=o.originalItemId,l=sap.ushell.Container.getService(\"Notifications\");sap.ushell.utils.toExternalWithParameters(s,n,a),l.markRead(r).fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"notificationsFailedMarkRead\"))})},close:function(e){var t=this.getBindingContext().getPath().split(\"/\"),i=\"/\"+t[1]+\"/\"+t[2],o=this.getModel().getProperty(i).originalItemId,s=r.getView().getModel().getProperty(\"/previewNotificationItems\"),n=sap.ushell.Container.getService(\"Notifications\").dismissNotification(o);n.done(function(){var e;for(e=0;e<s.length&&s[e].originalItemId!==o;e++);s.splice(e,1),r.getView().getModel().setProperty(\"/previewNotificationItems\",s)}),n.fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"notificationsFailedDismiss\")),r.getView().getModel().setProperty(\"/previewNotificationItems\",s)})}}),sap.ui.Device.system.desktop&&(a.removeStyleClass(\"sapUiSizeCozy\"),a.addStyleClass(\"sapUiSizeCompact\")),d.push({previewItemId:a.getId(),originalItemId:p[n].Id,originalTimestamp:p[n].CreatedAt,NavigationTargetObject:p[n].NavigationTargetObject,NavigationTargetAction:p[n].NavigationTargetAction,NavigationTargetParams:p[n].NavigationTargetParams}),\"RightCenter\"===sap.ui.getCore().byId(\"viewPortContainer\").getCurrentState()&&a.addStyleClass(\"sapUshellRightFloatingContainerItemBounceOut\");if(0===u.length)return r.getView().getModel().setProperty(\"/previewNotificationItems\",d),void this._disableNotificationPreviewBouncingAnimation(f);for(s=d.length-1;s>-1;s--)5===u.length&&setTimeout(function(){u.pop(),r.getView().getModel().setProperty(\"/previewNotificationItems\",u)},1e3),d[s].originalTimestamp>u[0].originalTimestamp?u.unshift(d[s]):u.push(d[s]);r.getView().getModel().setProperty(\"/previewNotificationItems\",u),this._disableNotificationPreviewBouncingAnimation(f)}else this._disableNotificationPreviewBouncingAnimation(f)}}.bind(this)).fail(function(){})},_disableNotificationPreviewBouncingAnimation:function(e){this.isNotificationPreviewLoaded||(this.isNotificationPreviewLoaded=!0,e.setEnableBounceAnimations(!1))},_publishAsync:function(e,t,i){var o=sap.ui.getCore().getEventBus();window.setTimeout(jQuery.proxy(o.publish,o,e,t,i),1)},_changeGroupVisibility:function(e){var t=e.getPath(),i=e.getModel(),o=i.getProperty(t+\"/isGroupVisible\");i.setProperty(t+\"/isGroupVisible\",!o)},_handleGroupVisibilityChanges:function(e,t,i){var o,s=sap.ushell.Container.getService(\"LaunchPage\"),n=this.getView().getModel(),a=sap.ushell.utils.getCurrentHiddenGroupIds(n),r=a.length===i.length;a.some(function(e,t){return!r||!(r=-1!==jQuery.inArray(e,i))}),r||((o=s.hideGroups(a)).done(function(){n.updateBindings(\"groups\"),this._handleToastMessage(a.length)}.bind(this)),o.fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"hideGroups_error\"))}))},_handleToastMessage:function(e){var t=\"\";void 0!==typeof e&&(t=0===e?sap.ushell.resources.i18n.getText(\"hideGroups_none\"):1===e?sap.ushell.resources.i18n.getText(\"hideGroups_single\"):sap.ushell.resources.i18n.getText(\"hideGroups_multiple\",e),sap.ushell.Container.getService(\"Message\").show(sap.ushell.services.Message.Type.INFO,t))}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardContent-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.TileContainer\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Tile\"),jQuery.sap.require(\"sap.ushell.override\"),jQuery.sap.require(\"sap.ushell.resources\"),jQuery.sap.require(\"sap.ushell.Layout\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.AnchorItem\"),jQuery.sap.require(\"sap.ushell.ui.shell.RightFloatingContainer\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\",{createContent:function(e){var t,i,o=this,n=sap.ui.getCore().byId(\"viewPortContainer\");this.isTouch=!sap.ui.Device.system.combi&&(sap.ui.Device.system.phone||sap.ui.Device.system.tablet),this.isCombi=sap.ui.Device.system.combi,this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.oModel=this.parentComponent.getModel(),this.addStyleClass(\"sapUshellDashboardView\"),this.ieHtml5DnD=!!(this.oModel.getProperty(\"/personalization\")&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)&&sap.ui.Device.browser.version>=11&&(sap.ui.Device.system.combi||sap.ui.Device.system.tablet)),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"contentRendered\",this._onAfterDashboardShow,this),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"initialConfigurationSet\",this._onAfterDashboardShow,this),sap.ui.getCore().byId(\"navContainerFlp\").attachAfterNavigate(this.onAfterNavigate,this),this.addEventDelegate({onBeforeFirstShow:function(){sap.ushell.components.flp.launchpad.getDashboardManager().loadPersonalizedGroups(),o.onAfterNavigate()},onAfterShow:function(){o.getController()._addBottomSpace(),sap.ushell.Container.getRenderer(\"fiori2\").showRightFloatingContainer(!1)},onAfterHide:function(e){}}),this.oAnchorNavigationBar=this._getAnchorNavigationBar(e),t=new sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox,this.oDashboardGroupsBox=t.createGroupsBox(e,this.oModel),i=this.oModel.getProperty(\"/configEnableNotificationsPreview\"),n&&n.shiftCenterTransitionEnabled(i);return this.oPreviewNotificationsContainerPlaceholder=new sap.ushell.ui.shell.RightFloatingContainer({id:\"notifications-preview-container-placeholder\",visible:{path:\"/enableNotificationsPreview\",formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass(\"sapUshellPreviewNotificationsConainer\"),this.oPreviewNotificationsContainer=new sap.ushell.ui.shell.RightFloatingContainer({id:\"notifications-preview-container\",top:5.5,right:\"1rem\",floatingContainerItems:{path:\"/previewNotificationItems\",factory:function(e,t){return sap.ui.getCore().byId(t.getObject().previewItemId)}},visible:{path:\"/enableNotificationsPreview\",formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass(\"sapContrastPlus\").addStyleClass(\"sapContrast\"),this.oPreviewNotificationsContainer.updateAggregation=function(e){var t,i=this.mBindingInfos[e],o=this.getMetadata().getJSONKeys()[e];jQuery.each(this[o._sGetter](),jQuery.proxy(function(e,t){this[o._sRemoveMutator](t)},this)),jQuery.each(i.binding.getContexts(),jQuery.proxy(function(e,n){t=i.factory(this.getId()+\"-\"+e,n)?i.factory(this.getId()+\"-\"+e,n).setBindingContext(n,i.model):\"\",this[o._sMutator](t)},this))},this.oPage=new sap.m.Page(\"sapUshellDashboardPage\",{customHeader:this.oAnchorNavigationBar,content:[this.oDashboardGroupsBox,this.oPreviewNotificationsContainerPlaceholder,this.oPreviewNotificationsContainer]}),[this.oPage]},_handleNotificationsPreviewVisibility:function(e){var t=sap.ushell.Container.getRenderer(\"fiori2\"),i=\"Center\"===t.getCurrentViewportState(),o=sap.ushell.Container.getService(\"Notifications\");return this.oDashboardGroupsBox.toggleStyleClass(\"sapUshellDashboardGroupsContainerSqueezed\",e),this.oAnchorNavigationBar.toggleStyleClass(\"sapUshellAnchorNavigationBarSqueezed\",e),(e=e&&i)&&(this.bNotificationsRegistered||(o.registerNotificationsUpdateCallback(this.oController._notificationsUpdateCallback.bind(this.oController)),this.bNotificationsRegistered=!0),o.isFirstDataLoaded()&&setTimeout(function(){this.oController&&this.oController._notificationsUpdateCallback&&this.oController._notificationsUpdateCallback()}.bind(this),300),this.bSubscribedToViewportStateSwitch||(this.bHeadsupNotificationsInitialyVisible=t.getRightFloatingContainerVisibility(),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"afterSwitchState\",this._handleViewportStateSwitch,this),this.bSubscribedToViewportStateSwitch=!0)),e},_fOnAfterAnchorBarRenderingHandler:function(e){var t=this.getModel()&&this.getModel().getProperty(\"/enableHelp\");this.getDefaultGroup()?t&&this.addStyleClass(\"help-id-homeAnchorNavigationBarItem\"):t&&this.addStyleClass(\"help-id-anchorNavigationBarItem\")},_getAnchorItemTemplate:function(){return new sap.ushell.ui.launchpad.AnchorItem({index:\"{index}\",title:\"{title}\",groupId:\"{groupId}\",defaultGroup:\"{isDefaultGroup}\",selected:!1,isGroupRendered:\"{isRendered}\",visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,t,i){return!!i[e?1:0]&&(t||e)}},afterRendering:this._fOnAfterAnchorBarRenderingHandler})},_getAnchorNavigationBar:function(e){var t=this._getAnchorItemTemplate(),i=new sap.ushell.ui.launchpad.AnchorNavigationBar(\"anchorNavigationBar\",{selectedItemIndex:\"{/topGroupInViewPortIndex}\",itemPress:[function(e){this._handleAnchorItemPress(e)},e],groups:{path:\"/groups\",template:t}});return(i=this._extendAnchorNavigationBar(i)).addStyleClass(\"sapContrastPlus\"),i},_extendAnchorNavigationBar:function(e){return jQuery.extend(e,{onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e,this.bGroupWasPressed),this.bGroupWasPressed=!1},onsaptabnext:function(e){e.preventDefault();var t=jQuery(\":focus\");!t.parent().parent().siblings().hasClass(\"sapUshellAnchorItemOverFlow\")||t.parent().parent().siblings().hasClass(\"sapUshellAnchorItemOverFlow\")&&t.parent().parent().siblings().hasClass(\"sapUshellShellHidden\")?(sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e),this.bGroupWasPressed=!1):jQuery(\".sapUshellAnchorItemOverFlow button\").focus()},onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabprevious:function(e){if(e.preventDefault(),jQuery(\":focus\").parent().hasClass(\"sapUshellAnchorItemOverFlow\")){var t=jQuery(\".sapUshellAnchorItem:visible:first\");t.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),t.focus()}else sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsapenter:function(e){e.srcControl.getDomRef().click()},onsapspace:function(e){e.srcControl.getDomRef().click()}})},_addActionModeButtonsToDashboard:function(){sap.ushell.components.flp.ActionMode&&sap.ushell.components.flp.ActionMode.init(this.getModel())},_createActionModeMenuButton:function(){var e=sap.ushell.Container.getRenderer(\"fiori2\").addActionButton(\"sap.ushell.ui.launchpad.ActionItem\",{id:\"ActionModeBtn\",text:sap.ushell.resources.i18n.getText(\"activateActionMode\"),icon:\"sap-icon://edit\",press:function(){var e=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,\"Menu Item\",e)}.bind(this)},!1,!0);this.oModel.getProperty(\"/enableHelp\")&&e.addStyleClass(\"help-id-ActionModeBtn\"),sap.ushell.Container.getRenderer(\"fiori2\").showActionButton(e.getId(),!0)},_createFloatingActionButton:function(){var e=sap.ushell.Container.getRenderer(\"fiori2\").addFloatingActionButton(\"sap.ushell.ui.shell.ShellFloatingAction\",{id:\"floatingActionBtn\",icon:\"sap-icon://edit\",press:function(e){var t=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,\"Floating Button\",t),sap.ushell.Layout.reRenderGroupsLayout(null)}.bind(this),tooltip:sap.ushell.resources.i18n.getText(\"activateActionMode\")},!1,!0);e.data(\"sap-ui-fastnavgroup\",\"true\",!0),e.addEventDelegate({onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=!1},onsaptabprevious:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=!1}}),this.oModel.getProperty(\"/enableHelp\")&&e.addStyleClass(\"help-id-floatingActionBtn\"),sap.ushell.Container.getRenderer(\"fiori2\").showFloatingActionButton(e.getId(),!0)},_createActionButtons:function(){var e=this.oModel.getProperty(\"/personalization\"),t=this;this.oModel.getProperty(\"/actionModeMenuButtonEnabled\")&&e&&this._createActionModeMenuButton();var i=sap.ushell.Container.getRenderer(\"fiori2\").getModelConfiguration().enableMeArea;this.oModel.getProperty(\"/actionModeFloatingButtonEnabled\")&&e&&!i&&this._createFloatingActionButton(),e&&(this.oOpenCatalogItem=sap.ushell.Container.getRenderer(\"fiori2\").addActionButton(\"sap.ushell.ui.launchpad.ActionItem\",{id:\"openCatalogBtn\",text:sap.ushell.resources.i18n.getText(\"open_appFinder\"),icon:\"sap-icon://sys-find\",actionType:i?\"action\":\"default\",press:function(){t.parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\"}),sap.ui.getCore().byId(\"viewPortContainer\").switchState(\"Center\")}},!0,!0),this.oModel.getProperty(\"/enableHelp\")&&this.oOpenCatalogItem.addStyleClass(\"help-id-openCatalogActionItem\"))},onAfterNavigate:function(e){var t=sap.ui.getCore().byId(\"navContainerFlp\"),i=\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==(t?t.getCurrentPage().getViewName():void 0),o=sap.ushell.Container.getRenderer(\"fiori2\");if(i=i&&sap.ui.getCore().byId(\"shell\")&&sap.ui.getCore().byId(\"shell\").getModel()&&\"home\"==sap.ui.getCore().byId(\"shell\").getModel().getProperty(\"/currentState/stateName\")){o.createExtendedShellState(\"dashboardExtendedShellState\",function(){this._createActionButtons(),o.setHeaderHiding(!1)}.bind(this)),this.getController()._setCenterViewPortShift(),this._addActionModeButtonsToDashboard();var n=this.oAnchorNavigationBar.getVisibleGroups()[this.oAnchorNavigationBar.getSelectedItemIndex()];n&&jQuery(n.getDomRef()).focus(),setTimeout(function(){sap.ushell.Container&&o.applyExtendedShellState(\"dashboardExtendedShellState\")},0),this.oAnchorNavigationBar&&this.oAnchorNavigationBar.anchorItems&&(this.oAnchorNavigationBar.setNavigationBarItemsVisibility(),this.oAnchorNavigationBar.adjustItemSelection(this.oAnchorNavigationBar.getSelectedItemIndex()))}},_handleViewportStateSwitch:function(e,t,i){if(\"Center\"==i.getParameter(\"to\")){var o=sap.ui.getCore().byId(\"notifications-preview-container\");o&&o.setFloatingContainerItemsVisiblity&&o.setFloatingContainerItemsVisiblity(!0)}},_handleHeadsupNotificationsPresentation:function(e){var t=sap.ushell.Container.getRenderer(\"fiori2\"),i=\"Center\"===e,o=this.oPreviewNotificationsContainer.getDomRef(),n=o&&o.getBoundingClientRect(),s=!!n&&n.bottom<0,a=i?s:this.bHeadsupNotificationsInitialyVisible;t.showRightFloatingContainer(a)},_onAfterDashboardShow:function(e){var t,i,o=jQuery(\".sapUshellTileContainer:visible\"),n=sap.ui.getCore().byId(\"navContainerFlp\"),s=\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==(n?n.getCurrentPage().getViewName():void 0),a=this.oModel.getProperty(\"/tileActionModeActive\");if(s){if(!a){sap.ushell.utils.handleTilesVisibility(),sap.ushell.utils.refreshTiles();var r=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),l=jQuery(o[r]).find(\".sapUshellTile:first\"),h=l.length?l:jQuery(\"#configBtn\");i=this.oModel.getProperty(\"/enableNotificationsPreview\"),(t=sap.ui.getCore().byId(\"viewPortContainer\"))&&t.shiftCenterTransition(i),setTimeout(function(){h.focus()},1e3)}this.onAfterNavigate()}},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"},_isInDeashboard:function(){var e=sap.ui.getCore().byId(\"viewPortContainer\"),t=sap.ui.getCore().byId(\"dashboardGroups\");return\"application-Shell-home\"===e.getCurrentCenterPage()&&\"home\"===t.getModel().getProperty(\"/currentViewName\")},exit:function(){sap.ui.core.mvc.View.prototype.exit.apply(this,arguments),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"contentRendered\",this._onAfterDashboardShow,this),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"initialConfigurationSet\",this._onAfterDashboardShow,this),this.bSubscribedToViewportStateSwitch&&(sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"afterSwitchState\",this._handleViewportStateSwitch,this),this.bSubscribedToViewportStateSwitch=!1)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardContent.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.TileContainer\"),sap.ui.controller(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\",{onInit:function(){var e=sap.ui.getCore().getEventBus();this.handleDashboardScroll=this._handleDashboardScroll.bind(this),e.subscribe(\"launchpad\",\"appClosed\",this._resizeHandler,this),e.subscribe(\"launchpad\",\"appOpened\",this._appOpenedHandler,this),e.subscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),e.subscribe(\"launchpad\",\"actionModeInactive\",this._handleGroupVisibilityChanges,this),window.document.addEventListener(\"visibilitychange\",sap.ushell.utils.handleTilesVisibility,!1),this.sViewId=\"#\"+this.oView.getId(),sap.ui.Device.browser.mobile&&e.subscribe(\"launchpad\",\"contentRefresh\",this._webkitMobileRenderFix,this),this.isDesktop=sap.ui.Device.system.desktop&&navigator.userAgent.toLowerCase().indexOf(\"tablet\")<0,this.isNotificationPreviewLoaded=!1,this._setCenterViewPortShift()},onExit:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"launchpad\",\"contentRefresh\",this._webkitMobileRenderFix,this),e.unsubscribe(\"launchpad\",\"appClosed\",this._resizeHandler,this),e.unsubscribe(\"launchpad\",\"appOpened\",this._appOpenedHandler,this),e.unsubscribe(\"launchpad\",\"dashboardModelContentLoaded\",this._modelLoaded,this),window.document.removeEventListener(\"visibilitychange\",sap.ushell.utils.handleTilesVisibility,!1)},onAfterRendering:function(){var e,t,i,o,s,n=sap.ui.getCore().getEventBus(),a=this.getView().getDomRef().getElementsByTagName(\"section\");jQuery(a[0]).off(\"scrollstop\",this.handleDashboardScroll),jQuery(a[0]).on(\"scrollstop\",this.handleDashboardScroll),n.unsubscribe(\"launchpad\",\"scrollToGroup\",this._scrollToGroup,this),n.subscribe(\"launchpad\",\"scrollToGroup\",this._scrollToGroup,this),n.unsubscribe(\"launchpad\",\"scrollToFirstVisibleGroup\",this._scrollToFirstVisibleGroup,this),n.subscribe(\"launchpad\",\"scrollToFirstVisibleGroup\",this._scrollToFirstVisibleGroup,this),sap.ui.Device.orientation.attachHandler(function(){var s=jQuery(\"#dashboardGroups\").find(\".sapUshellTileContainer:visible\");s.length&&(e=this.getView().getModel(),t=e.getProperty(\"/topGroupInViewPortIndex\"),s.get(t)&&(i=sap.ui.getCore().byId(s.get(t).id),o=e.getProperty(\"/editTitle\"),this._publishAsync(\"launchpad\",\"scrollToGroup\",{group:i,isInEditTitle:o})))},this),jQuery(window).bind(\"resize\",function(){clearTimeout(s),s=setTimeout(this._resizeHandler.bind(this),300)}.bind(this)),this.getView().getModel().getProperty(\"/personalization\")&&!sap.ushell.components.flp.ActionMode&&(jQuery.sap.require(\"sap.ushell.components.flp.ActionMode\"),sap.ushell.components.flp.ActionMode.init(this.getView().getModel())),this._updateTopGroupInModel()},_setCenterViewPortShift:function(){var e=sap.ui.getCore().byId(\"viewPortContainer\");e&&e.shiftCenterTransition(!0)},_dashboardDeleteTileHandler:function(e){var t=e.getSource().getBindingContext().getObject().object,i={originalTileId:sap.ushell.Container.getService(\"LaunchPage\").getTileId(t)};sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",i,this)},dashboardTilePress:function(){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"dashboardTileClick\")},_updateTopGroupInModel:function(){var e=this.getView().getModel(),t=this._getIndexOfTopGroupInViewPort();e.setProperty(\"/topGroupInViewPortIndex\",t)},_getIndexOfTopGroupInViewPort:function(){var e,t=this.getView().getDomRef().getElementsByTagName(\"section\"),i=$(t).find(\".sapUshellTileContainer\"),o=i.not(\".sapUshellHidden\").first().offset(),s=o&&o.top||0,n=[],a=t[0].scrollTop,r=0;return i&&o?(i.each(function(){if(!jQuery(this).hasClass(\"sapUshellHidden\")){var e=jQuery(this).parent().offset().top;n.push([e,e+jQuery(this).parent().height()])}}),e=a+s,jQuery.each(n,function(t,i){var o=i[0],s=i[1];if(o-24<=e&&e<=s)return r=t,!1}),r):r},_handleDashboardScroll:function(){var e=this.getView();this._updateTopGroupInModel(),sap.ushell.utils.handleTilesVisibility(),e.oAnchorNavigationBar.closeOverflowPopup(),e.oAnchorNavigationBar.reArrangeNavigationBarElements()},_handleGroupDeletion:function(e){jQuery.sap.require(\"sap.m.MessageBox\");var t=sap.ui.getCore().getEventBus(),i=e.getObject(),o=i.removable,s=i.title,n=i.groupId,a=sap.ushell.resources.i18n,r=sap.ushell.Container.getService(\"Message\"),l=sap.m.MessageBox.Action,u=o?l.DELETE:a.getText(\"ResetGroupBtn\");r.confirm(a.getText(o?\"delete_group_msg\":\"reset_group_msg\",s),function(e){e===u&&t.publish(\"launchpad\",o?\"deleteGroup\":\"resetGroup\",{groupId:n})},a.getText(o?\"delete_group\":\"reset_group\"),[u,l.CANCEL])},_modelLoaded:function(){this.bModelInitialized=!0,sap.ushell.Layout.getInitPromise().then(function(){this._initializeUIActions()}.bind(this))},_initializeUIActions:function(){(new sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions).initializeUIActions(this)},_forceBrowserRerenderElement:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame;t?t(function(){var t=e.style.display;e.style.display=\"none\",e.style.display=t}):jQuery.sap.log.info(\"unsupported browser for animation frame\")},_webkitMobileRenderFix:function(){(sap.ui.Device.browser.chrome||sap.ui.Device.os.android)&&this._forceBrowserRerenderElement(document.body)},_resizeHandler:function(){this._addBottomSpace(),sap.ushell.utils.handleTilesVisibility();var e=jQuery.find(\"#dashboardGroups:visible\").length;sap.ushell.Layout&&e&&(sap.ushell.Layout.reRenderGroupsLayout(null),this._initializeUIActions())},_appOpenedHandler:function(e,t,i){var o,s,n=this.getView().getModel();s=this.getOwnerComponent().getMetadata().getComponentName(),-1===i.additionalInformation.indexOf(s)&&(sap.ushell.utils.setTilesNoVisibility(),(o=sap.ui.getCore().byId(\"viewPortContainer\"))&&o.shiftCenterTransition(!1)),sap.ushell.components.flp.ActionMode&&sap.ushell.components.flp.ActionMode.oModel&&sap.ushell.components.flp.ActionMode.oModel.getProperty(\"/tileActionModeActive\")&&sap.ushell.components.flp.ActionMode.toggleActionMode(n,\"Menu Item\")},_addBottomSpace:function(){sap.ushell.utils.addBottomSpace()},_scrollToFirstVisibleGroup:function(e,t,i){var o,s=this.oView.oDashboardGroupsBox.getGroups(),n=i.fromTop>0?i.fromTop:0;o=i.group?i.group.getGroupId():i.groupId,s&&(jQuery.each(s,function(e,t){if(t.getGroupId()===o){var s=document.getElementById(t.sId).offsetTop;return jQuery(\".sapUshellDashboardView section\").stop().animate({scrollTop:s+n},0),i.group&&i.focus&&jQuery.sap.byId(t.sId).focus(),!1}}),sap.ushell.utils.addBottomSpace())},_scrollToGroup:function(e,t,i){var o,s=this,n=this.oView.oDashboardGroupsBox.getGroups();o=i.group?i.group.getGroupId():i.groupId,n&&jQuery.each(this.oView.oDashboardGroupsBox.getGroups(),function(e,t){var n;if(t.getGroupId()===o)return setTimeout(function(){n=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+document.getElementById(t.sId).getBoundingClientRect().top,n+=49,jQuery(\".sapUshellDashboardView section\").stop().animate({scrollTop:n},500),i.isInEditTitle&&t.setEditMode(!0)},300),(i.groupId||i.groupChanged)&&s._addBottomSpace(),sap.ushell.utils.handleTilesVisibility(),!1})},_handleDrop:function(e,t){var i,o,s=sap.ushell.Layout.getLayoutEngine().layoutEndCallback(),n=sap.ui.getCore().getEventBus();s.tileMovedFlag&&(i=!0,o=!0,s.srcGroup!==s.dstGroup?i=o=!1:s.tile!==s.dstGroup.getTiles()[s.dstTileIndex]&&(o=!1),s.srcGroup.removeAggregation(\"tiles\",s.tile,i),s.dstGroup.insertAggregation(\"tiles\",s.tile,s.dstTileIndex,o),n.publish(\"launchpad\",\"moveTile\",{sTileId:s.tile.getUuid(),toGroupId:s.dstGroup.getGroupId(),toIndex:s.dstTileIndex}),n.publish(\"launchpad\",\"sortableStop\"))},_handleAnchorItemPress:function(e){this._scrollToGroup(\"launchpad\",\"scrollToGroup\",{group:e.getParameter(\"group\"),groupChanged:!1,focus:\"sapenter\"===e.getParameter(\"action\")})},_addGroupHandler:function(e){var t,i=e.getSource().getBindingContext().getPath().split(\"/\");t=window.parseInt(i[i.length-1],10),\"afterContent\"===e.getSource().sParentAggregationName&&(t+=1),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"createGroupAt\",{title:sap.ushell.resources.i18n.getText(\"new_group_name\"),location:t,isRendered:!0})},_notificationsUpdateCallback:function(){var e,t,i,o,s,n,a,r=this,l=0,u=this.getView().getModel().getProperty(\"/previewNotificationItems\"),p=[],d=[],h=!1,c=5-u.length-1;sap.ushell.Container.getService(\"Notifications\").getNotifications().done(function(g){if(g){var f=sap.ui.getCore().byId(\"notifications-preview-container\");if(this.isNotificationPreviewLoaded||f.setEnableBounceAnimations(!0),u&&u.length)for(s=0;s<u.length;s++){var m=u[s].originalItemId,b=!1;for(n=0;n<g.length;n++){if(g[n].Id===m){b=!0;break}if(u[s].originalTimestamp>g[n].CreatedAt)break}b||(u.splice(s,1),h=!0,s--)}for(u&&u.length>0&&(e=u[0].originalTimestamp,t=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(e)),s=0;s<g.length&&l<5;s++)i=g[s].CreatedAt,o=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(i),(!t||o>t)&&(p[l]=g[s],l++);var v=p.length;if(u&&u.length>0&&u.length<5&&g.length>u.length)for(e=u[u.length-1].originalTimestamp,t=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(e),l=0,s=0;s<g.length&&l<=c;s++)i=g[s].CreatedAt,(o=sap.ushell.Container.getService(\"Notifications\")._formatAsDate(i))<t&&(p[v+l]=g[s],l++);if(0!==p.length||h){for(n=0;n<p.length;n++)a=new sap.m.NotificationListItem({hideShowMoreButton:!0,description:p[n].SensitiveText,title:p[n].Text,datetime:sap.ushell.utils.formatDate(p[n].CreatedAt),priority:sap.ui.core.Priority[p[n].Priority.charAt(0)+p[n].Priority.substr(1).toLowerCase()],press:function(e){var t=this.getBindingContext().getPath().split(\"/\"),i=\"/\"+t[1]+\"/\"+t[2],o=this.getModel().getProperty(i),s=o.NavigationTargetObject,n=o.NavigationTargetAction,a=o.NavigationTargetParams,r=o.originalItemId,l=sap.ushell.Container.getService(\"Notifications\");sap.ushell.utils.toExternalWithParameters(s,n,a),l.markRead(r).fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"notificationsFailedMarkRead\"))})},close:function(e){var t=this.getBindingContext().getPath().split(\"/\"),i=\"/\"+t[1]+\"/\"+t[2],o=this.getModel().getProperty(i).originalItemId,s=r.getView().getModel().getProperty(\"/previewNotificationItems\"),n=sap.ushell.Container.getService(\"Notifications\").dismissNotification(o);n.done(function(){var e;for(e=0;e<s.length&&s[e].originalItemId!==o;e++);s.splice(e,1),r.getView().getModel().setProperty(\"/previewNotificationItems\",s)}),n.fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"notificationsFailedDismiss\")),r.getView().getModel().setProperty(\"/previewNotificationItems\",s)})}}),sap.ui.Device.system.desktop&&(a.removeStyleClass(\"sapUiSizeCozy\"),a.addStyleClass(\"sapUiSizeCompact\")),d.push({previewItemId:a.getId(),originalItemId:p[n].Id,originalTimestamp:p[n].CreatedAt,NavigationTargetObject:p[n].NavigationTargetObject,NavigationTargetAction:p[n].NavigationTargetAction,NavigationTargetParams:p[n].NavigationTargetParams}),\"RightCenter\"===sap.ui.getCore().byId(\"viewPortContainer\").getCurrentState()&&a.addStyleClass(\"sapUshellRightFloatingContainerItemBounceOut\");if(0===u.length)return r.getView().getModel().setProperty(\"/previewNotificationItems\",d),void this._disableNotificationPreviewBouncingAnimation(f);for(s=d.length-1;s>-1;s--)5===u.length&&setTimeout(function(){u.pop(),r.getView().getModel().setProperty(\"/previewNotificationItems\",u)},1e3),d[s].originalTimestamp>u[0].originalTimestamp?u.unshift(d[s]):u.push(d[s]);r.getView().getModel().setProperty(\"/previewNotificationItems\",u),this._disableNotificationPreviewBouncingAnimation(f)}else this._disableNotificationPreviewBouncingAnimation(f)}}.bind(this)).fail(function(){})},_disableNotificationPreviewBouncingAnimation:function(e){this.isNotificationPreviewLoaded||(this.isNotificationPreviewLoaded=!0,e.setEnableBounceAnimations(!1))},_publishAsync:function(e,t,i){var o=sap.ui.getCore().getEventBus();window.setTimeout(jQuery.proxy(o.publish,o,e,t,i),1)},_changeGroupVisibility:function(e){var t=e.getPath(),i=e.getModel(),o=i.getProperty(t+\"/isGroupVisible\");i.setProperty(t+\"/isGroupVisible\",!o)},_handleGroupVisibilityChanges:function(e,t,i){var o,s=sap.ushell.Container.getService(\"LaunchPage\"),n=this.getView().getModel(),a=sap.ushell.utils.getCurrentHiddenGroupIds(n),r=a.length===i.length;a.some(function(e,t){return!r||!(r=-1!==jQuery.inArray(e,i))}),r||((o=s.hideGroups(a)).done(function(){n.updateBindings(\"groups\"),this._handleToastMessage(a.length)}.bind(this)),o.fail(function(){sap.ushell.Container.getService(\"Message\").error(sap.ushell.resources.i18n.getText(\"hideGroups_error\"))}))},_handleToastMessage:function(e){var t=\"\";void 0!==typeof e&&(t=0===e?sap.ushell.resources.i18n.getText(\"hideGroups_none\"):1===e?sap.ushell.resources.i18n.getText(\"hideGroups_single\"):sap.ushell.resources.i18n.getText(\"hideGroups_multiple\",e),sap.ushell.Container.getService(\"Message\").show(sap.ushell.services.Message.Type.INFO,t))}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardContent.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.TileContainer\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.Tile\"),jQuery.sap.require(\"sap.ushell.override\"),jQuery.sap.require(\"sap.ushell.resources\"),jQuery.sap.require(\"sap.ushell.Layout\"),jQuery.sap.require(\"sap.ushell.ui.launchpad.AnchorItem\"),jQuery.sap.require(\"sap.ushell.ui.shell.RightFloatingContainer\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\",{createContent:function(e){var t,i,o=this,n=sap.ui.getCore().byId(\"viewPortContainer\");this.isTouch=!sap.ui.Device.system.combi&&(sap.ui.Device.system.phone||sap.ui.Device.system.tablet),this.isCombi=sap.ui.Device.system.combi,this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.oModel=this.parentComponent.getModel(),this.addStyleClass(\"sapUshellDashboardView\"),this.ieHtml5DnD=!!(this.oModel.getProperty(\"/personalization\")&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)&&sap.ui.Device.browser.version>=11&&(sap.ui.Device.system.combi||sap.ui.Device.system.tablet)),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"contentRendered\",this._onAfterDashboardShow,this),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"initialConfigurationSet\",this._onAfterDashboardShow,this),sap.ui.getCore().byId(\"navContainerFlp\").attachAfterNavigate(this.onAfterNavigate,this),this.addEventDelegate({onBeforeFirstShow:function(){sap.ushell.components.flp.launchpad.getDashboardManager().loadPersonalizedGroups(),o.onAfterNavigate()},onAfterShow:function(){o.getController()._addBottomSpace(),sap.ushell.Container.getRenderer(\"fiori2\").showRightFloatingContainer(!1)},onAfterHide:function(e){}}),this.oAnchorNavigationBar=this._getAnchorNavigationBar(e),t=new sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox,this.oDashboardGroupsBox=t.createGroupsBox(e,this.oModel),i=this.oModel.getProperty(\"/configEnableNotificationsPreview\"),n&&n.shiftCenterTransitionEnabled(i);return this.oPreviewNotificationsContainerPlaceholder=new sap.ushell.ui.shell.RightFloatingContainer({id:\"notifications-preview-container-placeholder\",visible:{path:\"/enableNotificationsPreview\",formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass(\"sapUshellPreviewNotificationsConainer\"),this.oPreviewNotificationsContainer=new sap.ushell.ui.shell.RightFloatingContainer({id:\"notifications-preview-container\",top:5.5,right:\"1rem\",floatingContainerItems:{path:\"/previewNotificationItems\",factory:function(e,t){return sap.ui.getCore().byId(t.getObject().previewItemId)}},visible:{path:\"/enableNotificationsPreview\",formatter:this._handleNotificationsPreviewVisibility.bind(this)}}).addStyleClass(\"sapContrastPlus\").addStyleClass(\"sapContrast\"),this.oPreviewNotificationsContainer.updateAggregation=function(e){var t,i=this.mBindingInfos[e],o=this.getMetadata().getJSONKeys()[e];jQuery.each(this[o._sGetter](),jQuery.proxy(function(e,t){this[o._sRemoveMutator](t)},this)),jQuery.each(i.binding.getContexts(),jQuery.proxy(function(e,n){t=i.factory(this.getId()+\"-\"+e,n)?i.factory(this.getId()+\"-\"+e,n).setBindingContext(n,i.model):\"\",this[o._sMutator](t)},this))},this.oPage=new sap.m.Page(\"sapUshellDashboardPage\",{customHeader:this.oAnchorNavigationBar,content:[this.oDashboardGroupsBox,this.oPreviewNotificationsContainerPlaceholder,this.oPreviewNotificationsContainer]}),[this.oPage]},_handleNotificationsPreviewVisibility:function(e){var t=sap.ushell.Container.getRenderer(\"fiori2\"),i=\"Center\"===t.getCurrentViewportState(),o=sap.ushell.Container.getService(\"Notifications\");return this.oDashboardGroupsBox.toggleStyleClass(\"sapUshellDashboardGroupsContainerSqueezed\",e),this.oAnchorNavigationBar.toggleStyleClass(\"sapUshellAnchorNavigationBarSqueezed\",e),(e=e&&i)&&(this.bNotificationsRegistered||(o.registerNotificationsUpdateCallback(this.oController._notificationsUpdateCallback.bind(this.oController)),this.bNotificationsRegistered=!0),o.isFirstDataLoaded()&&setTimeout(function(){this.oController&&this.oController._notificationsUpdateCallback&&this.oController._notificationsUpdateCallback()}.bind(this),300),this.bSubscribedToViewportStateSwitch||(this.bHeadsupNotificationsInitialyVisible=t.getRightFloatingContainerVisibility(),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"afterSwitchState\",this._handleViewportStateSwitch,this),this.bSubscribedToViewportStateSwitch=!0)),e},_fOnAfterAnchorBarRenderingHandler:function(e){var t=this.getModel()&&this.getModel().getProperty(\"/enableHelp\");this.getDefaultGroup()?t&&this.addStyleClass(\"help-id-homeAnchorNavigationBarItem\"):t&&this.addStyleClass(\"help-id-anchorNavigationBarItem\")},_getAnchorItemTemplate:function(){return new sap.ushell.ui.launchpad.AnchorItem({index:\"{index}\",title:\"{title}\",groupId:\"{groupId}\",defaultGroup:\"{isDefaultGroup}\",selected:!1,isGroupRendered:\"{isRendered}\",visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,t,i){return!!i[e?1:0]&&(t||e)}},afterRendering:this._fOnAfterAnchorBarRenderingHandler})},_getAnchorNavigationBar:function(e){var t=this._getAnchorItemTemplate(),i=new sap.ushell.ui.launchpad.AnchorNavigationBar(\"anchorNavigationBar\",{selectedItemIndex:\"{/topGroupInViewPortIndex}\",itemPress:[function(e){this._handleAnchorItemPress(e)},e],groups:{path:\"/groups\",template:t}});return(i=this._extendAnchorNavigationBar(i)).addStyleClass(\"sapContrastPlus\"),i},_extendAnchorNavigationBar:function(e){return jQuery.extend(e,{onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e,this.bGroupWasPressed),this.bGroupWasPressed=!1},onsaptabnext:function(e){e.preventDefault();var t=jQuery(\":focus\");!t.parent().parent().siblings().hasClass(\"sapUshellAnchorItemOverFlow\")||t.parent().parent().siblings().hasClass(\"sapUshellAnchorItemOverFlow\")&&t.parent().parent().siblings().hasClass(\"sapUshellShellHidden\")?(sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e),this.bGroupWasPressed=!1):jQuery(\".sapUshellAnchorItemOverFlow button\").focus()},onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabprevious:function(e){if(e.preventDefault(),jQuery(\":focus\").parent().hasClass(\"sapUshellAnchorItemOverFlow\")){var t=jQuery(\".sapUshellAnchorItem:visible:first\");t.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),t.focus()}else sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsapenter:function(e){e.srcControl.getDomRef().click()},onsapspace:function(e){e.srcControl.getDomRef().click()}})},_addActionModeButtonsToDashboard:function(){sap.ushell.components.flp.ActionMode&&sap.ushell.components.flp.ActionMode.init(this.getModel())},_createActionModeMenuButton:function(){var e=sap.ushell.Container.getRenderer(\"fiori2\").addActionButton(\"sap.ushell.ui.launchpad.ActionItem\",{id:\"ActionModeBtn\",text:sap.ushell.resources.i18n.getText(\"activateActionMode\"),icon:\"sap-icon://edit\",press:function(){var e=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,\"Menu Item\",e)}.bind(this)},!1,!0);this.oModel.getProperty(\"/enableHelp\")&&e.addStyleClass(\"help-id-ActionModeBtn\"),sap.ushell.Container.getRenderer(\"fiori2\").showActionButton(e.getId(),!0)},_createFloatingActionButton:function(){var e=sap.ushell.Container.getRenderer(\"fiori2\").addFloatingActionButton(\"sap.ushell.ui.shell.ShellFloatingAction\",{id:\"floatingActionBtn\",icon:\"sap-icon://edit\",press:function(e){var t=this.oDashboardGroupsBox.getGroups();sap.ushell.components.flp.ActionMode.toggleActionMode(this.oModel,\"Floating Button\",t),sap.ushell.Layout.reRenderGroupsLayout(null)}.bind(this),tooltip:sap.ushell.resources.i18n.getText(\"activateActionMode\")},!1,!0);e.data(\"sap-ui-fastnavgroup\",\"true\",!0),e.addEventDelegate({onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=!1},onsaptabprevious:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=!1}}),this.oModel.getProperty(\"/enableHelp\")&&e.addStyleClass(\"help-id-floatingActionBtn\"),sap.ushell.Container.getRenderer(\"fiori2\").showFloatingActionButton(e.getId(),!0)},_createActionButtons:function(){var e=this.oModel.getProperty(\"/personalization\"),t=this;this.oModel.getProperty(\"/actionModeMenuButtonEnabled\")&&e&&this._createActionModeMenuButton();var i=sap.ushell.Container.getRenderer(\"fiori2\").getModelConfiguration().enableMeArea;this.oModel.getProperty(\"/actionModeFloatingButtonEnabled\")&&e&&!i&&this._createFloatingActionButton(),e&&(this.oOpenCatalogItem=sap.ushell.Container.getRenderer(\"fiori2\").addActionButton(\"sap.ushell.ui.launchpad.ActionItem\",{id:\"openCatalogBtn\",text:sap.ushell.resources.i18n.getText(\"open_appFinder\"),icon:\"sap-icon://sys-find\",actionType:i?\"action\":\"default\",press:function(){t.parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\"}),sap.ui.getCore().byId(\"viewPortContainer\").switchState(\"Center\")}},!0,!0),this.oModel.getProperty(\"/enableHelp\")&&this.oOpenCatalogItem.addStyleClass(\"help-id-openCatalogActionItem\"))},onAfterNavigate:function(e){var t=sap.ui.getCore().byId(\"navContainerFlp\"),i=\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==(t?t.getCurrentPage().getViewName():void 0),o=sap.ushell.Container.getRenderer(\"fiori2\");if(i=i&&sap.ui.getCore().byId(\"shell\")&&sap.ui.getCore().byId(\"shell\").getModel()&&\"home\"==sap.ui.getCore().byId(\"shell\").getModel().getProperty(\"/currentState/stateName\")){o.createExtendedShellState(\"dashboardExtendedShellState\",function(){this._createActionButtons(),o.setHeaderHiding(!1)}.bind(this)),this.getController()._setCenterViewPortShift(),this._addActionModeButtonsToDashboard();var n=this.oAnchorNavigationBar.getVisibleGroups()[this.oAnchorNavigationBar.getSelectedItemIndex()];n&&jQuery(n.getDomRef()).focus(),setTimeout(function(){sap.ushell.Container&&o.applyExtendedShellState(\"dashboardExtendedShellState\")},0),this.oAnchorNavigationBar&&this.oAnchorNavigationBar.anchorItems&&(this.oAnchorNavigationBar.setNavigationBarItemsVisibility(),this.oAnchorNavigationBar.adjustItemSelection(this.oAnchorNavigationBar.getSelectedItemIndex()))}},_handleViewportStateSwitch:function(e,t,i){if(\"Center\"==i.getParameter(\"to\")){var o=sap.ui.getCore().byId(\"notifications-preview-container\");o&&o.setFloatingContainerItemsVisiblity&&o.setFloatingContainerItemsVisiblity(!0)}},_handleHeadsupNotificationsPresentation:function(e){var t=sap.ushell.Container.getRenderer(\"fiori2\"),i=\"Center\"===e,o=this.oPreviewNotificationsContainer.getDomRef(),n=o&&o.getBoundingClientRect(),s=!!n&&n.bottom<0,a=i?s:this.bHeadsupNotificationsInitialyVisible;t.showRightFloatingContainer(a)},_onAfterDashboardShow:function(e){var t,i,o=jQuery(\".sapUshellTileContainer:visible\"),n=sap.ui.getCore().byId(\"navContainerFlp\"),s=\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"==(n?n.getCurrentPage().getViewName():void 0),a=this.oModel.getProperty(\"/tileActionModeActive\");if(s){if(!a){sap.ushell.utils.handleTilesVisibility(),sap.ushell.utils.refreshTiles();var r=this.oModel.getProperty(\"/topGroupInViewPortIndex\"),l=jQuery(o[r]).find(\".sapUshellTile:first\"),h=l.length?l:jQuery(\"#configBtn\");i=this.oModel.getProperty(\"/enableNotificationsPreview\"),(t=sap.ui.getCore().byId(\"viewPortContainer\"))&&t.shiftCenterTransition(i),setTimeout(function(){h.focus()},1e3)}this.onAfterNavigate()}},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.dashboard.DashboardContent\"},_isInDeashboard:function(){var e=sap.ui.getCore().byId(\"viewPortContainer\"),t=sap.ui.getCore().byId(\"dashboardGroups\");return\"application-Shell-home\"===e.getCurrentCenterPage()&&\"home\"===t.getModel().getProperty(\"/currentViewName\")},exit:function(){sap.ui.core.mvc.View.prototype.exit.apply(this,arguments),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"contentRendered\",this._onAfterDashboardShow,this),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"initialConfigurationSet\",this._onAfterDashboardShow,this),this.bSubscribedToViewportStateSwitch&&(sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"afterSwitchState\",this._handleViewportStateSwitch,this),this.bSubscribedToViewportStateSwitch=!1)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardGroupsBox-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\"),sap.ui.base.Object.extend(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\",{metadata:{publicMethods:[\"createGroupsBox\"]},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox&&sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox())return sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox();sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=jQuery.sap.getter(this.getInterface()),this.oController=void 0,this.oGroupsContainer=void 0,this.bTileContainersContentAdded=!1,sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeActive\",this._addTileContainersContent,this)},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeActive\",this._addTileContainersContent,this),sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=void 0},createGroupsBox:function(e,t){this.oController=e;var o,n,r=this,i=this._getTileContainerTemplate(e,t),s=function(){return r.oModel.getProperty(\"/enableLockedGroupsCompactLayout\")&&!r.oModel.getProperty(\"/tileActionModeActive\")},a=function(e){var t,o;return e&&(t=e.getDomRef())&&(o=t.querySelector(\".sapUshellPlusTile\"))?o:null},l=function(e){var t=a(e.currentGroup),o=a(e.endGroup);e.tiles[e.tiles.length-2]===e.item||0===e.endGroup.getTiles().length?r._hidePlusTile(o):r._showPlusTile(o),e.currentGroup!==e.endGroup&&r._showPlusTile(t)};return o=function(){sap.ushell.Layout.getLayoutEngine().setExcludedControl(sap.ushell.ui.launchpad.PlusTile),sap.ushell.Layout.getLayoutEngine().setReorderTilesCallback.call(sap.ushell.Layout.layoutEngine,l)},n=function(){var t=document.querySelectorAll(\".sapUshellTileContainer:not(.sapUshellHidden) .sapUshellInner\")[0];if(t){var n=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+t.getBoundingClientRect().top;jQuery(\".sapUshellDashboardView section\").scrollTop(n-7)}if(!sap.ushell.Layout.isInited){sap.ushell.Layout.init({getGroups:this.getGroups.bind(this),isLockedGroupsCompactLayoutEnabled:s}).done(o),sap.ui.Device.media.attachHandler(function(){this.bIsDestroyed||sap.ushell.Layout.reRenderGroupsLayout(null)},this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);var r=this.getDomRef();e.getView().sDashboardGroupsWrapperId=!jQuery.isEmptyObject(r)&&r.parentNode?r.parentNode.id:\"\"}sap.ushell.Layout.reRenderGroupsLayout(null),this.getGroups().length&&(e.bModelInitialized&&e._initializeUIActions(),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRendered\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRefresh\"),sap.ui.getCore().byId(\"loadingDialog\").closeLoadingScreen(),e._addBottomSpace(),this.getModel().getProperty(\"/tilesOpacity\")&&sap.ushell.utils.handleTilesOpacity(this.getModel()));try{sap.ushell.utils.handleTilesVisibility()}catch(e){}},jQuery.sap.require(\"sap.ushell.ui.launchpad.DashboardGroupsContainer\"),this.oGroupsContainer=new sap.ushell.ui.launchpad.DashboardGroupsContainer(\"dashboardGroups\",{accessibilityLabel:sap.ushell.resources.i18n.getText(\"DashboardGroups_label\"),groups:{path:\"/groups\",template:i},afterRendering:n}),this.oGroupsContainer.addEventDelegate({onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0);var t=jQuery(\".sapUshellAnchorItem:visible:first\");t.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),t.focus()},onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabnext:function(e){r.oModel.getProperty(\"/tileActionModeActive\")&&document.activeElement.closest(\".sapUshellTileContainerHeader\")||(e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e))},onsaptabprevious:function(e){sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0);var t=jQuery(\":focus\");if(!r.oModel.getProperty(\"/tileActionModeActive\")||t.hasClass(\"sapUshellTileContainerHeader\")){e.preventDefault();var o=jQuery(\".sapUshellAnchorItem:visible:first\"),n=jQuery(\".sapUshellAnchorItemOverFlow\");n||o.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),n.hasClass(\"sapUshellShellHidden\")?o.focus():n.find(\"button\").focus()}}}),this.oModel=t,this.oGroupsContainer},_getTileContainerTemplate:function(e,t){var o=this;return new sap.ushell.ui.launchpad.TileContainer({headerText:\"{title}\",tooltip:\"{title}\",tileActionModeActive:\"{/tileActionModeActive}\",ieHtml5DnD:e.getView().ieHtml5DnD,enableHelp:\"{/enableHelp}\",groupId:\"{groupId}\",defaultGroup:\"{isDefaultGroup}\",isLastGroup:\"{isLastGroup}\",isGroupLocked:\"{isGroupLocked}\",showHeader:!0,editMode:\"{editMode}\",titleChange:function(e){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"changeGroupTitle\",{groupId:e.getSource().getGroupId(),newTitle:e.getParameter(\"newTitle\")})},showPlaceholder:{parts:[\"/tileActionModeActive\",\"tiles/length\"],formatter:function(e){return(e||!this.groupHasTiles())&&!this.getIsGroupLocked()}},visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,t,o){return!!o[e?1:0]&&(t||e)}},links:this._getLinkTemplate(),tiles:this._getTileTemplate(),add:function(e){o.oController.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify({targetGroup:encodeURIComponent(e.getSource().getBindingContext().sPath)})})},afterRendering:jQuery.proxy(this._tileContainerAfterRenderingHandler,o)})},_getLinkTemplate:function(){var e=new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0);return{path:\"links\",templateShareable:!0,template:new sap.ushell.ui.launchpad.LinkTileWrapper({uuid:\"{uuid}\",tileCatalogId:\"{tileCatalogId}\",target:\"{target}\",isLocked:\"{isLocked}\",tileActionModeActive:\"{/tileActionModeActive}\",animationRendered:!1,debugInfo:\"{debugInfo}\",ieHtml5DnD:this.oController.getView().ieHtml5DnD,tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},afterRendering:function(e){jQuery(this.getDomRef().getElementsByTagName(\"a\")).attr(\"tabindex\",-1)}}),filters:[e]}},_getTileTemplate:function(){var e=new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0);return{path:\"tiles\",templateShareable:!0,template:new sap.ushell.ui.launchpad.Tile({long:\"{long}\",uuid:\"{uuid}\",tileCatalogId:\"{tileCatalogId}\",target:\"{target}\",isLocked:\"{isLocked}\",tileActionModeActive:\"{/tileActionModeActive}\",showActionsIcon:\"{showActionsIcon}\",rgba:\"{rgba}\",animationRendered:!1,debugInfo:\"{debugInfo}\",ieHtml5DnD:this.oController.getView().ieHtml5DnD,afterRendering:function(e){var t,o=e.getSource().getBindingContext();o&&(t=o.getObject(),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"tileRendered\",{tileId:t.originalTileId,tileDomElementId:e.getSource().getId()}))},tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},coverDivPress:function(e){e.oSource.getBindingContext().getObject().tileIsBeingMoved||sap.ushell.components.flp.ActionMode._openActionsMenu(e)},showActions:function(e){sap.ushell.components.flp.ActionMode._openActionsMenu(e)},deletePress:function(e){var t=e.getSource().getBindingContext().getObject().object,o={originalTileId:sap.ushell.Container.getService(\"LaunchPage\").getTileId(t)};sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",o,this)},press:[this.oController.dashboardTilePress,this.oController]}),filters:[e]}},_tileContainerAfterRenderingHandler:function(e){if(e.oSource.bindProperty(\"showBackground\",\"/tileActionModeActive\"),e.oSource.bindProperty(\"showDragIndicator\",{parts:[\"/tileActionModeActive\",\"/enableDragIndicator\"],formatter:function(e,t){return e&&t&&!this.getIsGroupLocked()&&!this.getDefaultGroup()}}),e.oSource.bindProperty(\"showMobileActions\",{parts:[\"/tileActionModeActive\"],formatter:function(e){return e&&!this.getDefaultGroup()}}),e.oSource.bindProperty(\"showIcon\",{parts:[\"/isInDrag\",\"/tileActionModeActive\"],formatter:function(e,t){return this.getIsGroupLocked()&&(e||t)}}),e.oSource.bindProperty(\"deluminate\",{parts:[\"/isInDrag\"],formatter:function(e){return this.getIsGroupLocked()&&e}}),this.bTileContainersContentAdded&&!e.oSource.getBeforeContent().length){var t,o=e.oSource.getModel().getProperty(\"/groups\");for(t=0;t<o.length&&o[t].groupId!==e.oSource.getGroupId();t++);this._addTileContainerContent(t)}},_addTileContainersContent:function(){this.bTileContainersContentAdded||(this.oGroupsContainer.getGroups().forEach(function(e,t){this._addTileContainerContent(t)}.bind(this)),this.bTileContainersContentAdded=!0)},_addTileContainerContent:function(e){var t,o=this.oGroupsContainer.getGroups()[e];o&&(t=o.getBindingContext().getPath()+\"/\",o.addBeforeContent(this._getBeforeContent(this.oController,t)),o.addAfterContent(this._getAfterContent(this.oController,t)),o.addHeaderAction(this._getHeaderAction(this.oController,t)))},_getBeforeContent:function(e){var t=new sap.m.Button({icon:\"sap-icon://add\",text:sap.ushell.resources.i18n.getText(\"add_group_at\"),visible:{parts:[\"/tileActionModeActive\"],formatter:function(e){return!this.getParent().getIsGroupLocked()&&!this.getParent().getDefaultGroup()&&e}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass(\"sapUshellAddGroupButton\");return t.addDelegate({onAfterRendering:function(){jQuery(\".sapUshellAddGroupButton\").attr(\"tabindex\",-1)}}),t},_getAfterContent:function(e){var t=new sap.m.Button({icon:\"sap-icon://add\",text:sap.ushell.resources.i18n.getText(\"add_group_at\"),visible:{parts:[\"isLastGroup\",\"/tileActionModeActive\",\"/isInDrag\"],formatter:function(e,t,o){return e&&t}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass(\"sapUshellAddGroupButton\");return t.addDelegate({onAfterRendering:function(){jQuery(\".sapUshellAddGroupButton\").attr(\"tabindex\",-1)}}),t},_getHeaderActions:function(){return[new sap.m.Button({text:{path:\"isGroupVisible\",formatter:function(e){return sap.ui.Device.system.phone&&this.setIcon(\"sap-icon://edit\"),sap.ushell.resources.i18n.getText(e?\"HideGroupBtn\":\"ShowGroupBtn\")}},type:sap.m.ButtonType.Transparent,visible:{parts:[\"/tileActionModeActive\",\"/enableHideGroups\",\"isGroupLocked\",\"isDefaultGroup\"],formatter:function(e,t,o,n){return e&&t&&!o&&!n}},press:function(e){var t=e.getSource().getBindingContext();this.oController._changeGroupVisibility(t)}.bind(this)}).addStyleClass(\"sapUshellHeaderActionButton\"),new sap.m.Button({text:{path:\"removable\",formatter:function(e){return sap.ui.Device.system.phone&&(e?this.setIcon(\"sap-icon://delete\"):this.setIcon(\"sap-icon://refresh\")),sap.ushell.resources.i18n.getText(e?\"DeleteGroupBtn\":\"ResetGroupBtn\")}},type:sap.m.ButtonType.Transparent,visible:{parts:[\"/tileActionModeActive\",\"isDefaultGroup\"],formatter:function(e,t){return e&&!t}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},press:function(e){var t=e.getSource().getBindingContext();this.oController._handleGroupDeletion(t)}.bind(this)}).addStyleClass(\"sapUshellHeaderActionButton\")]},_getHeaderAction:function(e,t){return jQuery.sap.require(\"sap.ushell.ui.launchpad.GroupHeaderActions\"),new sap.ushell.ui.launchpad.GroupHeaderActions({content:this._getHeaderActions(),tileActionModeActive:{parts:[\"/tileActionModeActive\",t+\"isDefaultGroup\"],formatter:function(e,t){return e&&!t}},isOverflow:\"{/isPhoneWidth}\"}).addStyleClass(\"sapUshellOverlayGroupActionPanel\")},_hidePlusTile:function(e){e&&(e.className+=\" sapUshellHidePlusTile\")},_showPlusTile:function(e){e&&(e.className=e.className.split(\" sapUshellHidePlusTile\").join(\"\"))}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardGroupsBox.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\"),sap.ui.base.Object.extend(\"sap.ushell.components.flp.launchpad.dashboard.DashboardGroupsBox\",{metadata:{publicMethods:[\"createGroupsBox\"]},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox&&sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox())return sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox();sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=jQuery.sap.getter(this.getInterface()),this.oController=void 0,this.oGroupsContainer=void 0,this.bTileContainersContentAdded=!1,sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeActive\",this._addTileContainersContent,this)},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeActive\",this._addTileContainersContent,this),sap.ushell.components.flp.launchpad.dashboard.getDashboardGroupsBox=void 0},createGroupsBox:function(e,t){this.oController=e;var o,n,r=this,i=this._getTileContainerTemplate(e,t),s=function(){return r.oModel.getProperty(\"/enableLockedGroupsCompactLayout\")&&!r.oModel.getProperty(\"/tileActionModeActive\")},a=function(e){var t,o;return e&&(t=e.getDomRef())&&(o=t.querySelector(\".sapUshellPlusTile\"))?o:null},l=function(e){var t=a(e.currentGroup),o=a(e.endGroup);e.tiles[e.tiles.length-2]===e.item||0===e.endGroup.getTiles().length?r._hidePlusTile(o):r._showPlusTile(o),e.currentGroup!==e.endGroup&&r._showPlusTile(t)};return o=function(){sap.ushell.Layout.getLayoutEngine().setExcludedControl(sap.ushell.ui.launchpad.PlusTile),sap.ushell.Layout.getLayoutEngine().setReorderTilesCallback.call(sap.ushell.Layout.layoutEngine,l)},n=function(){var t=document.querySelectorAll(\".sapUshellTileContainer:not(.sapUshellHidden) .sapUshellInner\")[0];if(t){var n=-1*document.getElementById(\"dashboardGroups\").getBoundingClientRect().top+t.getBoundingClientRect().top;jQuery(\".sapUshellDashboardView section\").scrollTop(n-7)}if(!sap.ushell.Layout.isInited){sap.ushell.Layout.init({getGroups:this.getGroups.bind(this),isLockedGroupsCompactLayoutEnabled:s}).done(o),sap.ui.Device.media.attachHandler(function(){this.bIsDestroyed||sap.ushell.Layout.reRenderGroupsLayout(null)},this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);var r=this.getDomRef();e.getView().sDashboardGroupsWrapperId=!jQuery.isEmptyObject(r)&&r.parentNode?r.parentNode.id:\"\"}sap.ushell.Layout.reRenderGroupsLayout(null),this.getGroups().length&&(e.bModelInitialized&&e._initializeUIActions(),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRendered\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"contentRefresh\"),sap.ui.getCore().byId(\"loadingDialog\").closeLoadingScreen(),e._addBottomSpace(),this.getModel().getProperty(\"/tilesOpacity\")&&sap.ushell.utils.handleTilesOpacity(this.getModel()));try{sap.ushell.utils.handleTilesVisibility()}catch(e){}},jQuery.sap.require(\"sap.ushell.ui.launchpad.DashboardGroupsContainer\"),this.oGroupsContainer=new sap.ushell.ui.launchpad.DashboardGroupsContainer(\"dashboardGroups\",{accessibilityLabel:sap.ushell.resources.i18n.getText(\"DashboardGroups_label\"),groups:{path:\"/groups\",template:i},afterRendering:n}),this.oGroupsContainer.addEventDelegate({onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0);var t=jQuery(\".sapUshellAnchorItem:visible:first\");t.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),t.focus()},onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabnext:function(e){r.oModel.getProperty(\"/tileActionModeActive\")&&document.activeElement.closest(\".sapUshellTileContainerHeader\")||(e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e))},onsaptabprevious:function(e){sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0);var t=jQuery(\":focus\");if(!r.oModel.getProperty(\"/tileActionModeActive\")||t.hasClass(\"sapUshellTileContainerHeader\")){e.preventDefault();var o=jQuery(\".sapUshellAnchorItem:visible:first\"),n=jQuery(\".sapUshellAnchorItemOverFlow\");n||o.length||sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e),n.hasClass(\"sapUshellShellHidden\")?o.focus():n.find(\"button\").focus()}}}),this.oModel=t,this.oGroupsContainer},_getTileContainerTemplate:function(e,t){var o=this;return new sap.ushell.ui.launchpad.TileContainer({headerText:\"{title}\",tooltip:\"{title}\",tileActionModeActive:\"{/tileActionModeActive}\",ieHtml5DnD:e.getView().ieHtml5DnD,enableHelp:\"{/enableHelp}\",groupId:\"{groupId}\",defaultGroup:\"{isDefaultGroup}\",isLastGroup:\"{isLastGroup}\",isGroupLocked:\"{isGroupLocked}\",showHeader:!0,editMode:\"{editMode}\",titleChange:function(e){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"changeGroupTitle\",{groupId:e.getSource().getGroupId(),newTitle:e.getParameter(\"newTitle\")})},showPlaceholder:{parts:[\"/tileActionModeActive\",\"tiles/length\"],formatter:function(e){return(e||!this.groupHasTiles())&&!this.getIsGroupLocked()}},visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,t,o){return!!o[e?1:0]&&(t||e)}},links:this._getLinkTemplate(),tiles:this._getTileTemplate(),add:function(e){o.oController.getView().parentComponent.getRouter().navTo(\"appFinder\",{menu:\"catalog\",filters:JSON.stringify({targetGroup:encodeURIComponent(e.getSource().getBindingContext().sPath)})})},afterRendering:jQuery.proxy(this._tileContainerAfterRenderingHandler,o)})},_getLinkTemplate:function(){var e=new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0);return{path:\"links\",templateShareable:!0,template:new sap.ushell.ui.launchpad.LinkTileWrapper({uuid:\"{uuid}\",tileCatalogId:\"{tileCatalogId}\",target:\"{target}\",isLocked:\"{isLocked}\",tileActionModeActive:\"{/tileActionModeActive}\",animationRendered:!1,debugInfo:\"{debugInfo}\",ieHtml5DnD:this.oController.getView().ieHtml5DnD,tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},afterRendering:function(e){jQuery(this.getDomRef().getElementsByTagName(\"a\")).attr(\"tabindex\",-1)}}),filters:[e]}},_getTileTemplate:function(){var e=new sap.ui.model.Filter(\"isTileIntentSupported\",sap.ui.model.FilterOperator.EQ,!0);return{path:\"tiles\",templateShareable:!0,template:new sap.ushell.ui.launchpad.Tile({long:\"{long}\",uuid:\"{uuid}\",tileCatalogId:\"{tileCatalogId}\",target:\"{target}\",isLocked:\"{isLocked}\",tileActionModeActive:\"{/tileActionModeActive}\",showActionsIcon:\"{showActionsIcon}\",rgba:\"{rgba}\",animationRendered:!1,debugInfo:\"{debugInfo}\",ieHtml5DnD:this.oController.getView().ieHtml5DnD,afterRendering:function(e){var t,o=e.getSource().getBindingContext();o&&(t=o.getObject(),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"tileRendered\",{tileId:t.originalTileId,tileDomElementId:e.getSource().getId()}))},tileViews:{path:\"content\",factory:function(e,t){return t.getObject()}},coverDivPress:function(e){e.oSource.getBindingContext().getObject().tileIsBeingMoved||sap.ushell.components.flp.ActionMode._openActionsMenu(e)},showActions:function(e){sap.ushell.components.flp.ActionMode._openActionsMenu(e)},deletePress:function(e){var t=e.getSource().getBindingContext().getObject().object,o={originalTileId:sap.ushell.Container.getService(\"LaunchPage\").getTileId(t)};sap.ui.getCore().getEventBus().publish(\"launchpad\",\"deleteTile\",o,this)},press:[this.oController.dashboardTilePress,this.oController]}),filters:[e]}},_tileContainerAfterRenderingHandler:function(e){if(e.oSource.bindProperty(\"showBackground\",\"/tileActionModeActive\"),e.oSource.bindProperty(\"showDragIndicator\",{parts:[\"/tileActionModeActive\",\"/enableDragIndicator\"],formatter:function(e,t){return e&&t&&!this.getIsGroupLocked()&&!this.getDefaultGroup()}}),e.oSource.bindProperty(\"showMobileActions\",{parts:[\"/tileActionModeActive\"],formatter:function(e){return e&&!this.getDefaultGroup()}}),e.oSource.bindProperty(\"showIcon\",{parts:[\"/isInDrag\",\"/tileActionModeActive\"],formatter:function(e,t){return this.getIsGroupLocked()&&(e||t)}}),e.oSource.bindProperty(\"deluminate\",{parts:[\"/isInDrag\"],formatter:function(e){return this.getIsGroupLocked()&&e}}),this.bTileContainersContentAdded&&!e.oSource.getBeforeContent().length){var t,o=e.oSource.getModel().getProperty(\"/groups\");for(t=0;t<o.length&&o[t].groupId!==e.oSource.getGroupId();t++);this._addTileContainerContent(t)}},_addTileContainersContent:function(){this.bTileContainersContentAdded||(this.oGroupsContainer.getGroups().forEach(function(e,t){this._addTileContainerContent(t)}.bind(this)),this.bTileContainersContentAdded=!0)},_addTileContainerContent:function(e){var t,o=this.oGroupsContainer.getGroups()[e];o&&(t=o.getBindingContext().getPath()+\"/\",o.addBeforeContent(this._getBeforeContent(this.oController,t)),o.addAfterContent(this._getAfterContent(this.oController,t)),o.addHeaderAction(this._getHeaderAction(this.oController,t)))},_getBeforeContent:function(e){var t=new sap.m.Button({icon:\"sap-icon://add\",text:sap.ushell.resources.i18n.getText(\"add_group_at\"),visible:{parts:[\"/tileActionModeActive\"],formatter:function(e){return!this.getParent().getIsGroupLocked()&&!this.getParent().getDefaultGroup()&&e}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass(\"sapUshellAddGroupButton\");return t.addDelegate({onAfterRendering:function(){jQuery(\".sapUshellAddGroupButton\").attr(\"tabindex\",-1)}}),t},_getAfterContent:function(e){var t=new sap.m.Button({icon:\"sap-icon://add\",text:sap.ushell.resources.i18n.getText(\"add_group_at\"),visible:{parts:[\"isLastGroup\",\"/tileActionModeActive\",\"/isInDrag\"],formatter:function(e,t,o){return e&&t}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},type:sap.m.ButtonType.Transparent,press:[this.oController._addGroupHandler]}).addStyleClass(\"sapUshellAddGroupButton\");return t.addDelegate({onAfterRendering:function(){jQuery(\".sapUshellAddGroupButton\").attr(\"tabindex\",-1)}}),t},_getHeaderActions:function(){return[new sap.m.Button({text:{path:\"isGroupVisible\",formatter:function(e){return sap.ui.Device.system.phone&&this.setIcon(\"sap-icon://edit\"),sap.ushell.resources.i18n.getText(e?\"HideGroupBtn\":\"ShowGroupBtn\")}},type:sap.m.ButtonType.Transparent,visible:{parts:[\"/tileActionModeActive\",\"/enableHideGroups\",\"isGroupLocked\",\"isDefaultGroup\"],formatter:function(e,t,o,n){return e&&t&&!o&&!n}},press:function(e){var t=e.getSource().getBindingContext();this.oController._changeGroupVisibility(t)}.bind(this)}).addStyleClass(\"sapUshellHeaderActionButton\"),new sap.m.Button({text:{path:\"removable\",formatter:function(e){return sap.ui.Device.system.phone&&(e?this.setIcon(\"sap-icon://delete\"):this.setIcon(\"sap-icon://refresh\")),sap.ushell.resources.i18n.getText(e?\"DeleteGroupBtn\":\"ResetGroupBtn\")}},type:sap.m.ButtonType.Transparent,visible:{parts:[\"/tileActionModeActive\",\"isDefaultGroup\"],formatter:function(e,t){return e&&!t}},enabled:{parts:[\"/editTitle\"],formatter:function(e){return!e}},press:function(e){var t=e.getSource().getBindingContext();this.oController._handleGroupDeletion(t)}.bind(this)}).addStyleClass(\"sapUshellHeaderActionButton\")]},_getHeaderAction:function(e,t){return jQuery.sap.require(\"sap.ushell.ui.launchpad.GroupHeaderActions\"),new sap.ushell.ui.launchpad.GroupHeaderActions({content:this._getHeaderActions(),tileActionModeActive:{parts:[\"/tileActionModeActive\",t+\"isDefaultGroup\"],formatter:function(e,t){return e&&!t}},isOverflow:\"{/isPhoneWidth}\"}).addStyleClass(\"sapUshellOverlayGroupActionPanel\")},_hidePlusTile:function(e){e&&(e.className+=\" sapUshellHidePlusTile\")},_showPlusTile:function(e){e&&(e.className=e.className.split(\" sapUshellHidePlusTile\").join(\"\"))}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardUIActions-dbg.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\"),sap.ui.base.Object.extend(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\",{metadata:{publicMethods:[\"initializeUIActions\"]},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions&&sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions())return sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions();sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=jQuery.sap.getter(this.getInterface()),this.oTileUIActions=void 0,this.oGroupUIActions=void 0,this.oController=void 0,this.UIActionsInitialized=!1,sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeActive\",this._enableGroupUIActions,this),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeInactive\",this._disableGroupUIActions,this)},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeActive\",this._enableGroupUIActions,this),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeInactive\",this._disableGroupUIActions,this),sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=void 0,this.oGroupUIActions=null,this.oTileUIActions=null},initializeUIActions:function(e){this.oController=e;var t=e.getView().sDashboardGroupsWrapperId,s=sap.ui.getCore().getConfiguration().getRTL(),o={containerSelector:\"#dashboardGroups\",wrapperSelector:t?\"#\"+t:void 0,rootSelector:\"#dashboardGroups\"},a=jQuery.extend(!0,{},o,{switchModeDelay:1e3,isTouch:e.getView().isTouch,isCombi:e.getView().isCombi,debug:!1}),i={draggableSelector:\".sapUshellTile\",draggableSelectorExclude:\".sapUshellPlusTile\",placeHolderClass:\"sapUshellTile-placeholder\",cloneClass:\"sapUshellTile-clone\",deltaTop:-44,scrollContainerSelector:void 0,startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:3,isLayoutEngine:!0,disabledDraggableSelector:\"sapUshellLockedTile\",onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:s?jQuery(\".sapUshellViewPortLeft\").width():-jQuery(\".sapUshellViewPortLeft\").width()},l={draggableSelector:\".sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)\",draggableSelectorBlocker:\".sapUshellTilesContainer-sortable, .sapUshellTileContainerBeforeContent, .sapUshellTileContainerAfterContent\",draggableSelectorExclude:\".sapUshellHeaderActionButton\",placeHolderClass:\"sapUshellDashboardGroupsContainerItem-placeholder\",cloneClass:\"sapUshellDashboardGroupsContainerItem-clone\",startCallback:this._handleGroupsUIStart.bind(this),endCallback:this._handleGroupDrop.bind(this),dragCallback:this._handleGroupStartDrag.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:.1,isLayoutEngine:!1,isVerticalDragOnly:!0,draggableElement:\".sapUshellTileContainerHeader\"},n={draggableSelector:\".sapUshellTile\",placeHolderClass:\"sapUshellTile-placeholder\",startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:s?jQuery(\".sapUshellViewPortLeft\").width():-jQuery(\".sapUshellViewPortLeft\").width()},r={forGroups:!0,draggableSelector:\".sapUshellTileContainerHeader\",placeHolderClass:\"sapUshellDashboardGroupsContainerItem-placeholder\",_publishAsync:e._publishAsync};e.getView().oDashboardGroupsBox.getGroups().length&&e.getView().getModel().getProperty(\"/personalization\")&&(e.getView().ieHtml5DnD?(jQuery.sap.require(\"sap.ushell.UIActionsWin8\"),this._disableTileUIActions(),this._disableGroupUIActions(),this.oTileUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(!0,{},o,n)).enable(),this.oGroupUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(!0,{},o,r)).enable()):(jQuery.sap.require(\"sap.ushell.UIActions\"),this._disableTileUIActions(),this._disableGroupUIActions(),this.oTileUIActions=new sap.ushell.UIActions(jQuery.extend(!0,{},a,i)).enable(),this.oGroupUIActions=new sap.ushell.UIActions(jQuery.extend(!0,{},a,l)),e.getView().getModel().getProperty(\"/tileActionModeActive\")&&this.oGroupUIActions.enable()))},_enableGroupUIActions:function(){this.oGroupUIActions&&this.oGroupUIActions.enable()},_disableTileUIActions:function(){this.oTileUIActions&&this.oTileUIActions.disable()},_disableGroupUIActions:function(){this.oGroupUIActions&&this.oGroupUIActions.disable()},_handleTileDragMove:function(e){e.isScrolling||sap.ushell.Layout.getLayoutEngine().moveDraggable(e.moveX,e.moveY)},_handleTileUIStart:function(e,t){sap.ui.Device.browser.msie&&(navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0)&&(this.titleElement=t.querySelector(\"[title]\"),this.titleElement.setAttribute(\"data-title\",this.titleElement.getAttribute(\"title\")),this.titleElement.removeAttribute(\"title\"))},_changeTileDragAndDropAnimate:function(e,t){var s,o,a,i,l,n,r,h,d=this.dragNDropData.jqDashboard.scrollTop();for(r=0;r<this.dragNDropData.jqDraggableElements.length;r++)o=(s=this.dragNDropData.jqDraggableElements.eq(r))[0],a=s.position(),(i=s.offset()).left===o.offset.left&&i.top===o.offset.top||(o.position=a,o.offset=i,(h=s.data(\"clone\"))&&(l=o.position.left+this.dragNDropData.containerLeftMargin,n=this._getTileTopOffset(s,o.position,d),h.stop(!0,!1).animate({left:l,top:n},{duration:250},{easing:\"swing\"})))},_handleStartDragTile:function(e,t){if(window.getSelection){var s=window.getSelection();try{s.removeAllRanges()}catch(e){}}sap.ushell.Layout.getLayoutEngine().layoutStartCallback(t),jQuery(t).find(\"a\").removeAttr(\"href\"),this.placeHolderElement=jQuery(\".sapUshellTile-placeholder\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStart\")},_handleTileDrop:function(e,t){jQuery(\"#dashboardGroups .sapUshellHidePlusTile\").removeClass(\"sapUshellHidePlusTile\"),sap.ui.Device.browser.msie&&(navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0)&&this.titleElement.setAttribute(\"title\",this.titleElement.getAttribute(\"data-title\")),this.oController._handleDrop.call(this.oController,e,t)},_getTileTopOffset:function(e,t,s){var o=0+s;return o+=e.closest(\".sapUshellDashboardGroupsContainerItem\").position().top,o+=t.top},_markDisableGroups:function(){this.oController.getView().getModel()&&this.oController.getView().getModel().setProperty(\"/isInDrag\",!0)},_unmarkDisableGroups:function(){this.oController.getView().getModel()&&this.oController.getView().getModel().setProperty(\"/isInDrag\",!1)},_handleGroupStartDrag:function(e,t){this.oTileUIActions.disable();var s,o,a=jQuery(\".sapUshellDashboardGroupsContainerItem-clone\"),i=a.find(\".sapUshellContainerTitle\"),l=i.height(),n=i.width(),r=sap.ui.getCore().getConfiguration().getRTL();sap.ui.Device.system.phone?(jQuery(\".sapUshellTilesContainer-sortable\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellLinksContainer\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTileContainerBeforeContent\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellContainerHeaderActions\").addClass(\"sapUshellTileContainerHidden\")):(a.find(\".sapUshellTileContainerEditMode\").offset({top:this.oGroupUIActions.getMove().y-l,left:r?jQuery(\".sapUshellViewPortCenter\").width()+this.oGroupUIActions.getMove().x+n:this.oGroupUIActions.getMove().x-n/2}),jQuery(\".sapUshellTileContainerBeforeContent\").addClass(\"sapUshellTileContainerHidden\")),jQuery(\".sapUshellTileContainerAfterContent\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(t).find(\".sapUshellContainerHeaderActions\").addClass(\"sapUshellTileContainerHidden\"),this.oController.getView().getModel().setProperty(\"/isInDrag\",!0),jQuery(t).attr(\"startPos\",jQuery(t).index()),jQuery.sap.log.info(\"startPos - \"+jQuery(t).index()),setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStart\")},0),s=jQuery(\"#dashboardGroups\").offset().top,o=jQuery(\".sapUshellDashboardGroupsContainerItem-placeholder\").offset().top-s-jQuery(\".sapUshellDashboardGroupsContainerItem-clone\").offset().top,jQuery(\".sapUshellDashboardView section\").animate({scrollTop:o},0)},_handleGroupsUIStart:function(e,t){jQuery(t).find(\".sapUshellTileContainerContent\").css(\"outline-color\",\"transparent\")},_handleGroupDrop:function(e,t){var s=sap.ui.getCore().getEventBus(),o=jQuery(t),a=jQuery(o.children()[0]).attr(\"id\"),i=sap.ui.getCore().byId(a),l=sap.ui.getCore().byId(\"dashboardGroups\"),n={group:i,groupChanged:!1,focus:!1},r=o.index();o.startPos=window.parseInt(o.attr(\"startPos\"),10),l.removeAggregation(\"groups\",i,!0),l.insertAggregation(\"groups\",i,r,!0),this._handleGroupMoved(e,{item:o}),o.removeAttr(\"startPos\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStop\"),setTimeout(function(){jQuery(\".sapUshellContainerHeaderActions\").removeClass(\"sapUshellTileContainerHidden\"),jQuery(\".sapUshellTileContainerBeforeContent\").removeClass(\"sapUshellTileContainerHidden\"),jQuery(\".sapUshellTileContainerBeforeContent\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTileContainerAfterContent\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTilesContainer-sortable\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellLinksContainer\").removeClass(\"sapUshellTileContainerRemoveContent\")},0),window.setTimeout(jQuery.proxy(s.publish,s,\"launchpad\",\"scrollToGroup\",n),1),this.oTileUIActions.enable()},_handleGroupMoved:function(e,t){var s=t.item.startPos,o=t.item.index(),a=this.oController.getView().getModel();-1!==o&&(this.oController._publishAsync(\"launchpad\",\"moveGroup\",{fromIndex:s,toIndex:o}),setTimeout(function(){a.setProperty(\"/isInDrag\",!1)},100))},_setController:function(e){this.oController=e}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/dashboard/DashboardUIActions.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.declare(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\"),sap.ui.base.Object.extend(\"sap.ushell.components.flp.launchpad.dashboard.DashboardUIActions\",{metadata:{publicMethods:[\"initializeUIActions\"]},constructor:function(e,t){if(sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions&&sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions())return sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions();sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=jQuery.sap.getter(this.getInterface()),this.oTileUIActions=void 0,this.oGroupUIActions=void 0,this.oController=void 0,this.UIActionsInitialized=!1,sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeActive\",this._enableGroupUIActions,this),sap.ui.getCore().getEventBus().subscribe(\"launchpad\",\"actionModeInactive\",this._disableGroupUIActions,this)},destroy:function(){sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeActive\",this._enableGroupUIActions,this),sap.ui.getCore().getEventBus().unsubscribe(\"launchpad\",\"actionModeInactive\",this._disableGroupUIActions,this),sap.ushell.components.flp.launchpad.dashboard.getDashboardUIActions=void 0,this.oGroupUIActions=null,this.oTileUIActions=null},initializeUIActions:function(e){this.oController=e;var t=e.getView().sDashboardGroupsWrapperId,s=sap.ui.getCore().getConfiguration().getRTL(),o={containerSelector:\"#dashboardGroups\",wrapperSelector:t?\"#\"+t:void 0,rootSelector:\"#dashboardGroups\"},a=jQuery.extend(!0,{},o,{switchModeDelay:1e3,isTouch:e.getView().isTouch,isCombi:e.getView().isCombi,debug:!1}),i={draggableSelector:\".sapUshellTile\",draggableSelectorExclude:\".sapUshellPlusTile\",placeHolderClass:\"sapUshellTile-placeholder\",cloneClass:\"sapUshellTile-clone\",deltaTop:-44,scrollContainerSelector:void 0,startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:3,isLayoutEngine:!0,disabledDraggableSelector:\"sapUshellLockedTile\",onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:s?jQuery(\".sapUshellViewPortLeft\").width():-jQuery(\".sapUshellViewPortLeft\").width()},l={draggableSelector:\".sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)\",draggableSelectorBlocker:\".sapUshellTilesContainer-sortable, .sapUshellTileContainerBeforeContent, .sapUshellTileContainerAfterContent\",draggableSelectorExclude:\".sapUshellHeaderActionButton\",placeHolderClass:\"sapUshellDashboardGroupsContainerItem-placeholder\",cloneClass:\"sapUshellDashboardGroupsContainerItem-clone\",startCallback:this._handleGroupsUIStart.bind(this),endCallback:this._handleGroupDrop.bind(this),dragCallback:this._handleGroupStartDrag.bind(this),moveTolerance:e.getView().isTouch||e.getView().isCombi?10:.1,isLayoutEngine:!1,isVerticalDragOnly:!0,draggableElement:\".sapUshellTileContainerHeader\"},n={draggableSelector:\".sapUshellTile\",placeHolderClass:\"sapUshellTile-placeholder\",startCallback:this._handleTileUIStart.bind(this),endCallback:this._handleTileDrop.bind(this),dragCallback:this._handleStartDragTile.bind(this),dragAndScrollCallback:this._handleTileDragMove.bind(this),onDragStartUIHandler:this._markDisableGroups.bind(this),onDragEndUIHandler:this._unmarkDisableGroups.bind(this),offsetLeft:s?jQuery(\".sapUshellViewPortLeft\").width():-jQuery(\".sapUshellViewPortLeft\").width()},r={forGroups:!0,draggableSelector:\".sapUshellTileContainerHeader\",placeHolderClass:\"sapUshellDashboardGroupsContainerItem-placeholder\",_publishAsync:e._publishAsync};e.getView().oDashboardGroupsBox.getGroups().length&&e.getView().getModel().getProperty(\"/personalization\")&&(e.getView().ieHtml5DnD?(jQuery.sap.require(\"sap.ushell.UIActionsWin8\"),this._disableTileUIActions(),this._disableGroupUIActions(),this.oTileUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(!0,{},o,n)).enable(),this.oGroupUIActions=sap.ushell.UIActionsWin8.getInstance(jQuery.extend(!0,{},o,r)).enable()):(jQuery.sap.require(\"sap.ushell.UIActions\"),this._disableTileUIActions(),this._disableGroupUIActions(),this.oTileUIActions=new sap.ushell.UIActions(jQuery.extend(!0,{},a,i)).enable(),this.oGroupUIActions=new sap.ushell.UIActions(jQuery.extend(!0,{},a,l)),e.getView().getModel().getProperty(\"/tileActionModeActive\")&&this.oGroupUIActions.enable()))},_enableGroupUIActions:function(){this.oGroupUIActions&&this.oGroupUIActions.enable()},_disableTileUIActions:function(){this.oTileUIActions&&this.oTileUIActions.disable()},_disableGroupUIActions:function(){this.oGroupUIActions&&this.oGroupUIActions.disable()},_handleTileDragMove:function(e){e.isScrolling||sap.ushell.Layout.getLayoutEngine().moveDraggable(e.moveX,e.moveY)},_handleTileUIStart:function(e,t){sap.ui.Device.browser.msie&&(navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0)&&(this.titleElement=t.querySelector(\"[title]\"),this.titleElement.setAttribute(\"data-title\",this.titleElement.getAttribute(\"title\")),this.titleElement.removeAttribute(\"title\"))},_changeTileDragAndDropAnimate:function(e,t){var s,o,a,i,l,n,r,h,d=this.dragNDropData.jqDashboard.scrollTop();for(r=0;r<this.dragNDropData.jqDraggableElements.length;r++)o=(s=this.dragNDropData.jqDraggableElements.eq(r))[0],a=s.position(),(i=s.offset()).left===o.offset.left&&i.top===o.offset.top||(o.position=a,o.offset=i,(h=s.data(\"clone\"))&&(l=o.position.left+this.dragNDropData.containerLeftMargin,n=this._getTileTopOffset(s,o.position,d),h.stop(!0,!1).animate({left:l,top:n},{duration:250},{easing:\"swing\"})))},_handleStartDragTile:function(e,t){if(window.getSelection){var s=window.getSelection();try{s.removeAllRanges()}catch(e){}}sap.ushell.Layout.getLayoutEngine().layoutStartCallback(t),jQuery(t).find(\"a\").removeAttr(\"href\"),this.placeHolderElement=jQuery(\".sapUshellTile-placeholder\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStart\")},_handleTileDrop:function(e,t){jQuery(\"#dashboardGroups .sapUshellHidePlusTile\").removeClass(\"sapUshellHidePlusTile\"),sap.ui.Device.browser.msie&&(navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0)&&this.titleElement.setAttribute(\"title\",this.titleElement.getAttribute(\"data-title\")),this.oController._handleDrop.call(this.oController,e,t)},_getTileTopOffset:function(e,t,s){var o=0+s;return o+=e.closest(\".sapUshellDashboardGroupsContainerItem\").position().top,o+=t.top},_markDisableGroups:function(){this.oController.getView().getModel()&&this.oController.getView().getModel().setProperty(\"/isInDrag\",!0)},_unmarkDisableGroups:function(){this.oController.getView().getModel()&&this.oController.getView().getModel().setProperty(\"/isInDrag\",!1)},_handleGroupStartDrag:function(e,t){this.oTileUIActions.disable();var s,o,a=jQuery(\".sapUshellDashboardGroupsContainerItem-clone\"),i=a.find(\".sapUshellContainerTitle\"),l=i.height(),n=i.width(),r=sap.ui.getCore().getConfiguration().getRTL();sap.ui.Device.system.phone?(jQuery(\".sapUshellTilesContainer-sortable\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellLinksContainer\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTileContainerBeforeContent\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellContainerHeaderActions\").addClass(\"sapUshellTileContainerHidden\")):(a.find(\".sapUshellTileContainerEditMode\").offset({top:this.oGroupUIActions.getMove().y-l,left:r?jQuery(\".sapUshellViewPortCenter\").width()+this.oGroupUIActions.getMove().x+n:this.oGroupUIActions.getMove().x-n/2}),jQuery(\".sapUshellTileContainerBeforeContent\").addClass(\"sapUshellTileContainerHidden\")),jQuery(\".sapUshellTileContainerAfterContent\").addClass(\"sapUshellTileContainerRemoveContent\"),jQuery(t).find(\".sapUshellContainerHeaderActions\").addClass(\"sapUshellTileContainerHidden\"),this.oController.getView().getModel().setProperty(\"/isInDrag\",!0),jQuery(t).attr(\"startPos\",jQuery(t).index()),jQuery.sap.log.info(\"startPos - \"+jQuery(t).index()),setTimeout(function(){sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStart\")},0),s=jQuery(\"#dashboardGroups\").offset().top,o=jQuery(\".sapUshellDashboardGroupsContainerItem-placeholder\").offset().top-s-jQuery(\".sapUshellDashboardGroupsContainerItem-clone\").offset().top,jQuery(\".sapUshellDashboardView section\").animate({scrollTop:o},0)},_handleGroupsUIStart:function(e,t){jQuery(t).find(\".sapUshellTileContainerContent\").css(\"outline-color\",\"transparent\")},_handleGroupDrop:function(e,t){var s=sap.ui.getCore().getEventBus(),o=jQuery(t),a=jQuery(o.children()[0]).attr(\"id\"),i=sap.ui.getCore().byId(a),l=sap.ui.getCore().byId(\"dashboardGroups\"),n={group:i,groupChanged:!1,focus:!1},r=o.index();o.startPos=window.parseInt(o.attr(\"startPos\"),10),l.removeAggregation(\"groups\",i,!0),l.insertAggregation(\"groups\",i,r,!0),this._handleGroupMoved(e,{item:o}),o.removeAttr(\"startPos\"),sap.ui.getCore().getEventBus().publish(\"launchpad\",\"sortableStop\"),setTimeout(function(){jQuery(\".sapUshellContainerHeaderActions\").removeClass(\"sapUshellTileContainerHidden\"),jQuery(\".sapUshellTileContainerBeforeContent\").removeClass(\"sapUshellTileContainerHidden\"),jQuery(\".sapUshellTileContainerBeforeContent\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTileContainerAfterContent\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellTilesContainer-sortable\").removeClass(\"sapUshellTileContainerRemoveContent\"),jQuery(\".sapUshellLinksContainer\").removeClass(\"sapUshellTileContainerRemoveContent\")},0),window.setTimeout(jQuery.proxy(s.publish,s,\"launchpad\",\"scrollToGroup\",n),1),this.oTileUIActions.enable()},_handleGroupMoved:function(e,t){var s=t.item.startPos,o=t.item.index(),a=this.oController.getView().getModel();-1!==o&&(this.oController._publishAsync(\"launchpad\",\"moveGroup\",{fromIndex:s,toIndex:o}),setTimeout(function(){a.setProperty(\"/isInDrag\",!1)},100))},_setController:function(e){this.oController=e}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/group_list/GroupList-dbg.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.group_list.GroupList\",{onInit:function(){this.sViewId=\"#\"+this.getView().getId(),this.sGroupListId=\"#\"+this.getView().oGroupList.getId(),this.handleScroll=this._fHandleScroll.bind(this)},onAfterRendering:function(){this.jqView=jQuery(this.sViewId),this.jgGroupList=jQuery(this.sGroupListId);var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"grouplist\",\"ScrollAnimationEnd\",this._handleScrollAnimationEnd,this),e.subscribe(\"grouplist\",\"ScrollAnimationEnd\",this._handleScrollAnimationEnd,this),e.unsubscribe(\"grouplist\",\"DashboardRerender\",this._addScroll,this),e.subscribe(\"grouplist\",\"DashboardRerender\",this._addScroll,this),e.unsubscribe(\"launchpad\",\"dashboardScroll\",this.handleScroll,this),e.subscribe(\"launchpad\",\"dashboardScroll\",this.handleScroll,this),this._addScroll()},_addScroll:function(){var e=this;setTimeout(function(){this.dashboardElement=document.querySelector(\".sapUshellDashboardView section\"),this.dashboardElement&&(this.dashboardElement.removeEventListener(\"scroll\",e.handleScroll),this.dashboardElement.addEventListener(\"scroll\",e.handleScroll))}.bind(this),0)},_fHandleScroll:function(){var e=this.getView().getModel(),t=e.getProperty(\"/topGroupInViewPortIndex\");if(!e.getProperty(\"/scrollingToGroup\")){if(!e.getProperty(\"/groupList-skipScrollToGroup\")){var s=jQuery(\"#groupList li.sapUshellGroupLI\"),o=s.removeClass(\"sapUshellSelected\").eq(t);o.addClass(\"sapUshellSelected\");var l=document.getElementById(\"groupListPage-cont\"),i=l.scrollTop,r=i+l.offsetHeight,n=o[0]?o[0].offsetTop:void 0;n<i?jQuery(\"#groupListPage section\").animate({scrollTop:s[t].offsetTop},0):n+o[0].offsetHeight>r&&jQuery(\"#groupListPage section\").animate({scrollTop:i+s[t].offsetHeight},0)}sap.ushell.utils.handleTilesVisibility()}},_handleGroupListItemPress:function(e){var t,s=e.getSource();t=\"sapenter\"===e.getParameter(\"action\"),this._handleScrollToGroup(s,!1,t)},_handleScrollToGroup:function(e,t,s){if(e){document.querySelector(\".sapUshellDashboardView\").removeEventListener(\"scroll\",this.handleScroll),this._publishAsync(\"launchpad\",\"scrollToGroup\",{group:e,groupChanged:t,focus:s})}},_handleScrollAnimationEnd:function(){document.querySelector(\".sapUshellDashboardView\").addEventListener(\"scroll\",this.handleScroll),this.getView().getModel().setProperty(\"/scrollingToGroup\",!1)},_publishAsync:function(e,t,s){var o=sap.ui.getCore().getEventBus();window.setTimeout($.proxy(o.publish,o,e,t,s),1)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/group_list/GroupList-dbg.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.launchpad.GroupListItem\"),jQuery.sap.require(\"sap.ui.core.IconPool\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.group_list.GroupList\",{createContent:function(e){this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.oModel=this.parentComponent.getModel();var s=this,t=this._getGroupListItemTemplate(e);if(this.bAnimate=sap.ui.Device.system.desktop,this.isTouch=!sap.ui.Device.system.desktop,this.oGroupList=new sap.m.List(\"groupListItems\",{items:{path:\"/groups\",template:t}}).addStyleClass(\"sapUshellGroupItemList\"),jQuery.extend(this.oGroupList,{onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e)},onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabprevious:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)}}),this.oGroupList.onAfterRendering=function(){this.data(\"sap-ui-fastnavgroup\",\"false\",!1),jQuery(\"#groupListFooter\").attr(\"data-sap-ui-fastnavgroup\",\"false\"),s.oController.handleScroll()},jQuery.sap.require(\"sap.ushell.override\"),this.oGroupList.updateItems=sap.ushell.override.updateAggregatesFactory(\"items\"),void 0===this.getViewData().enablePersonalization||!1!==this.getViewData().enablePersonalization){this.oActionList=new sap.m.List({items:[]});var i=this.oActionList.onAfterRendering;this.oActionList.onAfterRendering=function(e){i.call(this,e)},new sap.m.Bar({id:\"groupListFooter\",contentMiddle:[this.oActionList]}).addStyleClass(\"sapUshellPersonalizationOn\"),this.groupListPage=new sap.m.Page({id:\"groupListPage\",showHeader:!1,showFooter:!0,content:[this.oGroupList]}),this.groupListPage.addStyleClass(\"sapUshellPersonalizationOn\")}else this.groupListPage=new sap.m.Page({id:\"groupListPage\",showHeader:!1,showFooter:!1,content:[this.oGroupList]});return this.addStyleClass(\"sapUshellGroupList\"),[this.groupListPage]},_getGroupListItemTemplate:function(e){return new sap.ushell.ui.launchpad.GroupListItem({index:\"{index}\",title:\"{title}\",tooltip:\"{title}\",defaultGroup:\"{isDefaultGroup}\",groupId:\"{groupId}\",numberOfTiles:\"{tiles/length}\",afterRendering:function(e){var s=this.getModel()&&this.getModel().getProperty(\"/enableHelp\");this.getDefaultGroup()?(this.addStyleClass(\"sapUshellDefaultGroupItem\"),s&&this.addStyleClass(\"help-id-homeGroupListItem\")):(this.addStyleClass(\"sapUshellGroupListItem\"),s&&this.addStyleClass(\"help-id-groupListItem\")),jQuery(this.getDomRef()).attr(\"tabindex\",\"0\")},isGroupVisible:\"{isGroupVisible}\",press:[function(e){this._handleGroupListItemPress(e)},e],visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,s,t){return!!t[e?1:0]&&(s||e)}}})},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.group_list.GroupList\"}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/group_list/GroupList.controller.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";sap.ui.controller(\"sap.ushell.components.flp.launchpad.group_list.GroupList\",{onInit:function(){this.sViewId=\"#\"+this.getView().getId(),this.sGroupListId=\"#\"+this.getView().oGroupList.getId(),this.handleScroll=this._fHandleScroll.bind(this)},onAfterRendering:function(){this.jqView=jQuery(this.sViewId),this.jgGroupList=jQuery(this.sGroupListId);var e=sap.ui.getCore().getEventBus();e.unsubscribe(\"grouplist\",\"ScrollAnimationEnd\",this._handleScrollAnimationEnd,this),e.subscribe(\"grouplist\",\"ScrollAnimationEnd\",this._handleScrollAnimationEnd,this),e.unsubscribe(\"grouplist\",\"DashboardRerender\",this._addScroll,this),e.subscribe(\"grouplist\",\"DashboardRerender\",this._addScroll,this),e.unsubscribe(\"launchpad\",\"dashboardScroll\",this.handleScroll,this),e.subscribe(\"launchpad\",\"dashboardScroll\",this.handleScroll,this),this._addScroll()},_addScroll:function(){var e=this;setTimeout(function(){this.dashboardElement=document.querySelector(\".sapUshellDashboardView section\"),this.dashboardElement&&(this.dashboardElement.removeEventListener(\"scroll\",e.handleScroll),this.dashboardElement.addEventListener(\"scroll\",e.handleScroll))}.bind(this),0)},_fHandleScroll:function(){var e=this.getView().getModel(),t=e.getProperty(\"/topGroupInViewPortIndex\");if(!e.getProperty(\"/scrollingToGroup\")){if(!e.getProperty(\"/groupList-skipScrollToGroup\")){var s=jQuery(\"#groupList li.sapUshellGroupLI\"),o=s.removeClass(\"sapUshellSelected\").eq(t);o.addClass(\"sapUshellSelected\");var l=document.getElementById(\"groupListPage-cont\"),i=l.scrollTop,r=i+l.offsetHeight,n=o[0]?o[0].offsetTop:void 0;n<i?jQuery(\"#groupListPage section\").animate({scrollTop:s[t].offsetTop},0):n+o[0].offsetHeight>r&&jQuery(\"#groupListPage section\").animate({scrollTop:i+s[t].offsetHeight},0)}sap.ushell.utils.handleTilesVisibility()}},_handleGroupListItemPress:function(e){var t,s=e.getSource();t=\"sapenter\"===e.getParameter(\"action\"),this._handleScrollToGroup(s,!1,t)},_handleScrollToGroup:function(e,t,s){if(e){document.querySelector(\".sapUshellDashboardView\").removeEventListener(\"scroll\",this.handleScroll),this._publishAsync(\"launchpad\",\"scrollToGroup\",{group:e,groupChanged:t,focus:s})}},_handleScrollAnimationEnd:function(){document.querySelector(\".sapUshellDashboardView\").addEventListener(\"scroll\",this.handleScroll),this.getView().getModel().setProperty(\"/scrollingToGroup\",!1)},_publishAsync:function(e,t,s){var o=sap.ui.getCore().getEventBus();window.setTimeout($.proxy(o.publish,o,e,t,s),1)}})}();",
	"web/ui5/resources/sap/ushell/components/flp/launchpad/group_list/GroupList.view.js": "// Copyright (c) 2009-2014 SAP SE, All Rights Reserved\n!function(){\"use strict\";jQuery.sap.require(\"sap.ushell.ui.launchpad.GroupListItem\"),jQuery.sap.require(\"sap.ui.core.IconPool\"),sap.ui.jsview(\"sap.ushell.components.flp.launchpad.group_list.GroupList\",{createContent:function(e){this.parentComponent=sap.ui.core.Component.getOwnerComponentFor(this),this.oModel=this.parentComponent.getModel();var s=this,t=this._getGroupListItemTemplate(e);if(this.bAnimate=sap.ui.Device.system.desktop,this.isTouch=!sap.ui.Device.system.desktop,this.oGroupList=new sap.m.List(\"groupListItems\",{items:{path:\"/groups\",template:t}}).addStyleClass(\"sapUshellGroupItemList\"),jQuery.extend(this.oGroupList,{onsapskipforward:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.components.flp.ComponentKeysHandler.goToTileContainer(e)},onsapskipback:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)},onsaptabprevious:function(e){e.preventDefault(),sap.ushell.renderers.fiori2.AccessKeysHandler.setIsFocusHandledByAnotherHandler(!0),sap.ushell.renderers.fiori2.AccessKeysHandler.sendFocusBackToShell(e)}}),this.oGroupList.onAfterRendering=function(){this.data(\"sap-ui-fastnavgroup\",\"false\",!1),jQuery(\"#groupListFooter\").attr(\"data-sap-ui-fastnavgroup\",\"false\"),s.oController.handleScroll()},jQuery.sap.require(\"sap.ushell.override\"),this.oGroupList.updateItems=sap.ushell.override.updateAggregatesFactory(\"items\"),void 0===this.getViewData().enablePersonalization||!1!==this.getViewData().enablePersonalization){this.oActionList=new sap.m.List({items:[]});var i=this.oActionList.onAfterRendering;this.oActionList.onAfterRendering=function(e){i.call(this,e)},new sap.m.Bar({id:\"groupListFooter\",contentMiddle:[this.oActionList]}).addStyleClass(\"sapUshellPersonalizationOn\"),this.groupListPage=new sap.m.Page({id:\"groupListPage\",showHeader:!1,showFooter:!0,content:[this.oGroupList]}),this.groupListPage.addStyleClass(\"sapUshellPersonalizationOn\")}else this.groupListPage=new sap.m.Page({id:\"groupListPage\",showHeader:!1,showFooter:!1,content:[this.oGroupList]});return this.addStyleClass(\"sapUshellGroupList\"),[this.groupListPage]},_getGroupListItemTemplate:function(e){return new sap.ushell.ui.launchpad.GroupListItem({index:\"{index}\",title:\"{title}\",tooltip:\"{title}\",defaultGroup:\"{isDefaultGroup}\",groupId:\"{groupId}\",numberOfTiles:\"{tiles/length}\",afterRendering:function(e){var s=this.getModel()&&this.getModel().getProperty(\"/enableHelp\");this.getDefaultGroup()?(this.addStyleClass(\"sapUshellDefaultGroupItem\"),s&&this.addStyleClass(\"help-id-homeGroupListItem\")):(this.addStyleClass(\"sapUshellGroupListItem\"),s&&this.addStyleClass(\"help-id-groupListItem\")),jQuery(this.getDomRef()).attr(\"tabindex\",\"0\")},isGroupVisible:\"{isGroupVisible}\",press:[function(e){this._handleGroupListItemPress(e)},e],visible:{parts:[\"/tileActionModeActive\",\"isGroupVisible\",\"visibilityModes\"],formatter:function(e,s,t){return!!t[e?1:0]&&(s||e)}}})},getControllerName:function(){return\"sap.ushell.components.flp.launchpad.group_list.GroupList\"}})}();"
}, "web/ui5/resources/sap/ushell/components/flp/Component-preload");