sap.ui.define([],function(){'use strict';var A=function(i){var c=i.functions.coreAjax;var m=i.instances.messageHandler;var x;function g(){var d=jQuery.Deferred();if(x!==undefined){d.resolve(x);}else{c({url:"/",type:"HEAD",beforeSend:function(a){a.setRequestHeader("x-csrf-token","Fetch");},success:function(D,s,X){x=X.getResponseHeader("x-csrf-token");d.resolve(x);},error:function(){x="";var a=m.createMessageObject({code:5105});m.putMessage(a);d.resolve(x);}});}return d.promise();}this.send=function(s){if(s.type==="POST"||s.type==="PUT"||s.type==="DELETE"){g(c,m).done(function(x){s.headers=s.headers||{};s.headers["X-CSRF-Token"]=x;if(s.data&&!s.headers["Content-Type"]){s.headers["Content-Type"]="application/json;charset=utf-8";}c(s);});}else{c(s);}};};sap.apf.cloudFoundry.AjaxHandler=A;return A;},true);
