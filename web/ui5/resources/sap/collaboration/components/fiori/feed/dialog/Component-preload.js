sap.ui.require.preload({
	"web/ui5/resources/sap/collaboration/components/fiori/feed/dialog/Component-dbg.js": "/*!\n * @copyright@\n */\njQuery.sap.require(\"sap.collaboration.library\"),jQuery.sap.require(\"sap.collaboration.components.utils.CommonUtil\"),jQuery.sap.require(\"sap.collaboration.components.utils.JamUtil\"),jQuery.sap.require(\"sap.collaboration.components.utils.OdataUtil\"),jQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.declare(\"sap.collaboration.components.fiori.feed.dialog.Component\"),sap.ui.core.UIComponent.extend(\"sap.collaboration.components.fiori.feed.dialog.Component\",{metadata:{includes:[\"../../../resources/css/Sharing.css\"],properties:{width:{type:\"sap.ui.core.CSSSize\",defaultValue:\"575px\"},height:{type:\"sap.ui.core.CSSSize\",defaultValue:\"605px\"},feedType:{type:\"string\",defaultValue:sap.collaboration.FeedType.object},groupIds:{type:\"string\"},object:{type:\"object\"},businessObject:{type:\"object\"}},aggregations:{},events:{}},systemSettings:{oDataServiceUrl:\"/sap/opu/odata/sap/SM_INTEGRATION_V2_SRV\",oCollaborationHostRestService:\"/sap/bc/ui2/smi/rest_tunnel/Jam//v1\",oCollaborationHostODataService:\"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData\"},init:function(){this.oCommonUtil=new sap.collaboration.components.utils.CommonUtil,this.oJamUtil=new sap.collaboration.components.utils.JamUtil,this.oLangBundle=this.oCommonUtil.getLanguageBundle(),this.sJamUrl=void 0,this.sJamToken=void 0,this.oOdataModel=void 0,this.oODataUtil=void 0,this.oBusinessObject={},sap.ui.core.UIComponent.prototype.init.apply(this)},setSettings:function(e){if(e)this.setFeedType(e.feedType),this.setGroupIds(e.groupIds),this.setObject(e.object),this.setBusinessObject(e.businessObject);else{var t=new Error(\"Settings object is undefined\");jQuery.sap.log.error(t.stack)}},open:function(){this._logComponentProperties();try{this._validateInputParameters(this.mProperties),this._createFeedDialog(),this._requestWidgetData(),this.oFeedDialog.open()}catch(e){jQuery.sap.log.error(e.stack),this.oCommonUtil.displayError()}},onBeforeRendering:function(){},onAfterRendering:function(){},render:function(e){},_requestWidgetData:function(){var e=this._getCSRFToken(),t=this,o=this.systemSettings.oCollaborationHostRestService;this._initOData(),this.getObject()?this._getObjectWithoutMapping():this.getBusinessObject()&&this._getObjectWithMapping();this.oJamUtil.getJamSinglelUseTokens(o,function(){4==this.readyState&&(201==this.status?(t.sJamToken=this.responseXML.getElementsByTagName(\"single_use_token\")[0].attributes[0].value,t.sJamUrl&&t.oBusinessObject.odata_url&&t.oBusinessObject.metadata_url&&(t._createFeedView(),t.oFeedDialog.addContent(t.oFeedView),setTimeout(function(){t.oFeedDialog.setBusy(!1)},3e3))):(jQuery.sap.log.error(\"The single use token from SAP Jam was not returned successfully\",\"\",\"sap.collaboration.components.utils.JamUtil.getJamSinglelUseTokens()\"),!0===t.oFeedDialog.isOpen()&&t.oFeedDialog.close(),t.oCommonUtil.displayError()))},!0,e)},_getObjectWithoutMapping:function(){var e,t=this;e=this._createBatchRequests(),this.oODataUtil.executeODataBatchRequest(this.oOdataModel,e,function(e){t._parseBatchResults(e),t.sJamToken&&(t._createFeedView(),t.oFeedDialog.addContent(t.oFeedView),setTimeout(function(){t.oFeedDialog.setBusy(!1)},3e3))},!0,function(e){throw jQuery.sap.log.error(e,\"\",\"sap.collaboration.components.fiori.feed.dialog.Component._getObjectWithoutMapping(), fnBatchErrorCallback()\"),e})},_getObjectWithMapping:function(){var e=this,t=new jQuery.Deferred;t.done(function(t){e.sJamUrl=t});var o=new jQuery.Deferred;o.done(function(t){e._setMappedObject(t)}),jQuery.when(t,o).fail(function(t){e.oFeedDialog&&e.oFeedDialog.isOpen()&&e.oFeedDialog.close(),e.oCommonUtil.displayError()}),this.oODataUtil.getJamUrl(this.oOdataModel,t),this.oODataUtil.getExternalObjectMapping(this.oOdataModel,this.getBusinessObject(),o)},_setMappedObject:function(e){var t=this;this.oBusinessObject.id=e.Exid,this.oBusinessObject.type=e.ObjectType,this.oBusinessObject.odata_url=this.oBusinessObject.id,this.oBusinessObject.metadata_url=this.oBusinessObject.type,this.sJamToken&&(this._createFeedView(),this.oFeedDialog.addContent(this.oFeedView),setTimeout(function(){t.oFeedDialog.setBusy(!1)},3e3))},_initOData:function(){var e=this.systemSettings.oDataServiceUrl;if(this.oOdataModel||(this.oOdataModel=new sap.ui.model.odata.ODataModel(e,!0)),!this.oOdataModel.oMetadata.oMetadata){var t=new Error(\"Metadata is undefined\");throw jQuery.sap.log.error(t,\"\",\"sap.collaboration.components.fiori.feed.dialog.Component._requestWidgetData()\"),t}this.oODataUtil||(this.oODataUtil=new sap.collaboration.components.utils.OdataUtil)},_getCSRFToken:function(){var e=\"\",t=this.systemSettings.oCollaborationHostODataService;return this.oJamUtil.getCSRFToken(t,function(t){4==this.readyState&&200==this.status&&(e=this.getResponseHeader(\"x-csrf-token\"))},!1),e},_createBatchRequests:function(){var e=[];return this.sJamUrl||e.push(this.oODataUtil.createJamUrlBatchOperation(this.oOdataModel)),e=e.concat(this._createExternalUrlBatchRequest(this.oODataUtil,this.getObject()))},_createExternalUrlBatchRequest:function(e,t){var o=[];return e&&t&&(t.id&&o.push(e.createExternalOdataUrlBatchOperation(this.oOdataModel,t.id)),t.type&&o.push(e.createExternalOdataUrlBatchOperation(this.oOdataModel,t.type))),o},_parseBatchResults:function(e){var t=0;if(!this.sJamUrl){if(e[t].error)throw new Error(e[t].error);this.sJamUrl=e[t][this.oODataUtil.OdataUtilConstants.EndPoint.GetCollaborationHostUrl].URL,t++}if(e[t].error)throw new Error(e[t].error);if(this.oBusinessObject.id=e[t][this.oODataUtil.OdataUtilConstants.EndPoint.GetExternalODataURL].URL,this.oBusinessObject.odata_url=this.oBusinessObject.id,e[++t].error)throw new Error(e[t].error);this.oBusinessObject.type=e[t][this.oODataUtil.OdataUtilConstants.EndPoint.GetExternalODataURL].URL,this.oBusinessObject.metadata_url=this.oBusinessObject.type},_createFeedView:function(){this.oFeedView?(this.oFeedView.getController().sFeedType=this.getFeedType(),this.oFeedView.getViewData().groupIds=this.getGroupIds(),this.oFeedView.getController().oBusinessObject=this.oBusinessObject):this.oFeedView=sap.ui.view({id:this.getId()+\"_FeedView\",height:\"100%\",viewData:{controlId:this.getId(),jamURL:this.sJamUrl,jamToken:this.sJamToken,appType:sap.collaboration.AppType.widget,feedType:this.getFeedType(),groupIds:this.getGroupIds(),businessObject:this.oBusinessObject,langBundle:this.oLangBundle},type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.collaboration.components.fiori.feed.commons.Detail\"})},_createFeedDialog:function(){var e=this;this.oFeedDialog||(this.oFeedDialog=new sap.m.Dialog(this.getId()+\"FeedDialog\",{title:this.oLangBundle.getText(\"FEED_DIALOG_TITLE\"),stretch:!1,contentWidth:this.getWidth(),contentHeight:this.getHeight(),content:[],endButton:new sap.m.Button({text:this.oLangBundle.getText(\"CLOSE_BUTTON_TEXT\"),press:function(){e.oFeedDialog.close()}})}),sap.ui.Device.system.phone&&this.oFeedDialog.setStretch(!0)),this.oFeedDialog.setBusy(!0)},_validateInputParameters:function(e){var t;if(!e)throw t=new Error(\"Input paremeters are undefined\"),jQuery.sap.log.error(t.stack),t;if(e.businessObject){var o=e.businessObject;if(jQuery.isEmptyObject(o))throw t=new Error(\"Business Object is empty\"),jQuery.sap.log.error(t.stack),t;if(!o.appContext)throw t=new Error(\"Application context is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.odataServicePath)throw t=new Error(\"OData Service Path is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.collection)throw t=new Error(\"Collection is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.key)throw t=new Error(\"Key is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.name)throw t=new Error(\"Name is undefined\"),jQuery.sap.log.error(t.stack),t}else{if(!e.object)throw t=new Error(\"Neither an Object nor a Business Object was passed\");var s=e.object;if(jQuery.isEmptyObject(s))throw t=new Error(\"Business Object is empty\"),jQuery.sap.log.error(t.stack),t;if(!s.id)throw t=new Error(\"Object is undefined\"),jQuery.sap.log.error(t.stack),t;if(!s.type)throw t=new Error(\"Missing Object Type\"),jQuery.sap.log.error(t.stack),t}},_logComponentProperties:function(){jQuery.sap.log.debug(\"Share Component properties:\",\"\",\"sap.collaboration.components.fiori.dialog.Component._logComponentProperties()\"),jQuery.sap.log.debug(\"width: \"+this.getWidth()),jQuery.sap.log.debug(\"height: \"+this.getHeight()),jQuery.sap.log.debug(\"oDataServiceUrl: \"+this.systemSettings.oDataServiceUrl),jQuery.sap.log.debug(\"feedType: \"+this.getFeedType()),jQuery.sap.log.debug(\"groupIds: \"+this.getGroupIds()),jQuery.sap.log.debug(\"object: \"+JSON.stringify(this.getObject())),jQuery.sap.log.debug(\"businessObject: \"+JSON.stringify(this.getBusinessObject()))}});",
	"web/ui5/resources/sap/collaboration/components/fiori/feed/dialog/Component.js": "/*!\n * @copyright@\n */\njQuery.sap.require(\"sap.collaboration.library\"),jQuery.sap.require(\"sap.collaboration.components.utils.CommonUtil\"),jQuery.sap.require(\"sap.collaboration.components.utils.JamUtil\"),jQuery.sap.require(\"sap.collaboration.components.utils.OdataUtil\"),jQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.declare(\"sap.collaboration.components.fiori.feed.dialog.Component\"),sap.ui.core.UIComponent.extend(\"sap.collaboration.components.fiori.feed.dialog.Component\",{metadata:{includes:[\"../../../resources/css/Sharing.css\"],properties:{width:{type:\"sap.ui.core.CSSSize\",defaultValue:\"575px\"},height:{type:\"sap.ui.core.CSSSize\",defaultValue:\"605px\"},feedType:{type:\"string\",defaultValue:sap.collaboration.FeedType.object},groupIds:{type:\"string\"},object:{type:\"object\"},businessObject:{type:\"object\"}},aggregations:{},events:{}},systemSettings:{oDataServiceUrl:\"/sap/opu/odata/sap/SM_INTEGRATION_V2_SRV\",oCollaborationHostRestService:\"/sap/bc/ui2/smi/rest_tunnel/Jam//v1\",oCollaborationHostODataService:\"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData\"},init:function(){this.oCommonUtil=new sap.collaboration.components.utils.CommonUtil,this.oJamUtil=new sap.collaboration.components.utils.JamUtil,this.oLangBundle=this.oCommonUtil.getLanguageBundle(),this.sJamUrl=void 0,this.sJamToken=void 0,this.oOdataModel=void 0,this.oODataUtil=void 0,this.oBusinessObject={},sap.ui.core.UIComponent.prototype.init.apply(this)},setSettings:function(e){if(e)this.setFeedType(e.feedType),this.setGroupIds(e.groupIds),this.setObject(e.object),this.setBusinessObject(e.businessObject);else{var t=new Error(\"Settings object is undefined\");jQuery.sap.log.error(t.stack)}},open:function(){this._logComponentProperties();try{this._validateInputParameters(this.mProperties),this._createFeedDialog(),this._requestWidgetData(),this.oFeedDialog.open()}catch(e){jQuery.sap.log.error(e.stack),this.oCommonUtil.displayError()}},onBeforeRendering:function(){},onAfterRendering:function(){},render:function(e){},_requestWidgetData:function(){var e=this._getCSRFToken(),t=this,o=this.systemSettings.oCollaborationHostRestService;this._initOData(),this.getObject()?this._getObjectWithoutMapping():this.getBusinessObject()&&this._getObjectWithMapping();this.oJamUtil.getJamSinglelUseTokens(o,function(){4==this.readyState&&(201==this.status?(t.sJamToken=this.responseXML.getElementsByTagName(\"single_use_token\")[0].attributes[0].value,t.sJamUrl&&t.oBusinessObject.odata_url&&t.oBusinessObject.metadata_url&&(t._createFeedView(),t.oFeedDialog.addContent(t.oFeedView),setTimeout(function(){t.oFeedDialog.setBusy(!1)},3e3))):(jQuery.sap.log.error(\"The single use token from SAP Jam was not returned successfully\",\"\",\"sap.collaboration.components.utils.JamUtil.getJamSinglelUseTokens()\"),!0===t.oFeedDialog.isOpen()&&t.oFeedDialog.close(),t.oCommonUtil.displayError()))},!0,e)},_getObjectWithoutMapping:function(){var e,t=this;e=this._createBatchRequests(),this.oODataUtil.executeODataBatchRequest(this.oOdataModel,e,function(e){t._parseBatchResults(e),t.sJamToken&&(t._createFeedView(),t.oFeedDialog.addContent(t.oFeedView),setTimeout(function(){t.oFeedDialog.setBusy(!1)},3e3))},!0,function(e){throw jQuery.sap.log.error(e,\"\",\"sap.collaboration.components.fiori.feed.dialog.Component._getObjectWithoutMapping(), fnBatchErrorCallback()\"),e})},_getObjectWithMapping:function(){var e=this,t=new jQuery.Deferred;t.done(function(t){e.sJamUrl=t});var o=new jQuery.Deferred;o.done(function(t){e._setMappedObject(t)}),jQuery.when(t,o).fail(function(t){e.oFeedDialog&&e.oFeedDialog.isOpen()&&e.oFeedDialog.close(),e.oCommonUtil.displayError()}),this.oODataUtil.getJamUrl(this.oOdataModel,t),this.oODataUtil.getExternalObjectMapping(this.oOdataModel,this.getBusinessObject(),o)},_setMappedObject:function(e){var t=this;this.oBusinessObject.id=e.Exid,this.oBusinessObject.type=e.ObjectType,this.oBusinessObject.odata_url=this.oBusinessObject.id,this.oBusinessObject.metadata_url=this.oBusinessObject.type,this.sJamToken&&(this._createFeedView(),this.oFeedDialog.addContent(this.oFeedView),setTimeout(function(){t.oFeedDialog.setBusy(!1)},3e3))},_initOData:function(){var e=this.systemSettings.oDataServiceUrl;if(this.oOdataModel||(this.oOdataModel=new sap.ui.model.odata.ODataModel(e,!0)),!this.oOdataModel.oMetadata.oMetadata){var t=new Error(\"Metadata is undefined\");throw jQuery.sap.log.error(t,\"\",\"sap.collaboration.components.fiori.feed.dialog.Component._requestWidgetData()\"),t}this.oODataUtil||(this.oODataUtil=new sap.collaboration.components.utils.OdataUtil)},_getCSRFToken:function(){var e=\"\",t=this.systemSettings.oCollaborationHostODataService;return this.oJamUtil.getCSRFToken(t,function(t){4==this.readyState&&200==this.status&&(e=this.getResponseHeader(\"x-csrf-token\"))},!1),e},_createBatchRequests:function(){var e=this,t=[];return e.sJamUrl||t.push(e.oODataUtil.createJamUrlBatchOperation(e.oOdataModel)),t=t.concat(e._createExternalUrlBatchRequest(e.oODataUtil,e.getObject()))},_createExternalUrlBatchRequest:function(e,t){var o=[];return e&&t&&(t.id&&o.push(e.createExternalOdataUrlBatchOperation(this.oOdataModel,t.id)),t.type&&o.push(e.createExternalOdataUrlBatchOperation(this.oOdataModel,t.type))),o},_parseBatchResults:function(e){var t=this,o=0;if(!t.sJamUrl){if(e[o].error)throw new Error(e[o].error);t.sJamUrl=e[o][t.oODataUtil.OdataUtilConstants.EndPoint.GetCollaborationHostUrl].URL,o++}if(e[o].error)throw new Error(e[o].error);if(t.oBusinessObject.id=e[o][t.oODataUtil.OdataUtilConstants.EndPoint.GetExternalODataURL].URL,t.oBusinessObject.odata_url=t.oBusinessObject.id,e[++o].error)throw new Error(e[o].error);t.oBusinessObject.type=e[o][t.oODataUtil.OdataUtilConstants.EndPoint.GetExternalODataURL].URL,t.oBusinessObject.metadata_url=t.oBusinessObject.type},_createFeedView:function(){var e=this;e.oFeedView?(e.oFeedView.getController().sFeedType=e.getFeedType(),e.oFeedView.getViewData().groupIds=e.getGroupIds(),e.oFeedView.getController().oBusinessObject=e.oBusinessObject):e.oFeedView=sap.ui.view({id:e.getId()+\"_FeedView\",height:\"100%\",viewData:{controlId:e.getId(),jamURL:e.sJamUrl,jamToken:e.sJamToken,appType:sap.collaboration.AppType.widget,feedType:e.getFeedType(),groupIds:e.getGroupIds(),businessObject:e.oBusinessObject,langBundle:e.oLangBundle},type:sap.ui.core.mvc.ViewType.JS,viewName:\"sap.collaboration.components.fiori.feed.commons.Detail\"})},_createFeedDialog:function(){var e=this;this.oFeedDialog||(this.oFeedDialog=new sap.m.Dialog(this.getId()+\"FeedDialog\",{title:this.oLangBundle.getText(\"FEED_DIALOG_TITLE\"),stretch:!1,contentWidth:this.getWidth(),contentHeight:this.getHeight(),content:[],endButton:new sap.m.Button({text:this.oLangBundle.getText(\"CLOSE_BUTTON_TEXT\"),press:function(){e.oFeedDialog.close()}})}),sap.ui.Device.system.phone&&this.oFeedDialog.setStretch(!0)),this.oFeedDialog.setBusy(!0)},_validateInputParameters:function(e){var t;if(!e)throw t=new Error(\"Input paremeters are undefined\"),jQuery.sap.log.error(t.stack),t;if(e.businessObject){var o=e.businessObject;if(jQuery.isEmptyObject(o))throw t=new Error(\"Business Object is empty\"),jQuery.sap.log.error(t.stack),t;if(!o.appContext)throw t=new Error(\"Application context is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.odataServicePath)throw t=new Error(\"OData Service Path is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.collection)throw t=new Error(\"Collection is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.key)throw t=new Error(\"Key is undefined\"),jQuery.sap.log.error(t.stack),t;if(!o.name)throw t=new Error(\"Name is undefined\"),jQuery.sap.log.error(t.stack),t}else{if(!e.object)throw t=new Error(\"Neither an Object nor a Business Object was passed\");var s=e.object;if(jQuery.isEmptyObject(s))throw t=new Error(\"Business Object is empty\"),jQuery.sap.log.error(t.stack),t;if(!s.id)throw t=new Error(\"Object is undefined\"),jQuery.sap.log.error(t.stack),t;if(!s.type)throw t=new Error(\"Missing Object Type\"),jQuery.sap.log.error(t.stack),t}},_logComponentProperties:function(){jQuery.sap.log.debug(\"Share Component properties:\",\"\",\"sap.collaboration.components.fiori.dialog.Component._logComponentProperties()\"),jQuery.sap.log.debug(\"width: \"+this.getWidth()),jQuery.sap.log.debug(\"height: \"+this.getHeight()),jQuery.sap.log.debug(\"oDataServiceUrl: \"+this.systemSettings.oDataServiceUrl),jQuery.sap.log.debug(\"feedType: \"+this.getFeedType()),jQuery.sap.log.debug(\"groupIds: \"+this.getGroupIds()),jQuery.sap.log.debug(\"object: \"+JSON.stringify(this.getObject())),jQuery.sap.log.debug(\"businessObject: \"+JSON.stringify(this.getBusinessObject()))}});"
}, "web/ui5/resources/sap/collaboration/components/fiori/feed/dialog/Component-preload");