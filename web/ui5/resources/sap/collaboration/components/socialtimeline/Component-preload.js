sap.ui.require.preload({
	"web/ui5/resources/sap/collaboration/components/socialtimeline/Component-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.require(\"sap.suite.ui.commons.Timeline\"),jQuery.sap.require(\"sap.suite.ui.commons.TimelineItem\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.validation.InputValidator\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.controls.TimelineItemEmbedded\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.filter.FilterType\"),jQuery.sap.require(\"sap.collaboration.components.controls.ReplyPopover\"),jQuery.sap.require(\"sap.collaboration.components.controls.SocialTextArea\"),jQuery.sap.require(\"sap.collaboration.components.controls.FilterPopover\"),jQuery.sap.require(\"sap.collaboration.components.utils.CommonUtil\"),jQuery.sap.require(\"sap.collaboration.components.utils.DateUtil\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.Component\"),sap.ui.core.UIComponent.extend(\"sap.collaboration.components.socialtimeline.Component\",{metadata:{version:\"1.0\",includes:[\"../resources/css/SocialTimeline.css\"],dependencies:{libs:[\"sap.collaboration\"],components:[],ui5version:\"\"},config:{},customizing:{},rootView:null,publicMethods:[\"setBusinessObject\",\"setBusinessObjectKey\",\"setBusinessObjectMap\",\"updateTimelineEntry\",\"deleteTimelineEntry\"],aggregations:{},properties:{enableSocial:{type:\"boolean\",group:\"Social\",defaultValue:!0},alignment:{type:\"sap.suite.ui.commons.TimelineAlignment\",group:\"Misc\",defaultValue:sap.suite.ui.commons.TimelineAlignment.Right},axisOrientation:{type:\"sap.suite.ui.commons.TimelineAxisOrientation\",group:\"Misc\",defaultValue:sap.suite.ui.commons.TimelineAxisOrientation.Vertical},noDataText:{type:\"string\",group:\"Misc\",defaultValue:null},showIcons:{type:\"boolean\",group:\"Misc\",defaultValue:!0},visible:{type:\"boolean\",group:\"Appearance\",defaultValue:!0},width:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"100%\"},customFilter:{type:\"object[]\",group:\"Social\"}},events:{customActionPress:{}}},_defaultAttributes:{collaborationHostServiceUrl:\"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData\",smiServiceUrl:\"/sap/opu/odata/sap/SM_INTEGRATION_V2_SRV\",pageSize:10,jamOnly:!1},init:function(){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.Component\"),this._oCollaborationHostModel,this._oSMIntegrationModel,this._oTimeline,this._oTimelineModelData={enableSocial:!0,alignment:sap.suite.ui.commons.TimelineAlignment.Right,axisOrientation:sap.suite.ui.commons.TimelineAxisOrientation.Vertical,enableBackendFilter:!0,enableScroll:!0,forceGrowing:!0,noDataText:null,showIcons:!0,sort:!0,visible:!0,width:\"100%\",timelineData:[],suggestions:[]},this._oTimelineModel=new sap.ui.model.json.JSONModel(this._oTimelineModelData),this._oTimelineModel.setSizeLimit(1e4),this._oTimelineModel.bindProperty(\"/enableSocial\").attachChange(this._onEnableSocialChange,this),this._iGrowingThreshold=this._defaultAttributes.pageSize,this._oFilterIcon,this._oContextSelect,this._oAddPostButton,this._oBusinessObjectMap={},this._oBusinessObject={},this._oCommonUtil=new sap.collaboration.components.utils.CommonUtil,this._oDateUtil=new sap.collaboration.components.utils.DateUtil,this._oLanguageBundle=this._oCommonUtil.getLanguageBundle(),this._oTimelineDataHandler,this._oJamDataHandler,this._oSMIntegrationDataHandler,this._oFilterPopover,this._oFilterConstants=new sap.collaboration.components.socialtimeline.filter.FilterType,this._oFilter={},this._oRepliesData,this._oReplyPopover,this._oAddPostPopover,this._oSocialProfile,this._oTimelineUser={},this._oInputValidator,this._oGettingTimelineData,this._initialize(),this._oInputValidator=new sap.collaboration.components.socialtimeline.validation.InputValidator(this),sap.ui.core.UIComponent.prototype.init.apply(this)},exit:function(){this._oTimeline&&this._oTimeline.destroy(),this._oAddPostPopover&&this._oAddPostPopover.destroy(),this._oReplyPopover&&this._oReplyPopover.destroy(),this._oFilterPopover&&this._oFilterPopover.destroy(),this._oSocialProfile&&this._oSocialProfile.destroy(),this._oInputValidator&&this._oInputValidator.destroy(),this._oFilterIcon&&this._oFilterIcon.destroy(),this._oContextSelect&&this._oContextSelect.destroy(),this._oAddPostButton&&this._oAddPostButton.destroy()},onBeforeRendering:function(){!0===this._oInputValidator.areSocialFeaturesEnabled()?this._oBusinessObject.key&&\"\"!==this._oBusinessObject.key||(this._oTimeline._filterIcon.setEnabled(!1),this._oContextSelect.setEnabled(!1)):(this._oBusinessObject.key&&\"\"!==this._oBusinessObject.key||this._oTimeline._filterIcon.setEnabled(!1),this._oContextSelect.setVisible(!1),this._oAddPostButton.setVisible(!1)),this._getLoggedInUser(),this._bindTemplates()},onAfterRendering:function(){},createContent:function(){return this._createTimeline()},setProperty:function(e,t){switch(sap.ui.core.UIComponent.prototype.setProperty.call(this,e,t),this._oLogger.info(e+\": \"+t),e){case\"enableSocial\":var i=t;!0===i&&(i=this._oInputValidator.validateEnableSocial()),this._oTimelineModel.setProperty(\"/\"+e,i);break;case\"customFilter\":var o=t;this._oInputValidator.validateCustomFilter(),o&&0!==o.length?(this._oTimeline.setCustomFilter(this._getFilter()),this._oTimeline._filterIcon.setEnabled(!0)):this._oTimeline._filterIcon.setEnabled(!1);break;default:this._oTimelineModel.setProperty(\"/\"+e,t)}},setSettings:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t])},setBusinessObjectMap:function(e){var t,i;this._oLogger.info(\"servicePath: \"+e.servicePath),this._oLogger.info(\"collection: \"+e.collection),this._oLogger.info(\"applicationContext: \"+e.applicationContext),this._oBusinessObjectMap=e,this._validateBusinessObjectMap(),this._defaultAttributes.jamOnly=jQuery.isEmptyObject(this._oBusinessObjectMap.serviceModel),this._defaultAttributes.jamOnly?(this._oFilter={type:this._oFilterConstants.FILTER_TYPE.feedUpdates},this._oContextSelect.setVisible(!1),this._oTimeline._filterIcon.setVisible(!1)):(this._oContextSelect.setVisible(!0),this._oTimeline._filterIcon.setVisible(!0),t=this._oInputValidator.createTermsUtilityForBackend(this._oBusinessObjectMap.serviceModel),i=new sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler(this._oBusinessObjectMap.serviceModel,t)),this._oTimelineDataHandler=new sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler(this._oBusinessObjectMap,this._oJamDataHandler,this._oSMIntegrationDataHandler,i,t,this._iGrowingThreshold,this._oInputValidator.areSocialFeaturesEnabled(),this._oInputValidator.areBackendFeaturesEnabled())},setBusinessObjectKey:function(e){this._oLogger.info(\"Business Object Key: \"+e),this._oTimelineDataHandler||this._oLogger.error(\"Function setBusinessObjectMap must be called before calling setBusinessObjectKey for the first time.\"),this._oTimeline._filterIcon.setEnabled(!0),this._oAddPostButton.setEnabled(!1),this._oContextSelect.setEnabled(!0),this._oBusinessObject={key:e,name:e},this._oTimelineDataHandler.setBusinessObject(this._oBusinessObject),this._defaultAttributes.jamOnly||this._resetFilterAndContextSelector(),this._refreshTimelineModel()},setBusinessObject:function(e){this._oBusinessObject=e,this._oLogger.info(\"Business Object Key: \"+this._oBusinessObject.key),this._oLogger.info(\"Business Object Name: \"+this._oBusinessObject.name),this._oTimelineDataHandler||this._oLogger.error(\"Function setBusinessObjectMap must be called before calling setBusinessObject for the first time.\"),this._validateBusinessObject(),this._defaultAttributes.jamOnly?this._oAddPostButton.setEnabled(!0):(this._oTimeline._filterIcon.setEnabled(!0),this._oAddPostButton.setEnabled(!1),this._oContextSelect.setEnabled(!0),this._oTimelineDataHandler.setBusinessObject(this._oBusinessObject)),this._defaultAttributes.jamOnly||this._resetFilterAndContextSelector(),this._refreshTimelineModel()},updateTimelineEntry:function(e,t){var i=sap.ui.getCore().byId(t),o=i.getAggregation(\"embeddedControl\")._oFlexbox.getItems();if(o[0].setText(e),o.length>1)for(var s=1;s<o.length;s++)o[s].destroy();var n=i.getModel(),a=this._oTimeline.getContent().indexOf(i);n.getData().timelineData[a].timelineItemData.text=e,n.getData().timelineData[a].timelineItemData.timelineEntryDetails=[]},deleteTimelineEntry:function(e){var t=sap.ui.getCore().byId(e),i=t.getModel(),o=this._oTimeline.getContent().indexOf(t);i.getData().timelineData.splice(o,1),t.destroy()},_initialize:function(){this._oCollaborationHostModel||(this._oCollaborationHostModel=new sap.ui.model.odata.ODataModel(this._defaultAttributes.collaborationHostServiceUrl,!0)),this._oSMIntegrationModel||(this._oSMIntegrationModel=new sap.ui.model.odata.ODataModel(this._defaultAttributes.smiServiceUrl,!0)),this._oJamDataHandler||(this._oJamDataHandler=new sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler(this._oCollaborationHostModel)),this._oSMIntegrationDataHandler||(this._oSMIntegrationDataHandler=new sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler(this._oSMIntegrationModel))},_createTimeline:function(){return this._oTimeline=new sap.suite.ui.commons.Timeline(this.getId()+\"_timeline\",{enableSocial:\"{/enableSocial}\",alignment:\"{/alignment}\",axisOrientation:\"{/axisOrientation}\",enableBackendFilter:\"{/enableBackendFilter}\",enableScroll:\"{/enableScroll}\",forceGrowing:\"{/forceGrowing}\",noDataText:\"{/noDataText}\",showIcons:\"{/showIcons}\",visible:\"{/visible}\",width:\"{/width}\",sort:\"{/sort}\",data:[],grow:this._onGrow.bind(this)}),this._modifyHeaderBar(),this._oTimeline.setModel(this._oTimelineModel),this._oTimeline},_modifyHeaderBar:function(){var e=this._oTimeline.getHeaderBar(),t=e.getContent();this._oFilterIcon=t[t.length-1],this._oContextSelect=this._createContextSelector(),e.insertContent(this._oContextSelect,0),this._oAddPostButton=this._createAddPostButton(),e.insertContent(this._oAddPostButton,3)},_createContextSelector:function(){return new sap.m.Button(this.getId()+\"_context_select\",{icon:\"sap-icon://navigation-down-arrow\",iconFirst:!1,text:this._oLanguageBundle.getText(\"ST_CONTEXT_SYSTEM_UPDATES\"),type:sap.m.ButtonType.Transparent,press:[function(e){var t=sap.ui.getCore().byId(this.getId()+\"_context_select\"),i=sap.ui.getCore().byId(this.getId()+\"_context_select_popover\");if(void 0==i){var o=[];o.push({context_type:this._oFilterConstants.FILTER_TYPE.systemUpdates,context_text:this._oLanguageBundle.getText(\"ST_CONTEXT_SYSTEM_UPDATES\")}),o.push({context_type:this._oFilterConstants.FILTER_TYPE.feedUpdates,context_text:this._oLanguageBundle.getText(\"ST_CONTEXT_DISCUSSION_POSTS\")});var s=new sap.ui.model.json.JSONModel(o);this.setModel(s,\"timeline_context\");var n=new sap.ui.core.Item({key:\"{context_type}\",text:\"{context_text}\"}),a=new sap.m.SelectList(this.getId()+\"_context_select_list\",{selectedKey:this._oFilterConstants.FILTER_TYPE.systemUpdates,selectionChange:[this._onContextSelect,this],width:\"15rem\"});a.bindAggregation(\"items\",{path:\"/\",template:n}),a.setModel(s),(i=new sap.m.Popover(this.getId()+\"_context_select_popover\",{placement:sap.m.PlacementType.VerticalPreferedBottom,title:this._oLanguageBundle.getText(\"ST_CONTEXT_SELECT_HEADER\")})).addContent(a)}i.getContent()[0].setSelectedKey(this._oFilter.type),i.openBy(t)},this]})},_createAddPostButton:function(){return void 0===this._oAddPostPopover&&(this._oAddPostPopover=new sap.m.ResponsivePopover(this.createId(\"_addPostPopover\"),{placement:sap.m.PlacementType.Auto,title:this._oLanguageBundle.getText(\"ST_ADD_POST_TITLE\"),contentWidth:\"25rem\",contentHeight:\"10rem\",content:new sap.collaboration.components.controls.SocialTextArea(this.createId(\"social_TextArea\"),{height:\"10rem\",width:\"100%\",enableNotifyAll:!1,liveChange:[function(e){\"\"!==e.getParameter(\"value\").trim()?this.byId(\"addPost_postButton\").setEnabled(!0):this.byId(\"addPost_postButton\").setEnabled(!1)},this],suggest:[this._onSuggest,this],afterSuggestionClose:[function(){this.gettingSuggestions&&this.gettingSuggestions.request.abort()},this]}),endButton:new sap.m.Button(this.createId(\"addPost_postButton\"),{text:this._oLanguageBundle.getText(\"ST_ADD_POST_BUTTON\"),enabled:!1,press:[this._onAddPost,this]}),beginButton:new sap.m.Button(this.createId(\"addPost_atMentionButton\"),{text:\"@\",press:[function(){this.byId(\"social_TextArea\").atMentionsButtonPressed()},this]})}).setInitialFocus(this.byId(\"social_TextArea\"))),new sap.m.Button(this.createId(\"_addPostButton\"),{icon:\"sap-icon://add\",type:sap.m.ButtonType.Transparent,enabled:!1,press:[function(){this._oAddPostPopover.openBy(this.byId(\"_addPostButton\"))},this]})},_refreshTimelineModel:function(){var e=this;this._oTimeline.setBusyIndicatorDelay(0).setBusy(!0),this._oGettingTimelineData=this._oTimelineDataHandler.getTimelineData(this._oFilter,this._defaultAttributes.jamOnly?this._oBusinessObject:null).then(function(t){e._oTimeline.setBusy(!1),void 0===e._oFilter.text||e._oFilter.text===e._oLanguageBundle.getText(\"ST_FILTER_ALL\")?e._oTimeline.setCustomMessage(\"\"):e._oTimeline.setCustomMessage(e._oLanguageBundle.getText(\"ST_FILTER_TEXT\")+\" \"+e._oFilter.text),e._oTimeline.destroyContent(),e._oTimelineModelData.timelineData=t,e._oTimelineModel.setData(e._oTimelineModelData),e._setReplies()},function(t){e._oCommonUtil.displayError(),e._oTimeline.setBusy(!1)})},_bindTemplates:function(){if(\"/timelineData\"!==this._oTimeline.getBinding(\"content\").getPath()){var e=new sap.ui.core.CustomData({key:\"{key}\",value:\"{value}\"}),t=new sap.suite.ui.commons.TimelineItem({dateTime:\"{timelineItemData/dateTime}\",userName:\"{timelineItemData/userName}\",title:\"{timelineItemData/title}\",icon:\"{timelineItemData/icon}\",filterValue:\"{timelineItemData/filterValue}\",userNameClickable:\"{/enableSocial}\",userNameClicked:this._onUserNameClicked,userPicture:\"{timelineItemData/userPicture}\",embeddedControl:this._createEmbeddedControl(),customAction:{template:e,path:\"timelineItemData/customActionData\"},customActionClicked:this._onCustomActionClicked.bind(this),replyCount:\"{timelineItemData/replyCount}\",replyListOpen:this._onReplyListOpen.bind(this)});this._oTimeline.bindAggregation(\"content\",{path:\"/timelineData\",template:t})}},_createEmbeddedControl:function(e){var t=void 0===e?\"{}\":e;return new sap.collaboration.components.socialtimeline.controls.TimelineItemEmbedded({timelineItem:t,expandCollapseClick:[function(){this._oTimeline.adjustUI()},this],atMentionClick:[this._getAtMentionClicked,this]})},_getFilter:function(){for(var e=this.getCustomFilter(),t=e.length,i=0;i<t;i++)e[i].type=this._oFilterConstants.FILTER_TYPE.custom;var o=[{text:this._oLanguageBundle.getText(\"ST_FILTER_ALL\"),type:this._oFilterConstants.FILTER_TYPE.systemUpdates}].concat(e);if(this._oFilterPopover)this._oFilterPopover.getModel().setProperty(\"/filter\",o);else{var s=new sap.ui.model.json.JSONModel({filter:o}),n=new sap.m.StandardListItem({title:\"{text}\"});this._oFilterPopover=new sap.collaboration.components.controls.FilterPopover(this.getId()+\"_filterPopover\",{title:this._oLanguageBundle.getText(\"ST_FILTER_HEADER\"),selectionChange:[function(e){this._oFilter=e.getParameter(\"listItem\").getBindingContext().getObject(),this._oTimelineDataHandler.reset(),this._refreshTimelineModel()},this]}).setModel(s).bindItems(\"/filter\",n),this._oFilterPopover.setSelectedItem(this._oFilterPopover.getItems()[0])}return this._oFilterPopover},_resetFilterAndContextSelector:function(){this._resetFilter(),this._oContextSelect.setText(this._oLanguageBundle.getText(\"ST_CONTEXT_SYSTEM_UPDATES\"))},_resetFilter:function(){this._oTimelineModel.setProperty(\"/sort\",!0),this._oFilter={type:this._oFilterConstants.FILTER_TYPE.systemUpdates},this._oFilterPopover&&this._oFilterPopover.setSelectedItem(this._oFilterPopover.getItems()[0])},_setReplies:function(){var e=this;this._oTimeline.getContent().forEach(function(t){t.getBindingContext().getObject()._feedEntryData?t.setCustomReply(e._createReplyPopover()):e._hideReply(t)})},_hideReply:function(e){e._replyLink.setVisible(!1)},_showSocialProfile:function(e,t,i){if(e){var o=e.getParent().getParent().getParent();o._oSocialProfile||(o._oSocialProfile=sap.ui.getCore().createComponent({name:\"sap.collaboration.components.socialprofile\",id:this.getId()+\"_socialProfile\"}),o._oSocialProfile._defaultAttributes=o._defaultAttributes);var s={openingControl:t,memberId:i};o._oSocialProfile.setSettings(s),o._oSocialProfile.open()}},_getFeedId:function(e){var t=e.getBindingContext().getPath().split(\"/\"),i=t[t.length-1];return e.getModel().getData().timelineData[i]._feedEntryData.Id},_getLoggedInUser:function(){var e=this,t=this._oJamDataHandler.getSender();t.promise.done(function(t,i){e._oTimelineUser=t}),t.promise.fail(function(t){e._oLogger.error(\"Failed to get the sender\",t.stack)})},_addTimelineItemToTimeline:function(e){var t=this._oTimeline.getModel().getData();t.timelineData.push(e);var i=new sap.suite.ui.commons.TimelineItem({dateTime:e.timelineItemData.dateTime,userName:e.timelineItemData.userName,title:e.timelineItemData.title,text:e.timelineItemData.text,icon:e.timelineItemData.icon,userNameClickable:!0,userNameClicked:this._onUserNameClicked,userPicture:e.timelineItemData.userPicture,embeddedControl:this._createEmbeddedControl(e),replyCount:e.timelineItemData.replyCount,replyListOpen:this._onReplyListOpen.bind(this),customReply:this._createReplyPopover()});this._oTimeline.insertContent(i,0);var o=t.timelineData.indexOf(e),s=i.getParent().getModel().createBindingContext(\"/timelineData/\"+o);i.setBindingContext(s)},_validateInputParameters:function(){return this._oInputValidator=new sap.collaboration.components.socialtimeline.validation.InputValidator(this),this._oInputValidator.areCustomFiltersValid()||this.destroy(),this._oInputValidator},_validateBusinessObjectMap:function(){this._oInputValidator||this._validateInputParameters(),this._oInputValidator.isBusinessObjectMapValid(this._oBusinessObjectMap)||this.destroy()},_validateBusinessObject:function(){this._oInputValidator||this._validateInputParameters(),this._oInputValidator.isBusinessObjectValid(this._oBusinessObject)||this.destroy()},_onContextSelect:function(e){var t=e.getParameter(\"selectedItem\");this._oFilter={type:t.getKey()},t.getKey()==this._oFilterConstants.FILTER_TYPE.feedUpdates?(this._oTimelineModel.setProperty(\"/sort\",!1),this._oFilterIcon.setEnabled(!1),this._oAddPostButton.setEnabled(!0)):(this._defaultAttributes.jamOnly||this._resetFilter(),this._oFilterIcon.setEnabled(!0),this._oAddPostButton.setEnabled(!1)),this._oTimelineDataHandler.reset(),this._refreshTimelineModel(),sap.ui.getCore().byId(this.getId()+\"_context_select_popover\").close(),this._oContextSelect.setText(t.getText())},_onGrow:function(){var e=this;this._oGettingTimelineData&&\"pending\"==this._oGettingTimelineData.state()?this._oLogger.info(\"A previous request is still pending.\"):this._oGettingTimelineData=this._oTimelineDataHandler.getTimelineData(this._oFilter).then(function(t){var i=e._oTimelineModel.getData();i.timelineData=i.timelineData.concat(t),e._oTimelineModel.setData(i),e._setReplies()},function(t){e._oCommonUtil.displayError()})},_onUserNameClicked:function(e){var t=e.getSource().getParent().getParent(),i=e.getSource().getParent(),o=e.getSource();t._oSocialProfile||(t._oSocialProfile=sap.ui.getCore().createComponent({name:\"sap.collaboration.components.socialprofile\",id:this.getId()+\"_socialProfile\"}),t._oSocialProfile._defaultAttributes=t._defaultAttributes);var s=i.getContent().indexOf(o),n={openingControl:o._userNameLink,memberId:i.getModel().getData().timelineData[s].timelineItemData.userEmail};t._oSocialProfile.setSettings(n),t._oSocialProfile.open()},_onAddPost:function(e){var t=this,i=this.byId(\"social_TextArea\").convertTextWithFullNamesToEmailAliases();this.byId(\"_addPostPopover\").close(),i&&\"\"!==i.trim()?(this._oTimeline.setBusyIndicatorDelay(0).setBusy(!0),this._oJamDataHandler.addPostToExternalObject(i,this._oTimelineDataHandler.getCurrentExternalBO()).then(function(e){if(t.byId(\"social_TextArea\").clearText(),t.byId(\"addPost_postButton\").setEnabled(!1),t._oFilter.type!==t._oFilterConstants.FILTER_TYPE.systemUpdates&&t._oFilter.type!==t._oFilterConstants.FILTER_TYPE.custom){var i=t._oTimelineDataHandler._mapFeedEntriesToTimelineItems([e])[0];t._addTimelineItemToTimeline(i),t._oTimelineDataHandler.getUserInfoFromBuffer(e.Creator.Email)||t._oTimelineDataHandler.addUserInfoToBuffer(e.Creator)}}).always(function(){t._oTimeline.setBusy(!1)}).fail(function(){t._oCommonUtil.displayError(t._oLanguageBundle.getText(\"ST_POST_TO_JAM_FAILED\"))})):this._oLogger.info(\"Posting an empty comment is not allowed, no feed entry will be created.\")},_onSuggest:function(e){var t=this;this.gettingSuggestions&&this.gettingSuggestions.request.abort();var i=e.getSource(),o=e.getParameter(\"value\");\"\"===o.trim()?i.showSuggestions([]):(this.gettingSuggestions=this._oJamDataHandler.getSuggestions(o),this.gettingSuggestions.promise.done(function(e,o){var s=e.results;if(0===s.length)i.closeSuggestionPopover();else{for(var n=[],a=0;a<s.length;a++)n.push({fullName:s[a].FullName,email:s[a].Email,userImage:t._buildThumbnailImageURL(s[a].Id)});i.showSuggestions(n)}}),this.gettingSuggestions.promise.fail(function(e){e.response&&e.response.statusCode&&t._oCommonUtil.displayError(t._oLanguageBundle.getText(\"ST_GET_SUGGESTIONS_FAILED\"))}))},_onCustomActionClicked:function(e){var t={},i=e.getSource().getBindingContext().getPath(),o=e.getSource().getModel().getProperty(i+\"/timelineItemData/customActionData/oDataEntry\");t.oDataEntry=o,t.timelineEntryId=e.getParameters().id,t.key=e.getParameters().key,this.fireCustomActionPress(t)},_getAtMentionClicked:function(e){var t=this,i=[],o=e.getSource(),s=e.getParameter(\"link\"),n=this._oJamDataHandler.getAtMentions(s.getModel().getData().feedId);n.promise.done(function(e,n){var a=s.getModel().getProperty(\"/placeholderIndex\");i=e.results,t._showSocialProfile(o,s,i[a].Email)}),n.promise.fail(function(){t._oLogger.error(\"Failed to retrieve the @mentions.\"),t._oCommonUtil.displayError(t._oCommonUtil.getLanguageBundle().getText(\"ST_GET_ATMENTIONS_FAILED\"))})},_onReplyListOpen:function(e){if(!this._bReplyPopoverIsOpen){this._bReplyPopoverIsOpen=!0;var t=e.getSource();try{var i=this._getFeedId(t);if(!i)throw new Error(\"Failed to get the feed entry ID.\")}catch(e){return this._oLogger.error(\"Failed to get the feed entry ID\"),void this._oCommonUtil.displayError(this._oLanguageBundle.getText(\"ST_GET_REPLIES_FAILED\"))}this._getReplies(i,void 0,t)}},_getReplies:function(e,t,i){var o=this;i.getCustomReply().setBusyIndicatorDelay(0).setBusy(!0),this.gettingReplies=this._oJamDataHandler.getReplies(e,t),this.gettingReplies.promise.done(function(e,t){o._oRepliesData=e;var s=e.results.reverse();s.forEach(function(e){e.Creator.ThumbnailImage=o._oTimelineDataHandler.buildImageUrl(e.Creator),e.CreatedAt=o._oDateUtil.formatDateToString(e.CreatedAt)}),i.getCustomReply().addReplies({data:s,more:!!o._oRepliesData.__next}),i.getCustomReply().setBusy(!1)}),this.gettingReplies.promise.fail(function(e){e.response&&e.response.statusCode&&o._oCommonUtil.displayError(o._oCommonUtil.getLanguageBundle().getText(\"ST_GET_REPLIES_FAILED\"))})},_createReplyPopover:function(){return this._oReplyPopover=new sap.collaboration.components.controls.ReplyPopover({socialTextArea:new sap.collaboration.components.controls.SocialTextArea({height:\"80px\",width:\"100%\",enableNotifyAll:!1,suggestionPlacement:sap.m.PlacementType.Top,suggest:[this._onSuggest,this],afterSuggestionClose:[function(){this.gettingSuggestions&&this.gettingSuggestions.request.abort()},this]}),postReplyPress:[this._onPostReplyPress,this],moreRepliesPress:[function(e){var t=e.getSource().getParent();this._oRepliesData.__next&&this._getReplies(void 0,this._oRepliesData.__next,t)},this],afterClose:[function(e){this.gettingReplies&&this.gettingReplies.request.abort(),this._bReplyPopoverIsOpen=!1},this]}),this._oReplyPopover.getSocialTextArea().attachLiveChange(function(e){\"\"!==e.getParameter(\"value\").trim()?this.enableButton(!0):this.enableButton(!1)}.bind(this._oReplyPopover)),this._oReplyPopover},_onPostReplyPress:function(e){var t=this,i=e.getParameter(\"value\"),o=e.getSource().getParent(),s=o.getBindingContext().getObject().timelineItemData.feedId,n=o.getCustomReply();n.setBusyIndicatorDelay(0).setBusy(!0);var a=this._oJamDataHandler.postReply(s,i);n._oReplyTextArea.focus(),a.promise.done(function(e,i){n.getTextArea().clearText(),n.enableButton(!1);var s={Text:e.results.Text,Creator:{Email:t._oTimelineUser.Email,FullName:t._oTimelineUser.FullName},CreatedAt:t._oDateUtil.formatDateToString(e.results.CreatedAt)},a=t._oTimelineDataHandler.getUserPicture(t._oTimelineUser.Email);s.Creator.ThumbnailImage=a||t._oTimelineDataHandler.buildImageUrl(e.results),n.addReply(s),n.setBusy(!1),o.setReplyCount(o.getReplyCount()+1)}),a.promise.fail(function(e){n.setBusy(!1),t._oCommonUtil.displayError(t._oLanguageBundle.getText(\"ST_POST_REPLY_FAILED\"))})},_onEnableSocialChange:function(e){!0===e.getSource().getValue()?this._oAddPostButton.setVisible(!0):this._oAddPostButton.setVisible(!1)},_showFeedUpdatesInTimeline:function(e){var t=this._oTimeline.getMessageStrip();if(e>0){if(!this.byId(\"refreshLink\")){var i=new sap.m.Link(this.createId(\"refreshLink\"),{text:this._oLanguageBundle.getText(\"GF_REFRESH_FEED\"),press:[function(){this._hideFeedUpdatesInTimeline(),this._oTimelineDataHandler.reset(),this._refreshTimelineModel()},this]});t.setLink(i),t.setType(sap.ui.core.MessageType.Information),t.setShowIcon(!0)}1==e?t.setText(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATE\")):t.setText(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATES\",e)),t.setVisible(!0),this._oTimeline.rerender()}},_hideFeedUpdatesInTimeline:function(){this._oTimeline.getMessageStrip().close()},_startAutoCheckingForNewUpdates:function(){this._iNewFeedUpdatesCheckerTimeDelay=12e4,this._sNewFeedUpdatesCheckerTimeoutId=jQuery.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)},_stopAutoCheckingForNewUpdates:function(){jQuery.sap.clearDelayedCall(this._sNewFeedUpdatesCheckerTimeoutId)},_checkForNewFeedUpdates:function(){var e=this._oTimeline.getContent()[0],t=e?e.getBindingContext().getObject()._feedEntryData.TopLevelId:\"\",i=this._oTimelineDataHandler.getCurrentExternalBO().Id;this._oJamDataHandler.getFeedUpdatesLatestCount(t,i).done(function(e,t){this._showFeedUpdatesInTimeline(e),this._sNewFeedUpdatesCheckerTimeoutId=jQuery.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this)).fail(function(e){this._oLogger.error(\"Failed to check for new feed updates.\"),this._sNewFeedUpdatesCheckerTimeoutId=jQuery.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this))},_buildThumbnailImageURL:function(e){return this._defaultAttributes.collaborationHostServiceUrl+\"/Members('\"+e+\"')/ThumbnailImage/$value\"}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/Component.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.require(\"sap.suite.ui.commons.Timeline\"),jQuery.sap.require(\"sap.suite.ui.commons.TimelineItem\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.validation.InputValidator\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.controls.TimelineItemEmbedded\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\"),jQuery.sap.require(\"sap.collaboration.components.socialtimeline.filter.FilterType\"),jQuery.sap.require(\"sap.collaboration.components.controls.ReplyPopover\"),jQuery.sap.require(\"sap.collaboration.components.controls.SocialTextArea\"),jQuery.sap.require(\"sap.collaboration.components.controls.FilterPopover\"),jQuery.sap.require(\"sap.collaboration.components.utils.CommonUtil\"),jQuery.sap.require(\"sap.collaboration.components.utils.DateUtil\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.Component\"),sap.ui.core.UIComponent.extend(\"sap.collaboration.components.socialtimeline.Component\",{metadata:{version:\"1.0\",includes:[\"../resources/css/SocialTimeline.css\"],dependencies:{libs:[\"sap.collaboration\"],components:[],ui5version:\"\"},config:{},customizing:{},rootView:null,publicMethods:[\"setBusinessObject\",\"setBusinessObjectKey\",\"setBusinessObjectMap\",\"updateTimelineEntry\",\"deleteTimelineEntry\"],aggregations:{},properties:{enableSocial:{type:\"boolean\",group:\"Social\",defaultValue:!0},alignment:{type:\"sap.suite.ui.commons.TimelineAlignment\",group:\"Misc\",defaultValue:sap.suite.ui.commons.TimelineAlignment.Right},axisOrientation:{type:\"sap.suite.ui.commons.TimelineAxisOrientation\",group:\"Misc\",defaultValue:sap.suite.ui.commons.TimelineAxisOrientation.Vertical},noDataText:{type:\"string\",group:\"Misc\",defaultValue:null},showIcons:{type:\"boolean\",group:\"Misc\",defaultValue:!0},visible:{type:\"boolean\",group:\"Appearance\",defaultValue:!0},width:{type:\"sap.ui.core.CSSSize\",group:\"Dimension\",defaultValue:\"100%\"},customFilter:{type:\"object[]\",group:\"Social\"}},events:{customActionPress:{}}},_defaultAttributes:{collaborationHostServiceUrl:\"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData\",smiServiceUrl:\"/sap/opu/odata/sap/SM_INTEGRATION_V2_SRV\",pageSize:10,jamOnly:!1},init:function(){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.Component\"),this._oCollaborationHostModel,this._oSMIntegrationModel,this._oTimeline,this._oTimelineModelData={enableSocial:!0,alignment:sap.suite.ui.commons.TimelineAlignment.Right,axisOrientation:sap.suite.ui.commons.TimelineAxisOrientation.Vertical,enableBackendFilter:!0,enableScroll:!0,forceGrowing:!0,noDataText:null,showIcons:!0,sort:!0,visible:!0,width:\"100%\",timelineData:[],suggestions:[]},this._oTimelineModel=new sap.ui.model.json.JSONModel(this._oTimelineModelData),this._oTimelineModel.setSizeLimit(1e4),this._oTimelineModel.bindProperty(\"/enableSocial\").attachChange(this._onEnableSocialChange,this),this._iGrowingThreshold=this._defaultAttributes.pageSize,this._oFilterIcon,this._oContextSelect,this._oAddPostButton,this._oBusinessObjectMap={},this._oBusinessObject={},this._oCommonUtil=new sap.collaboration.components.utils.CommonUtil,this._oDateUtil=new sap.collaboration.components.utils.DateUtil,this._oLanguageBundle=this._oCommonUtil.getLanguageBundle(),this._oTimelineDataHandler,this._oJamDataHandler,this._oSMIntegrationDataHandler,this._oFilterPopover,this._oFilterConstants=new sap.collaboration.components.socialtimeline.filter.FilterType,this._oFilter={},this._oRepliesData,this._oReplyPopover,this._oAddPostPopover,this._oSocialProfile,this._oTimelineUser={},this._oInputValidator,this._oGettingTimelineData,this._initialize(),this._oInputValidator=new sap.collaboration.components.socialtimeline.validation.InputValidator(this),sap.ui.core.UIComponent.prototype.init.apply(this)},exit:function(){this._oTimeline&&this._oTimeline.destroy(),this._oAddPostPopover&&this._oAddPostPopover.destroy(),this._oReplyPopover&&this._oReplyPopover.destroy(),this._oFilterPopover&&this._oFilterPopover.destroy(),this._oSocialProfile&&this._oSocialProfile.destroy(),this._oInputValidator&&this._oInputValidator.destroy(),this._oFilterIcon&&this._oFilterIcon.destroy(),this._oContextSelect&&this._oContextSelect.destroy(),this._oAddPostButton&&this._oAddPostButton.destroy()},onBeforeRendering:function(){!0===this._oInputValidator.areSocialFeaturesEnabled()?this._oBusinessObject.key&&\"\"!==this._oBusinessObject.key||(this._oTimeline._filterIcon.setEnabled(!1),this._oContextSelect.setEnabled(!1)):(this._oBusinessObject.key&&\"\"!==this._oBusinessObject.key||this._oTimeline._filterIcon.setEnabled(!1),this._oContextSelect.setVisible(!1),this._oAddPostButton.setVisible(!1)),this._getLoggedInUser(),this._bindTemplates()},onAfterRendering:function(){},createContent:function(){return this._createTimeline()},setProperty:function(e,t){switch(sap.ui.core.UIComponent.prototype.setProperty.call(this,e,t),this._oLogger.info(e+\": \"+t),e){case\"enableSocial\":var i=t;!0===i&&(i=this._oInputValidator.validateEnableSocial()),this._oTimelineModel.setProperty(\"/\"+e,i);break;case\"customFilter\":var o=t;this._oInputValidator.validateCustomFilter(),o&&0!==o.length?(this._oTimeline.setCustomFilter(this._getFilter()),this._oTimeline._filterIcon.setEnabled(!0)):this._oTimeline._filterIcon.setEnabled(!1);break;default:this._oTimelineModel.setProperty(\"/\"+e,t)}},setSettings:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t])},setBusinessObjectMap:function(e){var t,i;this._oLogger.info(\"servicePath: \"+e.servicePath),this._oLogger.info(\"collection: \"+e.collection),this._oLogger.info(\"applicationContext: \"+e.applicationContext),this._oBusinessObjectMap=e,this._validateBusinessObjectMap(),this._defaultAttributes.jamOnly=jQuery.isEmptyObject(this._oBusinessObjectMap.serviceModel),this._defaultAttributes.jamOnly?(this._oFilter={type:this._oFilterConstants.FILTER_TYPE.feedUpdates},this._oContextSelect.setVisible(!1),this._oTimeline._filterIcon.setVisible(!1)):(this._oContextSelect.setVisible(!0),this._oTimeline._filterIcon.setVisible(!0),t=this._oInputValidator.createTermsUtilityForBackend(this._oBusinessObjectMap.serviceModel),i=new sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler(this._oBusinessObjectMap.serviceModel,t)),this._oTimelineDataHandler=new sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler(this._oBusinessObjectMap,this._oJamDataHandler,this._oSMIntegrationDataHandler,i,t,this._iGrowingThreshold,this._oInputValidator.areSocialFeaturesEnabled(),this._oInputValidator.areBackendFeaturesEnabled())},setBusinessObjectKey:function(e){this._oLogger.info(\"Business Object Key: \"+e),this._oTimelineDataHandler||this._oLogger.error(\"Function setBusinessObjectMap must be called before calling setBusinessObjectKey for the first time.\"),this._oTimeline._filterIcon.setEnabled(!0),this._oAddPostButton.setEnabled(!1),this._oContextSelect.setEnabled(!0),this._oBusinessObject={key:e,name:e},this._oTimelineDataHandler.setBusinessObject(this._oBusinessObject),this._defaultAttributes.jamOnly||this._resetFilterAndContextSelector(),this._refreshTimelineModel()},setBusinessObject:function(e){this._oBusinessObject=e,this._oLogger.info(\"Business Object Key: \"+this._oBusinessObject.key),this._oLogger.info(\"Business Object Name: \"+this._oBusinessObject.name),this._oTimelineDataHandler||this._oLogger.error(\"Function setBusinessObjectMap must be called before calling setBusinessObject for the first time.\"),this._validateBusinessObject(),this._defaultAttributes.jamOnly?this._oAddPostButton.setEnabled(!0):(this._oTimeline._filterIcon.setEnabled(!0),this._oAddPostButton.setEnabled(!1),this._oContextSelect.setEnabled(!0),this._oTimelineDataHandler.setBusinessObject(this._oBusinessObject)),this._defaultAttributes.jamOnly||this._resetFilterAndContextSelector(),this._refreshTimelineModel()},updateTimelineEntry:function(e,t){var i=sap.ui.getCore().byId(t),o=i.getAggregation(\"embeddedControl\")._oFlexbox.getItems();if(o[0].setText(e),o.length>1)for(var s=1;s<o.length;s++)o[s].destroy();var n=i.getModel(),a=this._oTimeline.getContent().indexOf(i);n.getData().timelineData[a].timelineItemData.text=e,n.getData().timelineData[a].timelineItemData.timelineEntryDetails=[]},deleteTimelineEntry:function(e){var t=sap.ui.getCore().byId(e),i=t.getModel(),o=this._oTimeline.getContent().indexOf(t);i.getData().timelineData.splice(o,1),t.destroy()},_initialize:function(){this._oCollaborationHostModel||(this._oCollaborationHostModel=new sap.ui.model.odata.ODataModel(this._defaultAttributes.collaborationHostServiceUrl,!0)),this._oSMIntegrationModel||(this._oSMIntegrationModel=new sap.ui.model.odata.ODataModel(this._defaultAttributes.smiServiceUrl,!0)),this._oJamDataHandler||(this._oJamDataHandler=new sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler(this._oCollaborationHostModel)),this._oSMIntegrationDataHandler||(this._oSMIntegrationDataHandler=new sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler(this._oSMIntegrationModel))},_createTimeline:function(){return this._oTimeline=new sap.suite.ui.commons.Timeline(this.getId()+\"_timeline\",{enableSocial:\"{/enableSocial}\",alignment:\"{/alignment}\",axisOrientation:\"{/axisOrientation}\",enableBackendFilter:\"{/enableBackendFilter}\",enableScroll:\"{/enableScroll}\",forceGrowing:\"{/forceGrowing}\",noDataText:\"{/noDataText}\",showIcons:\"{/showIcons}\",visible:\"{/visible}\",width:\"{/width}\",sort:\"{/sort}\",data:[],grow:this._onGrow.bind(this)}),this._modifyHeaderBar(),this._oTimeline.setModel(this._oTimelineModel),this._oTimeline},_modifyHeaderBar:function(){var e=this._oTimeline.getHeaderBar(),t=e.getContent();this._oFilterIcon=t[t.length-1],this._oContextSelect=this._createContextSelector(),e.insertContent(this._oContextSelect,0),this._oAddPostButton=this._createAddPostButton(),e.insertContent(this._oAddPostButton,3)},_createContextSelector:function(){return new sap.m.Button(this.getId()+\"_context_select\",{icon:\"sap-icon://navigation-down-arrow\",iconFirst:!1,text:this._oLanguageBundle.getText(\"ST_CONTEXT_SYSTEM_UPDATES\"),type:sap.m.ButtonType.Transparent,press:[function(e){var t=sap.ui.getCore().byId(this.getId()+\"_context_select\"),i=sap.ui.getCore().byId(this.getId()+\"_context_select_popover\");if(void 0==i){var o=[];o.push({context_type:this._oFilterConstants.FILTER_TYPE.systemUpdates,context_text:this._oLanguageBundle.getText(\"ST_CONTEXT_SYSTEM_UPDATES\")}),o.push({context_type:this._oFilterConstants.FILTER_TYPE.feedUpdates,context_text:this._oLanguageBundle.getText(\"ST_CONTEXT_DISCUSSION_POSTS\")});var s=new sap.ui.model.json.JSONModel(o);this.setModel(s,\"timeline_context\");var n=new sap.ui.core.Item({key:\"{context_type}\",text:\"{context_text}\"}),a=new sap.m.SelectList(this.getId()+\"_context_select_list\",{selectedKey:this._oFilterConstants.FILTER_TYPE.systemUpdates,selectionChange:[this._onContextSelect,this],width:\"15rem\"});a.bindAggregation(\"items\",{path:\"/\",template:n}),a.setModel(s),(i=new sap.m.Popover(this.getId()+\"_context_select_popover\",{placement:sap.m.PlacementType.VerticalPreferedBottom,title:this._oLanguageBundle.getText(\"ST_CONTEXT_SELECT_HEADER\")})).addContent(a)}i.getContent()[0].setSelectedKey(this._oFilter.type),i.openBy(t)},this]})},_createAddPostButton:function(){return void 0===this._oAddPostPopover&&(this._oAddPostPopover=new sap.m.ResponsivePopover(this.createId(\"_addPostPopover\"),{placement:sap.m.PlacementType.Auto,title:this._oLanguageBundle.getText(\"ST_ADD_POST_TITLE\"),contentWidth:\"25rem\",contentHeight:\"10rem\",content:new sap.collaboration.components.controls.SocialTextArea(this.createId(\"social_TextArea\"),{height:\"10rem\",width:\"100%\",enableNotifyAll:!1,liveChange:[function(e){\"\"!==e.getParameter(\"value\").trim()?this.byId(\"addPost_postButton\").setEnabled(!0):this.byId(\"addPost_postButton\").setEnabled(!1)},this],suggest:[this._onSuggest,this],afterSuggestionClose:[function(){this.gettingSuggestions&&this.gettingSuggestions.request.abort()},this]}),endButton:new sap.m.Button(this.createId(\"addPost_postButton\"),{text:this._oLanguageBundle.getText(\"ST_ADD_POST_BUTTON\"),enabled:!1,press:[this._onAddPost,this]}),beginButton:new sap.m.Button(this.createId(\"addPost_atMentionButton\"),{text:\"@\",press:[function(){this.byId(\"social_TextArea\").atMentionsButtonPressed()},this]})}).setInitialFocus(this.byId(\"social_TextArea\"))),new sap.m.Button(this.createId(\"_addPostButton\"),{icon:\"sap-icon://add\",type:sap.m.ButtonType.Transparent,enabled:!1,press:[function(){this._oAddPostPopover.openBy(this.byId(\"_addPostButton\"))},this]})},_refreshTimelineModel:function(){var e=this;this._oTimeline.setBusyIndicatorDelay(0).setBusy(!0),this._oGettingTimelineData=this._oTimelineDataHandler.getTimelineData(this._oFilter,this._defaultAttributes.jamOnly?this._oBusinessObject:null).then(function(t){e._oTimeline.setBusy(!1),void 0===e._oFilter.text||e._oFilter.text===e._oLanguageBundle.getText(\"ST_FILTER_ALL\")?e._oTimeline.setCustomMessage(\"\"):e._oTimeline.setCustomMessage(e._oLanguageBundle.getText(\"ST_FILTER_TEXT\")+\" \"+e._oFilter.text),e._oTimeline.destroyContent(),e._oTimelineModelData.timelineData=t,e._oTimelineModel.setData(e._oTimelineModelData),e._setReplies()},function(t){e._oCommonUtil.displayError(),e._oTimeline.setBusy(!1)})},_bindTemplates:function(){if(\"/timelineData\"!==this._oTimeline.getBinding(\"content\").getPath()){var e=new sap.ui.core.CustomData({key:\"{key}\",value:\"{value}\"}),t=new sap.suite.ui.commons.TimelineItem({dateTime:\"{timelineItemData/dateTime}\",userName:\"{timelineItemData/userName}\",title:\"{timelineItemData/title}\",icon:\"{timelineItemData/icon}\",filterValue:\"{timelineItemData/filterValue}\",userNameClickable:\"{/enableSocial}\",userNameClicked:this._onUserNameClicked,userPicture:\"{timelineItemData/userPicture}\",embeddedControl:this._createEmbeddedControl(),customAction:{template:e,path:\"timelineItemData/customActionData\"},customActionClicked:this._onCustomActionClicked.bind(this),replyCount:\"{timelineItemData/replyCount}\",replyListOpen:this._onReplyListOpen.bind(this)});this._oTimeline.bindAggregation(\"content\",{path:\"/timelineData\",template:t})}},_createEmbeddedControl:function(e){var t=void 0===e?\"{}\":e;return new sap.collaboration.components.socialtimeline.controls.TimelineItemEmbedded({timelineItem:t,expandCollapseClick:[function(){this._oTimeline.adjustUI()},this],atMentionClick:[this._getAtMentionClicked,this]})},_getFilter:function(){for(var e=this.getCustomFilter(),t=e.length,i=0;i<t;i++)e[i].type=this._oFilterConstants.FILTER_TYPE.custom;var o=[{text:this._oLanguageBundle.getText(\"ST_FILTER_ALL\"),type:this._oFilterConstants.FILTER_TYPE.systemUpdates}].concat(e);if(this._oFilterPopover)this._oFilterPopover.getModel().setProperty(\"/filter\",o);else{var s=new sap.ui.model.json.JSONModel({filter:o}),n=new sap.m.StandardListItem({title:\"{text}\"});this._oFilterPopover=new sap.collaboration.components.controls.FilterPopover(this.getId()+\"_filterPopover\",{title:this._oLanguageBundle.getText(\"ST_FILTER_HEADER\"),selectionChange:[function(e){this._oFilter=e.getParameter(\"listItem\").getBindingContext().getObject(),this._oTimelineDataHandler.reset(),this._refreshTimelineModel()},this]}).setModel(s).bindItems(\"/filter\",n),this._oFilterPopover.setSelectedItem(this._oFilterPopover.getItems()[0])}return this._oFilterPopover},_resetFilterAndContextSelector:function(){this._resetFilter(),this._oContextSelect.setText(this._oLanguageBundle.getText(\"ST_CONTEXT_SYSTEM_UPDATES\"))},_resetFilter:function(){this._oTimelineModel.setProperty(\"/sort\",!0),this._oFilter={type:this._oFilterConstants.FILTER_TYPE.systemUpdates},this._oFilterPopover&&this._oFilterPopover.setSelectedItem(this._oFilterPopover.getItems()[0])},_setReplies:function(){var e=this;this._oTimeline.getContent().forEach(function(t){t.getBindingContext().getObject()._feedEntryData?t.setCustomReply(e._createReplyPopover()):e._hideReply(t)})},_hideReply:function(e){e._replyLink.setVisible(!1)},_showSocialProfile:function(e,t,i){if(e){var o=e.getParent().getParent().getParent();o._oSocialProfile||(o._oSocialProfile=sap.ui.getCore().createComponent({name:\"sap.collaboration.components.socialprofile\",id:this.getId()+\"_socialProfile\"}),o._oSocialProfile._defaultAttributes=o._defaultAttributes);var s={openingControl:t,memberId:i};o._oSocialProfile.setSettings(s),o._oSocialProfile.open()}},_getFeedId:function(e){var t=e.getBindingContext().getPath().split(\"/\"),i=t[t.length-1];return e.getModel().getData().timelineData[i]._feedEntryData.Id},_getLoggedInUser:function(){var e=this,t=this._oJamDataHandler.getSender();t.promise.done(function(t,i){e._oTimelineUser=t}),t.promise.fail(function(t){e._oLogger.error(\"Failed to get the sender\",t.stack)})},_addTimelineItemToTimeline:function(e){var t=this._oTimeline.getModel().getData();t.timelineData.push(e);var i=new sap.suite.ui.commons.TimelineItem({dateTime:e.timelineItemData.dateTime,userName:e.timelineItemData.userName,title:e.timelineItemData.title,text:e.timelineItemData.text,icon:e.timelineItemData.icon,userNameClickable:!0,userNameClicked:this._onUserNameClicked,userPicture:e.timelineItemData.userPicture,embeddedControl:this._createEmbeddedControl(e),replyCount:e.timelineItemData.replyCount,replyListOpen:this._onReplyListOpen.bind(this),customReply:this._createReplyPopover()});this._oTimeline.insertContent(i,0);var o=t.timelineData.indexOf(e),s=i.getParent().getModel().createBindingContext(\"/timelineData/\"+o);i.setBindingContext(s)},_validateInputParameters:function(){return this._oInputValidator=new sap.collaboration.components.socialtimeline.validation.InputValidator(this),this._oInputValidator.areCustomFiltersValid()||this.destroy(),this._oInputValidator},_validateBusinessObjectMap:function(){this._oInputValidator||this._validateInputParameters(),this._oInputValidator.isBusinessObjectMapValid(this._oBusinessObjectMap)||this.destroy()},_validateBusinessObject:function(){this._oInputValidator||this._validateInputParameters(),this._oInputValidator.isBusinessObjectValid(this._oBusinessObject)||this.destroy()},_onContextSelect:function(e){var t=e.getParameter(\"selectedItem\");this._oFilter={type:t.getKey()},t.getKey()==this._oFilterConstants.FILTER_TYPE.feedUpdates?(this._oTimelineModel.setProperty(\"/sort\",!1),this._oFilterIcon.setEnabled(!1),this._oAddPostButton.setEnabled(!0)):(this._defaultAttributes.jamOnly||this._resetFilter(),this._oFilterIcon.setEnabled(!0),this._oAddPostButton.setEnabled(!1)),this._oTimelineDataHandler.reset(),this._refreshTimelineModel(),sap.ui.getCore().byId(this.getId()+\"_context_select_popover\").close(),this._oContextSelect.setText(t.getText())},_onGrow:function(){var e=this;this._oGettingTimelineData&&\"pending\"==this._oGettingTimelineData.state()?this._oLogger.info(\"A previous request is still pending.\"):this._oGettingTimelineData=this._oTimelineDataHandler.getTimelineData(this._oFilter).then(function(t){var i=e._oTimelineModel.getData();i.timelineData=i.timelineData.concat(t),e._oTimelineModel.setData(i),e._setReplies()},function(t){e._oCommonUtil.displayError()})},_onUserNameClicked:function(e){var t=e.getSource().getParent().getParent(),i=e.getSource().getParent(),o=e.getSource();t._oSocialProfile||(t._oSocialProfile=sap.ui.getCore().createComponent({name:\"sap.collaboration.components.socialprofile\",id:this.getId()+\"_socialProfile\"}),t._oSocialProfile._defaultAttributes=t._defaultAttributes);var s=i.getContent().indexOf(o),n={openingControl:o._userNameLink,memberId:i.getModel().getData().timelineData[s].timelineItemData.userEmail};t._oSocialProfile.setSettings(n),t._oSocialProfile.open()},_onAddPost:function(e){var t=this,i=this.byId(\"social_TextArea\").convertTextWithFullNamesToEmailAliases();this.byId(\"_addPostPopover\").close(),i&&\"\"!==i.trim()?(this._oTimeline.setBusyIndicatorDelay(0).setBusy(!0),this._oJamDataHandler.addPostToExternalObject(i,this._oTimelineDataHandler.getCurrentExternalBO()).then(function(e){if(t.byId(\"social_TextArea\").clearText(),t.byId(\"addPost_postButton\").setEnabled(!1),t._oFilter.type!==t._oFilterConstants.FILTER_TYPE.systemUpdates&&t._oFilter.type!==t._oFilterConstants.FILTER_TYPE.custom){var i=t._oTimelineDataHandler._mapFeedEntriesToTimelineItems([e])[0];t._addTimelineItemToTimeline(i),t._oTimelineDataHandler.getUserInfoFromBuffer(e.Creator.Email)||t._oTimelineDataHandler.addUserInfoToBuffer(e.Creator)}}).always(function(){t._oTimeline.setBusy(!1)}).fail(function(){t._oCommonUtil.displayError(t._oLanguageBundle.getText(\"ST_POST_TO_JAM_FAILED\"))})):this._oLogger.info(\"Posting an empty comment is not allowed, no feed entry will be created.\")},_onSuggest:function(e){var t=this;this.gettingSuggestions&&this.gettingSuggestions.request.abort();var i=e.getSource(),o=e.getParameter(\"value\");\"\"===o.trim()?i.showSuggestions([]):(this.gettingSuggestions=this._oJamDataHandler.getSuggestions(o),this.gettingSuggestions.promise.done(function(e,o){var s=e.results;if(0===s.length)i.closeSuggestionPopover();else{for(var n=[],a=0;a<s.length;a++)n.push({fullName:s[a].FullName,email:s[a].Email,userImage:t._buildThumbnailImageURL(s[a].Id)});i.showSuggestions(n)}}),this.gettingSuggestions.promise.fail(function(e){e.response&&e.response.statusCode&&t._oCommonUtil.displayError(t._oLanguageBundle.getText(\"ST_GET_SUGGESTIONS_FAILED\"))}))},_onCustomActionClicked:function(e){var t={},i=e.getSource().getBindingContext().getPath(),o=e.getSource().getModel().getProperty(i+\"/timelineItemData/customActionData/oDataEntry\");t.oDataEntry=o,t.timelineEntryId=e.getParameters().id,t.key=e.getParameters().key,this.fireCustomActionPress(t)},_getAtMentionClicked:function(e){var t=this,i=[],o=e.getSource(),s=e.getParameter(\"link\"),n=this._oJamDataHandler.getAtMentions(s.getModel().getData().feedId);n.promise.done(function(e,n){var a=s.getModel().getProperty(\"/placeholderIndex\");i=e.results,t._showSocialProfile(o,s,i[a].Email)}),n.promise.fail(function(){t._oLogger.error(\"Failed to retrieve the @mentions.\"),t._oCommonUtil.displayError(t._oCommonUtil.getLanguageBundle().getText(\"ST_GET_ATMENTIONS_FAILED\"))})},_onReplyListOpen:function(e){if(!this._bReplyPopoverIsOpen){this._bReplyPopoverIsOpen=!0;var t=e.getSource();try{var i=this._getFeedId(t);if(!i)throw new Error(\"Failed to get the feed entry ID.\")}catch(e){return this._oLogger.error(\"Failed to get the feed entry ID\"),void this._oCommonUtil.displayError(this._oLanguageBundle.getText(\"ST_GET_REPLIES_FAILED\"))}this._getReplies(i,void 0,t)}},_getReplies:function(e,t,i){var o=this;i.getCustomReply().setBusyIndicatorDelay(0).setBusy(!0),this.gettingReplies=this._oJamDataHandler.getReplies(e,t),this.gettingReplies.promise.done(function(e,t){o._oRepliesData=e;var s=e.results.reverse();s.forEach(function(e){e.Creator.ThumbnailImage=o._oTimelineDataHandler.buildImageUrl(e.Creator),e.CreatedAt=o._oDateUtil.formatDateToString(e.CreatedAt)}),i.getCustomReply().addReplies({data:s,more:!!o._oRepliesData.__next}),i.getCustomReply().setBusy(!1)}),this.gettingReplies.promise.fail(function(e){e.response&&e.response.statusCode&&o._oCommonUtil.displayError(o._oCommonUtil.getLanguageBundle().getText(\"ST_GET_REPLIES_FAILED\"))})},_createReplyPopover:function(){return this._oReplyPopover=new sap.collaboration.components.controls.ReplyPopover({socialTextArea:new sap.collaboration.components.controls.SocialTextArea({height:\"80px\",width:\"100%\",enableNotifyAll:!1,suggestionPlacement:sap.m.PlacementType.Top,suggest:[this._onSuggest,this],afterSuggestionClose:[function(){this.gettingSuggestions&&this.gettingSuggestions.request.abort()},this]}),postReplyPress:[this._onPostReplyPress,this],moreRepliesPress:[function(e){var t=e.getSource().getParent();this._oRepliesData.__next&&this._getReplies(void 0,this._oRepliesData.__next,t)},this],afterClose:[function(e){this.gettingReplies&&this.gettingReplies.request.abort(),this._bReplyPopoverIsOpen=!1},this]}),this._oReplyPopover.getSocialTextArea().attachLiveChange(function(e){\"\"!==e.getParameter(\"value\").trim()?this.enableButton(!0):this.enableButton(!1)}.bind(this._oReplyPopover)),this._oReplyPopover},_onPostReplyPress:function(e){var t=this,i=e.getParameter(\"value\"),o=e.getSource().getParent(),s=o.getBindingContext().getObject().timelineItemData.feedId,n=o.getCustomReply();n.setBusyIndicatorDelay(0).setBusy(!0);var a=this._oJamDataHandler.postReply(s,i);n._oReplyTextArea.focus(),a.promise.done(function(e,i){n.getTextArea().clearText(),n.enableButton(!1);var s={Text:e.results.Text,Creator:{Email:t._oTimelineUser.Email,FullName:t._oTimelineUser.FullName},CreatedAt:t._oDateUtil.formatDateToString(e.results.CreatedAt)},a=t._oTimelineDataHandler.getUserPicture(t._oTimelineUser.Email);s.Creator.ThumbnailImage=a||t._oTimelineDataHandler.buildImageUrl(e.results),n.addReply(s),n.setBusy(!1),o.setReplyCount(o.getReplyCount()+1)}),a.promise.fail(function(e){n.setBusy(!1),t._oCommonUtil.displayError(t._oLanguageBundle.getText(\"ST_POST_REPLY_FAILED\"))})},_onEnableSocialChange:function(e){!0===e.getSource().getValue()?this._oAddPostButton.setVisible(!0):this._oAddPostButton.setVisible(!1)},_showFeedUpdatesInTimeline:function(e){var t=this._oTimeline.getMessageStrip();if(e>0){if(!this.byId(\"refreshLink\")){var i=new sap.m.Link(this.createId(\"refreshLink\"),{text:this._oLanguageBundle.getText(\"GF_REFRESH_FEED\"),press:[function(){this._hideFeedUpdatesInTimeline(),this._oTimelineDataHandler.reset(),this._refreshTimelineModel()},this]});t.setLink(i),t.setType(sap.ui.core.MessageType.Information),t.setShowIcon(!0)}1==e?t.setText(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATE\")):t.setText(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATES\",e)),t.setVisible(!0),this._oTimeline.rerender()}},_hideFeedUpdatesInTimeline:function(){this._oTimeline.getMessageStrip().close()},_startAutoCheckingForNewUpdates:function(){this._iNewFeedUpdatesCheckerTimeDelay=12e4,this._sNewFeedUpdatesCheckerTimeoutId=jQuery.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)},_stopAutoCheckingForNewUpdates:function(){jQuery.sap.clearDelayedCall(this._sNewFeedUpdatesCheckerTimeoutId)},_checkForNewFeedUpdates:function(){var e=this._oTimeline.getContent()[0],t=e?e.getBindingContext().getObject()._feedEntryData.TopLevelId:\"\",i=this._oTimelineDataHandler.getCurrentExternalBO().Id;this._oJamDataHandler.getFeedUpdatesLatestCount(t,i).done(function(e,t){this._showFeedUpdatesInTimeline(e),this._sNewFeedUpdatesCheckerTimeoutId=jQuery.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this)).fail(function(e){this._oLogger.error(\"Failed to check for new feed updates.\"),this._sNewFeedUpdatesCheckerTimeoutId=jQuery.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this))},_buildThumbnailImageURL:function(e){return this._defaultAttributes.collaborationHostServiceUrl+\"/Members('\"+e+\"')/ThumbnailImage/$value\"}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/annotations/Metadata-dbg.js": "/*\n * @copyright@\n */\njQuery.sap.require(\"sap.ui.base.Object\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.annotations.Metadata\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.annotations.Metadata\",{constructor:function(e){this._oIncludedSchemaAliasMap={},this._oSchemaAliasMap={},this._oODataMetadata=e,this._parseODataMetadata()},_parseODataMetadata:function(){this._parseReferenceElements(this._oODataMetadata.extensions),this._parseDataServicesElement(this._oODataMetadata.dataServices)},_parseReferenceElements:function(e){for(var a in e)this._parseReferenceElement(e[a])},_parseReferenceElement:function(e){for(var a in e.children)this._parseReferenceElementChild(e.children[a])},_parseReferenceElementChild:function(e){\"Include\"===e.name&&this._parseIncludeElement(e)},_parseIncludeElement:function(e){var a=null,t=null;for(var n in e.attributes)\"Namespace\"===e.attributes[n].name?a=e.attributes[n].value:t=e.attributes[n].value;this._oIncludedSchemaAliasMap[a]=t},_parseDataServicesElement:function(e){this._parseSchemaElements(e.schema)},_parseSchemaElements:function(e){for(var a in e)this._parseSchemaElement(e[a])},_parseSchemaElement:function(e){void 0===e.alias?this._oSchemaAliasMap[e.namespace]=null:this._oSchemaAliasMap[e.namespace]=e.alias,this._parseEntityTypeElements(e.entityType)},_parseEntityTypeElements:function(e){for(var a in e)this._parseEntityTypeElement(e[a])},_parseEntityTypeElement:function(){},isSchemaIncluded:function(e){return void 0!==this._oIncludedSchemaAliasMap[e]}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/annotations/Metadata.js": "/*\n * @copyright@\n */\njQuery.sap.require(\"sap.ui.base.Object\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.annotations.Metadata\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.annotations.Metadata\",{constructor:function(e){this._oIncludedSchemaAliasMap={},this._oSchemaAliasMap={},this._oODataMetadata=e,this._parseODataMetadata()},_parseODataMetadata:function(){this._parseReferenceElements(this._oODataMetadata.extensions),this._parseDataServicesElement(this._oODataMetadata.dataServices)},_parseReferenceElements:function(e){for(var a in e)this._parseReferenceElement(e[a])},_parseReferenceElement:function(e){for(var a in e.children)this._parseReferenceElementChild(e.children[a])},_parseReferenceElementChild:function(e){\"Include\"===e.name&&this._parseIncludeElement(e)},_parseIncludeElement:function(e){var a=null,t=null;for(var n in e.attributes)\"Namespace\"===e.attributes[n].name?a=e.attributes[n].value:t=e.attributes[n].value;this._oIncludedSchemaAliasMap[a]=t},_parseDataServicesElement:function(e){this._parseSchemaElements(e.schema)},_parseSchemaElements:function(e){for(var a in e)this._parseSchemaElement(e[a])},_parseSchemaElement:function(e){void 0===e.alias?this._oSchemaAliasMap[e.namespace]=null:this._oSchemaAliasMap[e.namespace]=e.alias,this._parseEntityTypeElements(e.entityType)},_parseEntityTypeElements:function(e){for(var a in e)this._parseEntityTypeElement(e[a])},_parseEntityTypeElement:function(){},isSchemaIncluded:function(e){return void 0!==this._oIncludedSchemaAliasMap[e]}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/annotations/MetadataException-dbg.js": "/*!\n * @copyright@\n */\njQuery.sap.require(\"sap.ui.base.Object\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.annotations.MetadataException\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.annotations.MetadataException\",{constructor:function(a){this._sClassName=\"sap.collaboration.components.socialtimeline.annotations.MetadataException\",this._sExceptionMessage=a}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/annotations/MetadataException.js": "/*!\n * @copyright@\n */\njQuery.sap.require(\"sap.ui.base.Object\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.annotations.MetadataException\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.annotations.MetadataException\",{constructor:function(a){this._sClassName=\"sap.collaboration.components.socialtimeline.annotations.MetadataException\",this._sExceptionMessage=a}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/annotations/TimelineTermsUtility-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.require(\"sap.collaboration.components.socialtimeline.annotations.MetadataException\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\",{constructor:function(t,i){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\"),this._oServiceMetadata=t,this._oServiceAnnotations=i,this._oEntityMappings={},this.sSchemaNamespace=\"com.sap.vocabularies.Timeline.v1\";var e=this._getIncludedSchema(this.sSchemaNamespace);if(!e||e.schemaNamespace!==this.sSchemaNamespace){var n=\"Schema with namespace \"+this.sSchemaNamespace+\" wasn't in an Include in the service's metadata document.\";throw this._oLogger.error(n),new sap.collaboration.components.socialtimeline.annotations.MetadataException(n)}},getTimelineEntryNavigationPath:function(t){if(!t){var i=new Error(\"Parameter sEntityCollection is undefined\");throw this._oLogger.error(i.message),i}var e=this._oEntityMappings[t];return e||(e=this._buildMapping(t)),e.timelineEntryNavigationPath},getTimelineEntryFields:function(t){if(!t){var i=new Error(\"Parameter sEntityCollection is undefined\");throw this._oLogger.error(i.message),i}var e=this._oEntityMappings[t];e||(e=this._buildMapping(t));var n=this._oEntityMappings[t].timelineEntryFields;if(!n){var a=this._oServiceAnnotations[e.timelineEntryEntityTypeFull][this.sSchemaNamespace+\".TimelineEntry\"];a||(a=this._oServiceAnnotations[e.timelineEntryEntityTypeFull][this._getCollaborationAlias()+\".TimelineEntry\"]),n=this._mapEntityFields(a),this._oEntityMappings[t].timelineEntryFields=n}return n},getTimelineEntryDetailFields:function(t){if(!t){var i=new Error(\"Parameter sEntityCollection is undefined\");throw this._oLogger.error(i.message),i}var e=this._oEntityMappings[t];e||(e=this._buildMapping(t));var n=this._oEntityMappings[t].timelineEntryDetailFields;if(!n){var a=this._oServiceAnnotations[e.timelineEntryDetailEntityTypeFull][this.sSchemaNamespace+\".TimelineDetailPropertyValueChange\"];a||(a=this._oServiceAnnotations[e.timelineEntryDetailEntityTypeFull][this._getCollaborationAlias()+\".TimelineDetailPropertyValueChange\"]),n=this._mapEntityFields(a),this._oEntityMappings[t].timelineEntryDetailFields=n}return n},_buildMapping:function(t){this._oEntityMappings[t]={},this._oEntityMappings[t].entityCollection=t,this._oEntityMappings[t].entityTypeFull=this._getEntityTypeFull(t),this._oEntityMappings[t].namespace=this._oEntityMappings[t].entityTypeFull.split(\".\")[0],this._oEntityMappings[t].entityType=this._oEntityMappings[t].entityTypeFull.split(\".\")[1];var i=this._oServiceAnnotations[this._oEntityMappings[t].entityTypeFull][this.sSchemaNamespace+\".TimelineNavigationPath\"];i||(i=this._oServiceAnnotations[this._oEntityMappings[t].entityTypeFull][this._getCollaborationAlias()+\".TimelineNavigationPath\"]),this._oEntityMappings[t].timelineEntryNavigationPath=i.NavigationPropertyPath,this._oEntityMappings[t].timelineEntryEntityTypeFull=this._getChildEntityTypeFull(this._oEntityMappings[t].entityType,this._oEntityMappings[t].timelineEntryNavigationPath),this._oEntityMappings[t].timelineEntryEntityType=this._oEntityMappings[t].timelineEntryEntityTypeFull.split(\".\")[1],this._oEntityMappings[t].timelineEntryFields=void 0;var e=this._oServiceAnnotations[this._oEntityMappings[t].timelineEntryEntityTypeFull][this.sSchemaNamespace+\".TimelineEntry\"];return e||(e=this._oServiceAnnotations[this._oEntityMappings[t].timelineEntryEntityTypeFull][this._getCollaborationAlias()+\".TimelineEntry\"]),this._oEntityMappings[t].timelineEntryDetailNavigationPath=e.TimelineDetailNavigationPath.NavigationPropertyPath,this._oEntityMappings[t].timelineEntryDetailEntityTypeFull=this._getChildEntityTypeFull(this._oEntityMappings[t].timelineEntryEntityType,this._oEntityMappings[t].timelineEntryDetailNavigationPath),this._oEntityMappings[t].timelineEntryDetailFields=void 0,this._oEntityMappings[t]},_getEntityTypeFull:function(t){for(var i=this._oServiceMetadata.dataServices.schema.length-1;i>=0;i--){var e=this._oServiceMetadata.dataServices.schema[i];if(e.entityContainer)for(var n=e.entityContainer[0].entitySet,a=n.length-1;a>=0;a--)if(n[a].name===t)return n[a].entityType}throw new Error(\"Entity collection '\"+t+\"' could not be found in service\")},_getChildEntityTypeFull:function(t,i){var e=this._getEntityTypeObject(t),n=this._getNavigationProperty(e,i);return this._getAssociationEnd(n.toRole).type},_getEntityTypeObject:function(t){for(var i=this._oServiceMetadata.dataServices.schema.length-1;i>=0;i--){var e=this._oServiceMetadata.dataServices.schema[i];if(e.entityType)for(var n=e.entityType,a=n.length-1;a>=0;a--)if(n[a].name===t)return n[a]}throw new Error(\"Entity Type '\"+t+\"' could not be found in service\")},_getNavigationProperty:function(t,i){if(t.navigationProperty)for(var e=t.navigationProperty.length-1;e>=0;e--)if(t.navigationProperty[e].name===i)return t.navigationProperty[e];throw new Error(\"Navigation property '\"+i+\"' could not be found for entity '\"+t.name+\"'.\")},_getAssociationEnd:function(t){for(var i=this._oServiceMetadata.dataServices.schema.length-1;i>=0;i--){var e=this._oServiceMetadata.dataServices.schema[i];if(e.association)for(var n=e.association.length-1;n>=0;n--)for(var a=e.association[n].end.length-1;a>=0;a--)if(e.association[n].end[a].role===t)return e.association[n].end[a]}throw new Error(\"Association with role '\"+t+\"' could not be found in service.\")},_mapEntityFields:function(t){var i={};for(var e in t)t.hasOwnProperty(e)&&(t[e].Path?i[e]=t[e].Path:t[e].PropertyPath?i[e]=t[e].PropertyPath:t[e].EnumMember?i[e]=t[e].EnumMember:t[e].NavigationPropertyPath&&(i[e]=t[e].NavigationPropertyPath));return i},_getCollaborationAlias:function(){var t=this._oServiceAnnotations.aliasDefinitions;for(var i in t)if(t[i].indexOf(\"com.sap.vocabularies.Timeline.v1\")>-1)return i},_getIncludedSchema:function(t){var i,e,n,a=0,o=0,s=0,r={schemaNamespace:void 0,schemaAlias:void 0};if(this._oServiceMetadata&&this._oServiceMetadata.extensions){for(a=0;a<this._oServiceMetadata.extensions.length;++a)for(i=this._oServiceMetadata.extensions[a],o=0;o<i.children.length;++o)if(\"Include\"==(e=i.children[o]).name){for(s=0;s<e.attributes.length;++s)\"Namespace\"==(n=e.attributes[s]).name&&(r.schemaNamespace=n.value),\"Alias\"==n.name&&(r.schemaAlias=n.value);if(r.schemaNamespace==t)return r}}else;}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/annotations/TimelineTermsUtility.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.require(\"sap.collaboration.components.socialtimeline.annotations.MetadataException\"),jQuery.sap.declare(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\",{constructor:function(t,i){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility\"),this._oServiceMetadata=t,this._oServiceAnnotations=i,this._oEntityMappings={},this.sSchemaNamespace=\"com.sap.vocabularies.Timeline.v1\";var e=this._getIncludedSchema(this.sSchemaNamespace);if(!e||e.schemaNamespace!==this.sSchemaNamespace){var n=\"Schema with namespace \"+this.sSchemaNamespace+\" wasn't in an Include in the service's metadata document.\";throw this._oLogger.error(n),new sap.collaboration.components.socialtimeline.annotations.MetadataException(n)}},getTimelineEntryNavigationPath:function(t){if(!t){var i=new Error(\"Parameter sEntityCollection is undefined\");throw this._oLogger.error(i.message),i}var e=this._oEntityMappings[t];return e||(e=this._buildMapping(t)),e.timelineEntryNavigationPath},getTimelineEntryFields:function(t){if(!t){var i=new Error(\"Parameter sEntityCollection is undefined\");throw this._oLogger.error(i.message),i}var e=this._oEntityMappings[t];e||(e=this._buildMapping(t));var n=this._oEntityMappings[t].timelineEntryFields;if(!n){var a=this._oServiceAnnotations[e.timelineEntryEntityTypeFull][this.sSchemaNamespace+\".TimelineEntry\"];a||(a=this._oServiceAnnotations[e.timelineEntryEntityTypeFull][this._getCollaborationAlias()+\".TimelineEntry\"]),n=this._mapEntityFields(a),this._oEntityMappings[t].timelineEntryFields=n}return n},getTimelineEntryDetailFields:function(t){if(!t){var i=new Error(\"Parameter sEntityCollection is undefined\");throw this._oLogger.error(i.message),i}var e=this._oEntityMappings[t];e||(e=this._buildMapping(t));var n=this._oEntityMappings[t].timelineEntryDetailFields;if(!n){var a=this._oServiceAnnotations[e.timelineEntryDetailEntityTypeFull][this.sSchemaNamespace+\".TimelineDetailPropertyValueChange\"];a||(a=this._oServiceAnnotations[e.timelineEntryDetailEntityTypeFull][this._getCollaborationAlias()+\".TimelineDetailPropertyValueChange\"]),n=this._mapEntityFields(a),this._oEntityMappings[t].timelineEntryDetailFields=n}return n},_buildMapping:function(t){this._oEntityMappings[t]={},this._oEntityMappings[t].entityCollection=t,this._oEntityMappings[t].entityTypeFull=this._getEntityTypeFull(t),this._oEntityMappings[t].namespace=this._oEntityMappings[t].entityTypeFull.split(\".\")[0],this._oEntityMappings[t].entityType=this._oEntityMappings[t].entityTypeFull.split(\".\")[1];var i=this._oServiceAnnotations[this._oEntityMappings[t].entityTypeFull][this.sSchemaNamespace+\".TimelineNavigationPath\"];i||(i=this._oServiceAnnotations[this._oEntityMappings[t].entityTypeFull][this._getCollaborationAlias()+\".TimelineNavigationPath\"]),this._oEntityMappings[t].timelineEntryNavigationPath=i.NavigationPropertyPath,this._oEntityMappings[t].timelineEntryEntityTypeFull=this._getChildEntityTypeFull(this._oEntityMappings[t].entityType,this._oEntityMappings[t].timelineEntryNavigationPath),this._oEntityMappings[t].timelineEntryEntityType=this._oEntityMappings[t].timelineEntryEntityTypeFull.split(\".\")[1],this._oEntityMappings[t].timelineEntryFields=void 0;var e=this._oServiceAnnotations[this._oEntityMappings[t].timelineEntryEntityTypeFull][this.sSchemaNamespace+\".TimelineEntry\"];return e||(e=this._oServiceAnnotations[this._oEntityMappings[t].timelineEntryEntityTypeFull][this._getCollaborationAlias()+\".TimelineEntry\"]),this._oEntityMappings[t].timelineEntryDetailNavigationPath=e.TimelineDetailNavigationPath.NavigationPropertyPath,this._oEntityMappings[t].timelineEntryDetailEntityTypeFull=this._getChildEntityTypeFull(this._oEntityMappings[t].timelineEntryEntityType,this._oEntityMappings[t].timelineEntryDetailNavigationPath),this._oEntityMappings[t].timelineEntryDetailFields=void 0,this._oEntityMappings[t]},_getEntityTypeFull:function(t){for(var i=this._oServiceMetadata.dataServices.schema.length-1;i>=0;i--){var e=this._oServiceMetadata.dataServices.schema[i];if(e.entityContainer)for(var n=e.entityContainer[0].entitySet,a=n.length-1;a>=0;a--)if(n[a].name===t)return n[a].entityType}throw new Error(\"Entity collection '\"+t+\"' could not be found in service\")},_getChildEntityTypeFull:function(t,i){var e=this._getEntityTypeObject(t),n=this._getNavigationProperty(e,i);return this._getAssociationEnd(n.toRole).type},_getEntityTypeObject:function(t){for(var i=this._oServiceMetadata.dataServices.schema.length-1;i>=0;i--){var e=this._oServiceMetadata.dataServices.schema[i];if(e.entityType)for(var n=e.entityType,a=n.length-1;a>=0;a--)if(n[a].name===t)return n[a]}throw new Error(\"Entity Type '\"+t+\"' could not be found in service\")},_getNavigationProperty:function(t,i){if(t.navigationProperty)for(var e=t.navigationProperty.length-1;e>=0;e--)if(t.navigationProperty[e].name===i)return t.navigationProperty[e];throw new Error(\"Navigation property '\"+i+\"' could not be found for entity '\"+t.name+\"'.\")},_getAssociationEnd:function(t){for(var i=this._oServiceMetadata.dataServices.schema.length-1;i>=0;i--){var e=this._oServiceMetadata.dataServices.schema[i];if(e.association)for(var n=e.association.length-1;n>=0;n--)for(var a=e.association[n].end.length-1;a>=0;a--)if(e.association[n].end[a].role===t)return e.association[n].end[a]}throw new Error(\"Association with role '\"+t+\"' could not be found in service.\")},_mapEntityFields:function(t){var i={};for(var e in t)t.hasOwnProperty(e)&&(t[e].Path?i[e]=t[e].Path:t[e].PropertyPath?i[e]=t[e].PropertyPath:t[e].EnumMember?i[e]=t[e].EnumMember:t[e].NavigationPropertyPath&&(i[e]=t[e].NavigationPropertyPath));return i},_getCollaborationAlias:function(){var t=this._oServiceAnnotations.aliasDefinitions;for(var i in t)if(t[i].indexOf(\"com.sap.vocabularies.Timeline.v1\")>-1)return i},_getIncludedSchema:function(t){var i,e,n,a=0,o=0,s=0,r={schemaNamespace:void 0,schemaAlias:void 0};if(this._oServiceMetadata&&this._oServiceMetadata.extensions){for(a=0;a<this._oServiceMetadata.extensions.length;++a)for(i=this._oServiceMetadata.extensions[a],o=0;o<i.children.length;++o)if(\"Include\"==(e=i.children[o]).name){for(s=0;s<e.attributes.length;++s)\"Namespace\"==(n=e.attributes[s]).name&&(r.schemaNamespace=n.value),\"Alias\"==n.name&&(r.schemaAlias=n.value);if(r.schemaNamespace==t)return r}}else;}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/controls/TimelineItemEmbedded-dbg.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/Control\",\"sap/collaboration/components/controls/TimelineEntryEmbedded\",\"sap/collaboration/components/controls/FeedEntryEmbedded\"],function(e,t,o,n){\"use strict\";var i=t.extend(\"sap.collaboration.components.socialtimeline.controls.TimelineItemEmbedded\",{metadata:{interfaces:[],library:\"sap.m\",properties:{timelineItem:{type:\"object\",group:\"data\"}},events:{atMentionClick:{parameters:{link:{type:\"object\"}}},expandCollapseClick:{}},aggregations:{}}});return i.prototype.init=function(){this._oEmbeddedControl},i.prototype.onBeforeRendering=function(){var e=this.getTimelineItem();void 0!==e._feedEntryData?this._oEmbeddedControl=new n({feedEntry:e._feedEntryData,atMentionClick:[this.onAtMentionClicked,this],expandCollapseClick:[this.onExpandCollapseClick,this]}):this._oEmbeddedControl=new o({timelineEntry:e.timelineItemData})},i.prototype.exit=function(){},i.prototype.getEmbeddedControl=function(){return this._oEmbeddedControl},i.prototype.onExpandCollapseClick=function(){this.fireExpandCollapseClick()},i.prototype.onAtMentionClicked=function(e){this.fireAtMentionClick(e.getParameters())},i},!0);",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/controls/TimelineItemEmbedded.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/Control\",\"sap/collaboration/components/controls/TimelineEntryEmbedded\",\"sap/collaboration/components/controls/FeedEntryEmbedded\"],function(e,t,o,n){\"use strict\";var i=t.extend(\"sap.collaboration.components.socialtimeline.controls.TimelineItemEmbedded\",{metadata:{interfaces:[],library:\"sap.m\",properties:{timelineItem:{type:\"object\",group:\"data\"}},events:{atMentionClick:{parameters:{link:{type:\"object\"}}},expandCollapseClick:{}},aggregations:{}}});return i.prototype.init=function(){this._oEmbeddedControl},i.prototype.onBeforeRendering=function(){var e=this.getTimelineItem();void 0!==e._feedEntryData?this._oEmbeddedControl=new n({feedEntry:e._feedEntryData,atMentionClick:[this.onAtMentionClicked,this],expandCollapseClick:[this.onExpandCollapseClick,this]}):this._oEmbeddedControl=new o({timelineEntry:e.timelineItemData})},i.prototype.exit=function(){},i.prototype.getEmbeddedControl=function(){return this._oEmbeddedControl},i.prototype.onExpandCollapseClick=function(){this.fireExpandCollapseClick()},i.prototype.onAtMentionClicked=function(e){this.fireAtMentionClick(e.getParameters())},i},!0);",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/controls/TimelineItemEmbeddedRenderer-dbg.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([],function(){var e={render:function(e,n){e.renderControl(n.getEmbeddedControl())}};return e},!0);",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/controls/TimelineItemEmbeddedRenderer.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([],function(){var e={render:function(e,n){e.renderControl(n.getEmbeddedControl())}};return e},!0);",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/JamDataHandler-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.utils.OdataUtil\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\",{constructor:function(e){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\"),this._oOdataUtil=new sap.collaboration.components.utils.OdataUtil,this._oCollabModel=e,this._oExternalBObuffer={}},_requestsData:{getGroups:{url:function(e){return\"/ExternalObjects('\"+jQuery.sap.encodeURL(e)+\"')/Groups\"},urlParameters:function(){return{}},successLog:function(e,r){return\"Groups were successfully retrieved.\"},errorLog:function(e){this._oLogger.error(\"Failed to retrieve groups: \"+e.response.statusText)}},getExternalObjectByExidAndObjectType:{url:function(e,r,t){return t||\"/ExternalObjects_FindByExidAndObjectType\"},urlParameters:function(e,r){return{Exid:\"'\"+e.replace(/'/g,\"''\")+\"'\",ObjectType:\"'\"+r.replace(/'/g,\"''\")+\"'\",$expand:\"FeedEntries/Creator\"}},successLog:function(e,r){return\"External object found: \"+e.results.Name},errorLog:function(e){this._oLogger.error(e.response.statusText)}},getFeedEntries:{url:function(e,r){return r||\"/ExternalObjects('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntries\"},urlParameters:function(){return{$expand:\"Creator/MemberProfile\"}},successLog:function(e,r){return\"Feed entries were successfully retrieved.\"},errorLog:function(e){this._oLogger.error(\"Failed to retrieve feed entries: \"+e.response.statusText)}},getSuggestions:{url:function(){return\"/Members_Autocomplete\"},urlParameters:function(e,r){var t={Query:\"'\"+e+\"'\",$top:\"4\"};return r&&(t.GroupId=\"'\"+r+\"'\"),t},successLog:function(e,r){return\"\"},errorLog:function(e){this._oLogger.error(\"\")}},getAtMentions:{url:function(e){return\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/AtMentions\"},urlParameters:function(){return{}},successLog:function(e,r){return\"@mentions were successfully retrieved.\"},errorLog:function(e){this._oLogger.error(\"Failed to retrieve the @mentions: \"+e.response.statusText,e.stack)}},getReplies:{url:function(e,r){return r||\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/Replies\"},urlParameters:function(){return{$orderby:\"CreatedAt desc\",$expand:\"Creator\"}},successLog:function(e,r){return\"Replies were successfully retrieved.\"},errorLog:function(e){e.response&&this._oLogger.error(\"Failed to retrieve replies: \"+e.response.statusText,e.stack)}}},_doAllTheThings:function(e,r){var t=this,o=this._requestsData[e],s=Array.prototype.slice.apply(arguments);s.shift(),s.shift();var n=new jQuery.Deferred,a=o.urlParameters.apply(t,s);if(\"[object Object]\"===Object.prototype.toString.apply(r))for(var u in r)a[u]=r[u];var i={context:null,urlParameters:a,async:!0,filters:[],sorters:[],success:function(e,r){t._oLogger.info(o.successLog.apply(t,[e,r])),n.resolve(e,r)},error:function(e){o.errorLog.apply(t,[e]),n.reject(e)}};return{request:this._oCollabModel.read(o.url.apply(t,s),i),promise:n.promise()}},getGroups:function(e,r,t){return this._doAllTheThings(\"getGroups\",t,e,r)},getExternalObjectByExidAndObjectType:function(e,r){var t=e.ObjectType+e.Exid;return this._oExternalBObuffer[t]=e,this._doAllTheThings(\"getExternalObjectByExidAndObjectType\",null,e.Exid,e.ObjectType,r)},getFeedEntries:function(e,r){return this._doAllTheThings(\"getFeedEntries\",null,e,r)},getSuggestions:function(e,r){return this._doAllTheThings(\"getSuggestions\",null,e,r)},getAtMentions:function(e){return this._doAllTheThings(\"getAtMentions\",null,e)},getReplies:function(e,r){return this._doAllTheThings(\"getReplies\",null,e,r)},getExternalObject:function(e){var r=this,t=e.ObjectType+e.Exid,o=jQuery.Deferred();if(this._oExternalBObuffer[t])o.resolve(this._oExternalBObuffer[t]);else{var s=this.postExternalObject(e);s.promise.done(function(e,s){var n=e.results;r._oExternalBObuffer[t]=n,o.resolve(n)}),s.promise.fail(function(e){o.reject(e)})}return o.promise()},getFeedEntryFromActivity:function(e){var r=this,t=\"/Activities('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntry\",o=jQuery.Deferred(),s={urlParameters:{$expand:\"Creator\"},async:!0,success:function(e,r){o.resolve(e,r)},error:function(e){r._oLogger.error(\"Failed to get the feed entry: \"+e.response.statusText),o.reject(e)}};return this._oCollabModel.read(t,s),o.promise()},getUserInfoBatch:function(e){var r=this,t=[];e.forEach(function(e){var o=\"/Members_Autocomplete?Query='\"+jQuery.sap.encodeURL(e)+\"'&$expand=MemberProfile\";t.push(r._oCollabModel.createBatchOperation(o,\"GET\",null,null))}),this._oCollabModel.addBatchReadOperations(t);var o=!0,s=jQuery.Deferred(),n=function(e,t){var o=r._oOdataUtil.parseBatchResponse(e.__batchResponses);s.resolve(o,t)},a=function(e){403===e.response.statusCode&&o?r._oCollabModel.refreshSecurityToken(function(){o=!1,r._oCollabModel.addBatchReadOperations(t),r._oCollabModel.submitBatch(n,a,!0)},function(e){r._oLogger.error(\"Failed to get member information: \"+e.response.statusText),s.reject(e)},!0):(r._oLogger.error(\"Failed to get member information: \"+e.response.statusText),s.reject(e))};return{request:this._oCollabModel.submitBatch(n,a,!0),promise:s.promise()}},getAtMentionsBatch:function(e){var r=this,t=[];e.forEach(function(e,o){if(o<10){var s=\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/AtMentions\";t.push(r._oCollabModel.createBatchOperation(s,\"GET\",null,null))}}),this._oCollabModel.addBatchReadOperations(t);var o=!0,s=new jQuery.Deferred,n=function(e,t){var o=r._oOdataUtil.parseBatchResponse(e.__batchResponses);s.resolve(o,t)},a=function(e){403===e.response.statusCode&&o?r._oCollabModel.refreshSecurityToken(function(){o=!1,r._oCollabModel.addBatchReadOperations(t),r._oCollabModel.submitBatch(n,a,!0)},function(e){r._oLogger.error(\"Failed to get the feeds @mentions: \"+e.response.statusText),s.reject(e)},!0):(r._oLogger.error(\"Failed to get the feeds @mentions: \"+e.response.statusText),s.reject(e))};return{request:this._oCollabModel.submitBatch(n,a,!0),promise:s}},getSender:function(){var e=this,r=jQuery.Deferred(),t={urlParameters:null,async:!0,success:function(t,o){e._oLogger.info(\"The reply was successfully posted.\"),r.resolve(t.results)},error:function(t){e._oLogger.error(\"Failed to retrieve the sender: \"+t.response.statusText,t.stack),r.reject(t)}};return{request:this._oCollabModel.read(\"/Self\",t),promise:r.promise()}},getGroupFeedEntries:function(e,r){var t=this,o=\"\";o=r||\"/Groups('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntries\";var s=jQuery.Deferred(),n={context:null,urlParameters:{$expand:\"Group,Creator,TargetObjectReference\"},async:!0,success:function(r,o){t._oLogger.info(\"The feed entries for the group '\"+e+\"' were retrieved.\"),s.resolve(r,o)},error:function(r){t._oLogger.error(\"Failed to get feed entries for the group '\"+e+\"'.\"),s.reject(r)}};return{request:this._oCollabModel.read(o,n),promise:s.promise()}},getGroupExternalObjectFeedEntries:function(e,r,t){var o=this,s=\"\",n=jQuery.Deferred();s=t||\"/GroupExternalObjects(GroupId='\"+jQuery.sap.encodeURL(e)+\"',ExternalObjectId='\"+jQuery.sap.encodeURL(r)+\"')/FeedEntries\";var a={context:null,urlParameters:{$expand:\"Group,Creator,TargetObjectReference\"},async:!0,success:function(t,s){o._oLogger.info(\"The feed entries for the group object wall was retrieved. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),n.resolve(t,s)},error:function(t){o._oLogger.error(\"Failed to get feed entries for the group object wall. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),n.reject(t)}};return{request:this._oCollabModel.read(s,a),promise:n.promise()}},addPostToExternalObject:function(e,r){var t=this;return this.postFeedEntryToObject(r,e).promise.then(function(e,r){var o=e.results;return t.getFeedEntryFromActivity(o.Id)}).then(function(e,r){return e.results}).fail(function(e){return e}).promise()},postExternalObject:function(e){var r=this,t=e,o=jQuery.Deferred(),s={context:null,urlParameters:null,async:!0,success:function(e,t){r._oLogger.info(\"External object created. \"+e.results.Name),o.resolve(e,t)},error:function(e){r._oLogger.error(\"Failed to create external object: \"+e.response.statusText),o.reject(e)}};return{request:this._oCollabModel.create(\"/ExternalObjects\",t,s),promise:o.promise()}},postFeedEntryToObject:function(e,r){var t=this,o={};o.__metadata=e.__metadata;var s={Content:r,Object:o,Verb:\"comment\"},n=!0,a=jQuery.Deferred(),u={context:null,urlParameters:null,async:!0,success:function(e,r){a.resolve(e,r)},error:function(e){403===e.response.statusCode&&n?t._oCollabModel.refreshSecurityToken(function(){n=!1,t._oCollabModel.create(\"/Activities\",s,u)},function(e){t._oLogger.error(\"Failed to get the activity: \"+e.response.statusText),a.reject(e)},!0):(t._oLogger.error(\"Failed to get the activity: \"+e.response.statusText),a.reject(e))}};return{request:this._oCollabModel.create(\"/Activities\",s,u),promise:a.promise()}},postReply:function(e,r){var t=this,o=\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/Replies\",s={Text:r},n=!0,a=jQuery.Deferred(),u={context:null,urlParameters:null,async:!0,success:function(e,r){t._oLogger.info(\"The reply was successfully posted.\"),a.resolve(e)},error:function(e){403===e.response.statusCode&&n?t._oCollabModel.refreshSecurityToken(function(){n=!1,t._oCollabModel.create(o,s,u)},function(e){t._oLogger.error(\"Failed to post reply: \"+e.response.statusText,e.stack),a.reject(e)},!0):(t._oLogger.error(\"Failed to post reply: \"+e.response.statusText,e.stack),a.reject(e))}};return{request:this._oCollabModel.create(o,s,u),promise:a.promise()}},postGroupFeedEntry:function(e,r){var t=this,o=\"/Groups('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntries\",s={Text:r},n=jQuery.Deferred(),a={context:null,urlParameters:null,async:!0,success:function(r,o){t._oLogger.info(\"Feed entry was successfully posted to Group '\"+e+\"'.\"),n.resolve(r,o)},error:function(r){t._oLogger.error(\"Failed to post feed entry to group '\"+e+\"'.\"),n.reject(r)}};return{request:this._oCollabModel.create(o,s,a),promise:n.promise()}},postGroupExternalObjectFeedEntry:function(e,r,t){var o=this,s=\"/GroupExternalObjects(GroupId='\"+jQuery.sap.encodeURL(e)+\"',ExternalObjectId='\"+jQuery.sap.encodeURL(r)+\"')/FeedEntries\",n={Text:t},a=jQuery.Deferred(),u={context:null,urlParameters:null,async:!0,success:function(t,s){o._oLogger.info(\"Feed entry was successfully posted to group object wall. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),a.resolve(t,s)},error:function(t){o._oLogger.error(\"Failed to post feed entry to group object wall. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),a.reject(t)}};return{request:this._oCollabModel.create(s,n,u),promise:a.promise()}},getFeedUpdatesLatestCount:function(e,r){var t=jQuery.Deferred(),o={urlParameters:{LatestTopLevelId:\"'\"+e+\"'\",Id:\"'\"+r+\"'\"},success:function(e,r){t.resolve(e,r)},error:function(e){t.reject(e)}};return t.promise(this._oCollabModel.read(\"/ExternalObject_FeedLatestCount\",o))}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/JamDataHandler.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.utils.OdataUtil\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\",{constructor:function(e){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.JamDataHandler\"),this._oOdataUtil=new sap.collaboration.components.utils.OdataUtil,this._oCollabModel=e,this._oExternalBObuffer={}},_requestsData:{getGroups:{url:function(e){return\"/ExternalObjects('\"+jQuery.sap.encodeURL(e)+\"')/Groups\"},urlParameters:function(){return{}},successLog:function(e,r){return\"Groups were successfully retrieved.\"},errorLog:function(e){this._oLogger.error(\"Failed to retrieve groups: \"+e.response.statusText)}},getExternalObjectByExidAndObjectType:{url:function(e,r,t){return t||\"/ExternalObjects_FindByExidAndObjectType\"},urlParameters:function(e,r){return{Exid:\"'\"+e.replace(/'/g,\"''\")+\"'\",ObjectType:\"'\"+r.replace(/'/g,\"''\")+\"'\",$expand:\"FeedEntries/Creator\"}},successLog:function(e,r){return\"External object found: \"+e.results.Name},errorLog:function(e){this._oLogger.error(e.response.statusText)}},getFeedEntries:{url:function(e,r){return r||\"/ExternalObjects('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntries\"},urlParameters:function(){return{$expand:\"Creator/MemberProfile\"}},successLog:function(e,r){return\"Feed entries were successfully retrieved.\"},errorLog:function(e){this._oLogger.error(\"Failed to retrieve feed entries: \"+e.response.statusText)}},getSuggestions:{url:function(){return\"/Members_Autocomplete\"},urlParameters:function(e,r){var t={Query:\"'\"+e+\"'\",$top:\"4\"};return r&&(t.GroupId=\"'\"+r+\"'\"),t},successLog:function(e,r){return\"\"},errorLog:function(e){this._oLogger.error(\"\")}},getAtMentions:{url:function(e){return\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/AtMentions\"},urlParameters:function(){return{}},successLog:function(e,r){return\"@mentions were successfully retrieved.\"},errorLog:function(e){this._oLogger.error(\"Failed to retrieve the @mentions: \"+e.response.statusText,e.stack)}},getReplies:{url:function(e,r){return r||\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/Replies\"},urlParameters:function(){return{$orderby:\"CreatedAt desc\",$expand:\"Creator\"}},successLog:function(e,r){return\"Replies were successfully retrieved.\"},errorLog:function(e){e.response&&this._oLogger.error(\"Failed to retrieve replies: \"+e.response.statusText,e.stack)}}},_doAllTheThings:function(e,r){var t=this,o=this._requestsData[e],s=Array.prototype.slice.apply(arguments);s.shift(),s.shift();var n=new jQuery.Deferred,a=o.urlParameters.apply(t,s);if(\"[object Object]\"===Object.prototype.toString.apply(r))for(var u in r)a[u]=r[u];var i={context:null,urlParameters:a,async:!0,filters:[],sorters:[],success:function(e,r){t._oLogger.info(o.successLog.apply(t,[e,r])),n.resolve(e,r)},error:function(e){o.errorLog.apply(t,[e]),n.reject(e)}};return{request:this._oCollabModel.read(o.url.apply(t,s),i),promise:n.promise()}},getGroups:function(e,r,t){return this._doAllTheThings(\"getGroups\",t,e,r)},getExternalObjectByExidAndObjectType:function(e,r){var t=e.ObjectType+e.Exid;return this._oExternalBObuffer[t]=e,this._doAllTheThings(\"getExternalObjectByExidAndObjectType\",null,e.Exid,e.ObjectType,r)},getFeedEntries:function(e,r){return this._doAllTheThings(\"getFeedEntries\",null,e,r)},getSuggestions:function(e,r){return this._doAllTheThings(\"getSuggestions\",null,e,r)},getAtMentions:function(e){return this._doAllTheThings(\"getAtMentions\",null,e)},getReplies:function(e,r){return this._doAllTheThings(\"getReplies\",null,e,r)},getExternalObject:function(e){var r=this,t=e.ObjectType+e.Exid,o=jQuery.Deferred();if(this._oExternalBObuffer[t])o.resolve(this._oExternalBObuffer[t]);else{var s=this.postExternalObject(e);s.promise.done(function(e,s){var n=e.results;r._oExternalBObuffer[t]=n,o.resolve(n)}),s.promise.fail(function(e){o.reject(e)})}return o.promise()},getFeedEntryFromActivity:function(e){var r=this,t=\"/Activities('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntry\",o=jQuery.Deferred(),s={urlParameters:{$expand:\"Creator\"},async:!0,success:function(e,r){o.resolve(e,r)},error:function(e){r._oLogger.error(\"Failed to get the feed entry: \"+e.response.statusText),o.reject(e)}};return this._oCollabModel.read(t,s),o.promise()},getUserInfoBatch:function(e){var r=this,t=[];e.forEach(function(e){var o=\"/Members_Autocomplete?Query='\"+jQuery.sap.encodeURL(e)+\"'&$expand=MemberProfile\";t.push(r._oCollabModel.createBatchOperation(o,\"GET\",null,null))}),this._oCollabModel.addBatchReadOperations(t);var o=!0,s=jQuery.Deferred(),n=function(e,t){var o=r._oOdataUtil.parseBatchResponse(e.__batchResponses);s.resolve(o,t)},a=function(e){403===e.response.statusCode&&o?r._oCollabModel.refreshSecurityToken(function(){o=!1,r._oCollabModel.addBatchReadOperations(t),r._oCollabModel.submitBatch(n,a,!0)},function(e){r._oLogger.error(\"Failed to get member information: \"+e.response.statusText),s.reject(e)},!0):(r._oLogger.error(\"Failed to get member information: \"+e.response.statusText),s.reject(e))};return{request:this._oCollabModel.submitBatch(n,a,!0),promise:s.promise()}},getAtMentionsBatch:function(e){var r=this,t=[];e.forEach(function(e,o){if(o<10){var s=\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/AtMentions\";t.push(r._oCollabModel.createBatchOperation(s,\"GET\",null,null))}}),this._oCollabModel.addBatchReadOperations(t);var o=!0,s=new jQuery.Deferred,n=function(e,t){var o=r._oOdataUtil.parseBatchResponse(e.__batchResponses);s.resolve(o,t)},a=function(e){403===e.response.statusCode&&o?r._oCollabModel.refreshSecurityToken(function(){o=!1,r._oCollabModel.addBatchReadOperations(t),r._oCollabModel.submitBatch(n,a,!0)},function(e){r._oLogger.error(\"Failed to get the feeds @mentions: \"+e.response.statusText),s.reject(e)},!0):(r._oLogger.error(\"Failed to get the feeds @mentions: \"+e.response.statusText),s.reject(e))};return{request:this._oCollabModel.submitBatch(n,a,!0),promise:s}},getSender:function(){var e=this,r=jQuery.Deferred(),t={urlParameters:null,async:!0,success:function(t,o){e._oLogger.info(\"The reply was successfully posted.\"),r.resolve(t.results)},error:function(t){e._oLogger.error(\"Failed to retrieve the sender: \"+t.response.statusText,t.stack),r.reject(t)}};return{request:this._oCollabModel.read(\"/Self\",t),promise:r.promise()}},getGroupFeedEntries:function(e,r){var t=this,o=\"\";o=r||\"/Groups('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntries\";var s=jQuery.Deferred(),n={context:null,urlParameters:{$expand:\"Group,Creator,TargetObjectReference\"},async:!0,success:function(r,o){t._oLogger.info(\"The feed entries for the group '\"+e+\"' were retrieved.\"),s.resolve(r,o)},error:function(r){t._oLogger.error(\"Failed to get feed entries for the group '\"+e+\"'.\"),s.reject(r)}};return{request:this._oCollabModel.read(o,n),promise:s.promise()}},getGroupExternalObjectFeedEntries:function(e,r,t){var o=this,s=\"\",n=jQuery.Deferred();s=t||\"/GroupExternalObjects(GroupId='\"+jQuery.sap.encodeURL(e)+\"',ExternalObjectId='\"+jQuery.sap.encodeURL(r)+\"')/FeedEntries\";var a={context:null,urlParameters:{$expand:\"Group,Creator,TargetObjectReference\"},async:!0,success:function(t,s){o._oLogger.info(\"The feed entries for the group object wall was retrieved. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),n.resolve(t,s)},error:function(t){o._oLogger.error(\"Failed to get feed entries for the group object wall. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),n.reject(t)}};return{request:this._oCollabModel.read(s,a),promise:n.promise()}},addPostToExternalObject:function(e,r){var t=this;return this.postFeedEntryToObject(r,e).promise.then(function(e,r){var o=e.results;return t.getFeedEntryFromActivity(o.Id)}).then(function(e,r){return e.results}).fail(function(e){return e}).promise()},postExternalObject:function(e){var r=this,t=e,o=jQuery.Deferred(),s={context:null,urlParameters:null,async:!0,success:function(e,t){r._oLogger.info(\"External object created. \"+e.results.Name),o.resolve(e,t)},error:function(e){r._oLogger.error(\"Failed to create external object: \"+e.response.statusText),o.reject(e)}};return{request:this._oCollabModel.create(\"/ExternalObjects\",t,s),promise:o.promise()}},postFeedEntryToObject:function(e,r){var t=this,o=\"/Activities\",s={};s.__metadata=e.__metadata;var n={Content:r,Object:s,Verb:\"comment\"},a=!0,u=jQuery.Deferred(),i={context:null,urlParameters:null,async:!0,success:function(e,r){u.resolve(e,r)},error:function(e){403===e.response.statusCode&&a?t._oCollabModel.refreshSecurityToken(function(){a=!1,t._oCollabModel.create(o,n,i)},function(e){t._oLogger.error(\"Failed to get the activity: \"+e.response.statusText),u.reject(e)},!0):(t._oLogger.error(\"Failed to get the activity: \"+e.response.statusText),u.reject(e))}};return{request:this._oCollabModel.create(o,n,i),promise:u.promise()}},postReply:function(e,r){var t=this,o=\"/FeedEntries('\"+jQuery.sap.encodeURL(e)+\"')/Replies\",s={Text:r},n=!0,a=jQuery.Deferred(),u={context:null,urlParameters:null,async:!0,success:function(e,r){t._oLogger.info(\"The reply was successfully posted.\"),a.resolve(e)},error:function(e){403===e.response.statusCode&&n?t._oCollabModel.refreshSecurityToken(function(){n=!1,t._oCollabModel.create(o,s,u)},function(e){t._oLogger.error(\"Failed to post reply: \"+e.response.statusText,e.stack),a.reject(e)},!0):(t._oLogger.error(\"Failed to post reply: \"+e.response.statusText,e.stack),a.reject(e))}};return{request:this._oCollabModel.create(o,s,u),promise:a.promise()}},postGroupFeedEntry:function(e,r){var t=this,o=\"/Groups('\"+jQuery.sap.encodeURL(e)+\"')/FeedEntries\",s={Text:r},n=jQuery.Deferred(),a={context:null,urlParameters:null,async:!0,success:function(r,o){t._oLogger.info(\"Feed entry was successfully posted to Group '\"+e+\"'.\"),n.resolve(r,o)},error:function(r){t._oLogger.error(\"Failed to post feed entry to group '\"+e+\"'.\"),n.reject(r)}};return{request:this._oCollabModel.create(o,s,a),promise:n.promise()}},postGroupExternalObjectFeedEntry:function(e,r,t){var o=this,s=\"/GroupExternalObjects(GroupId='\"+jQuery.sap.encodeURL(e)+\"',ExternalObjectId='\"+jQuery.sap.encodeURL(r)+\"')/FeedEntries\",n={Text:t},a=jQuery.Deferred(),u={context:null,urlParameters:null,async:!0,success:function(t,s){o._oLogger.info(\"Feed entry was successfully posted to group object wall. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),a.resolve(t,s)},error:function(t){o._oLogger.error(\"Failed to post feed entry to group object wall. Group Id is:'\"+e+\"', External Object Id is:\"+r+\".\"),a.reject(t)}};return{request:this._oCollabModel.create(s,n,u),promise:a.promise()}},getFeedUpdatesLatestCount:function(e,r){var t=jQuery.Deferred(),o={urlParameters:{LatestTopLevelId:\"'\"+e+\"'\",Id:\"'\"+r+\"'\"},success:function(e,r){t.resolve(e,r)},error:function(e){t.reject(e)}};return t.promise(this._oCollabModel.read(\"/ExternalObject_FeedLatestCount\",o))}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/SMIntegrationDataHandler-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.utils.OdataUtil\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\",{constructor:function(t){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\"),this._oSMIntegrationModel=t,this._oOdataUtil=new sap.collaboration.components.utils.OdataUtil,this.oJamConfigurationStatusMap={configurationOk:0,configuartionError:1}},mapInternalBOToExternalBO:function(t){return this.getExternalObjectMapping(t).promise.then(function(t){return this._oLogger.info(\"External business object mapping was found.\"),t.MapInternalBOToExternalBO}.bind(this)).promise()},getJamConfigurationStatus:function(t,a){var o=this,e={async:!1,success:function(a,e){a.GetJamConfigurationStatus.StatusCode===o.oJamConfigurationStatusMap.configurationOk?t(!0):t(!1)},error:function(t){o._oLogger.error(JSON.stringify(t)),a()}};this._oSMIntegrationModel.read(\"/GetJamConfigurationStatus\",e)},getExternalObjectMapping:function(t){var a=this,o=jQuery.Deferred(),e={};e.ApplicationContext=\"'\"+t.appContext+\"'\",e.ODataCollection=\"'\"+t.collection+\"'\",e.ODataKeyPredicate=\"'\"+t.key+\"'\",e.ODataServicePath=\"'\"+t.odataServicePath+\"'\";var n={context:null,urlParameters:e,async:!0,filters:[],sorters:[],success:function(t,e){a._oLogger.info(\"External object mapping found\"),o.resolve(t,e)},error:function(t){a._oLogger.error(t.response.statusText),o.reject(t)}};return{request:this._oSMIntegrationModel.read(\"/MapInternalBOToExternalBO\",n),promise:o.promise()}}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/SMIntegrationDataHandler.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\"),jQuery.sap.require(\"sap.collaboration.components.utils.OdataUtil\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\",{constructor:function(t){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.SMIntegrationDataHandler\"),this._oSMIntegrationModel=t,this._oOdataUtil=new sap.collaboration.components.utils.OdataUtil,this.oJamConfigurationStatusMap={configurationOk:0,configuartionError:1}},mapInternalBOToExternalBO:function(t){return this.getExternalObjectMapping(t).promise.then(function(t){return this._oLogger.info(\"External business object mapping was found.\"),t.MapInternalBOToExternalBO}.bind(this)).promise()},getJamConfigurationStatus:function(t,a){var o=this,e={async:!1,success:function(a,e){a.GetJamConfigurationStatus.StatusCode===o.oJamConfigurationStatusMap.configurationOk?t(!0):t(!1)},error:function(t){o._oLogger.error(JSON.stringify(t)),a()}};this._oSMIntegrationModel.read(\"/GetJamConfigurationStatus\",e)},getExternalObjectMapping:function(t){var a=this,o=jQuery.Deferred(),e={};e.ApplicationContext=\"'\"+t.appContext+\"'\",e.ODataCollection=\"'\"+t.collection+\"'\",e.ODataKeyPredicate=\"'\"+t.key+\"'\",e.ODataServicePath=\"'\"+t.odataServicePath+\"'\";var n={context:null,urlParameters:e,async:!0,filters:[],sorters:[],success:function(t,e){a._oLogger.info(\"External object mapping found\"),o.resolve(t,e)},error:function(t){a._oLogger.error(t.response.statusText),o.reject(t)}};return{request:this._oSMIntegrationModel.read(\"/MapInternalBOToExternalBO\",n),promise:o.promise()}}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/ServiceDataHandler-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\",{constructor:function(e,i){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\"),this._oBOModel=e,this._oTimelineTermsUtility=i},readTimelineEntries:function(e,i,t,n,o){var r=this,s=jQuery.Deferred(),a=this._buildTimelineEntriesEndpoint(e,i,t,n,o),l={context:null,urlParameters:null,async:!0,filters:[],sorters:[],success:function(e,i){s.resolve(e)},error:function(e){e.response&&e.response.statusCode&&(r._oLogger.error(e.body),s.reject(e))}};return{request:this._oBOModel.read(a,l),promise:s.promise()}},_buildTimelineEntriesEndpoint:function(e,i,t,n,o){var r=\"/\"+e+\"(\"+jQuery.sap.encodeURL(i)+\")/\"+this._oTimelineTermsUtility.getTimelineEntryNavigationPath(e)+\"?$expand=\"+this._oTimelineTermsUtility.getTimelineEntryFields(e).TimelineDetailNavigationPath;return void 0!=n&&(r+=\"&$skip=\"+n),void 0!=o&&(r+=\"&$top=\"+o),void 0!=t&&(r+=\"&$filter=\"+t),this._oLogger.info(\"Timeline Entries Endpoint: \"+r),r}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/ServiceDataHandler.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\",{constructor:function(e,i){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.ServiceDataHandler\"),this._oBOModel=e,this._oTimelineTermsUtility=i},readTimelineEntries:function(e,i,t,n,o){var r=this,s=jQuery.Deferred(),a=this._buildTimelineEntriesEndpoint(e,i,t,n,o),l={context:null,urlParameters:null,async:!0,filters:[],sorters:[],success:function(e,i){s.resolve(e)},error:function(e){e.response&&e.response.statusCode&&(r._oLogger.error(e.body),s.reject(e))}};return{request:this._oBOModel.read(a,l),promise:s.promise()}},_buildTimelineEntriesEndpoint:function(e,i,t,n,o){var r=\"/\"+e+\"(\"+jQuery.sap.encodeURL(i)+\")/\"+this._oTimelineTermsUtility.getTimelineEntryNavigationPath(e)+\"?$expand=\"+this._oTimelineTermsUtility.getTimelineEntryFields(e).TimelineDetailNavigationPath;return void 0!=n&&(r+=\"&$skip=\"+n),void 0!=o&&(r+=\"&$top=\"+o),void 0!=t&&(r+=\"&$filter=\"+t),this._oLogger.info(\"Timeline Entries Endpoint: \"+r),r}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/TimelineDataHandler-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\",{constructor:function(e,t,i,n,r,s,a,o){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\"),this._oFilterConstants=new sap.collaboration.components.socialtimeline.filter.FilterType,this._oBusinessObjectMap=e,this._oJamDataHandler=t,this._oServiceDataHandler=n,this._oTimelineTermsUtility=r,this._oSMIntegrationDataHandler=i,this._bSocialFeaturesEnabled=a,this._bBackendFeaturesEnabled=o,this._iPageSize=s,this._iPageSize=s,this._iTimelineEntriesPageSize=s,this._iTimelineEntriesSkip=0,this._iFeedEntriesPageSize=2*s,this._sBusinessObjectKey=\"\",this._sFeedEntriesNextLink=\"\",this._fCustomActionCallBack=e.customActionCallback,this._aTimelineEntries=[],this._aFeedEntries=[],this._oExternalBO={},this._oMemberDataBuffer={},this._oExternalBOMapping={}},setBusinessObject:function(e){this._setBusinessObjectValues(e),this._resetBusinessObjectData(),this.getExternalBOMapping()},reset:function(){this._iTimelineEntriesSkip=0,this._iTimelineEntriesPageSize=this._iPageSize,this._sFeedEntriesNextLink=\"\",this._aTimelineEntries=[],this._aFeedEntries=[]},getTimelineData:function(e,t){var i=jQuery.Deferred(),n=this;return e.type===this._oFilterConstants.FILTER_TYPE.feedUpdates?t?(this._setBusinessObjectValues(t),this._resetBusinessObjectData(),i=this.getExternalBOMapping().then(function(){return n._getExternalObjectJamOnlyFeedEntries()})):i=this._getExternalObjectFeedEntries():e.type===this._oFilterConstants.FILTER_TYPE.systemUpdates||e.type===this._oFilterConstants.FILTER_TYPE.custom?i=this._getTimelineEntries(e):(this._oLogger.error(\"The filter type is invalid.\"),i.resolve([])),i.promise()},getExternalBOMapping:function(){var e={appContext:this._oBusinessObjectMap.applicationContext,collection:this._oBusinessObjectMap.collection,name:this._sBusinessObjectName,key:this._sBusinessObjectKey,odataServicePath:this._oBusinessObjectMap.servicePath};return this._oSMIntegrationDataHandler.mapInternalBOToExternalBO(e).then(function(e){this._oExternalBOMapping=e,this._oExternalBOMapping.Name=this._sBusinessObjectName}.bind(this)).promise()},_setBusinessObjectValues:function(e){this._sBusinessObjectKey=e.key,this._sBusinessObjectName=e.name},_resetBusinessObjectData:function(){this.reset(),this._oTimelineEntriesReadRequest&&this._oTimelineEntriesReadRequest.abort(),this._oFeedEntriesReadRequest&&this._oFeedEntriesReadRequest.abort()},_getExternalObjectFeedEntries:function(){var e=this;return this._oJamDataHandler.getExternalObject(this._oExternalBOMapping).then(function(t){if(e._oExternalBO=t,void 0==e._sFeedEntriesNextLink){var i=jQuery.Deferred();return i.resolve({results:[]},null),{request:null,promise:i}}return\"\"==e._sFeedEntriesNextLink?e._oJamDataHandler.getFeedEntries(t.Id):e._oJamDataHandler.getFeedEntries(null,e._sFeedEntriesNextLink)}).then(function(t){return e._oFeedEntriesReadRequest=t.request,t.promise}).then(function(t){return e._sFeedEntriesNextLink=t.__next,t.results}).then(function(t){return e._mapFeedEntriesToTimelineItems(t)}).promise()},_getExternalObjectJamOnlyFeedEntries:function(){return function(){var e=jQuery.Deferred();if(void 0===this._sFeedEntriesNextLink){var t=jQuery.Deferred();t.resolve({results:[]},null),e={request:null,promise:t}}else e=\"\"===this._sFeedEntriesNextLink?this._oJamDataHandler.getExternalObjectByExidAndObjectType(this._oExternalBOMapping):this._oJamDataHandler.getExternalObjectByExidAndObjectType(null,this._sFeedEntriesNextLink);return e.promise}.bind(this)().then(function(e){this._oExternalBO=e.results;var t=e.results.FeedEntries;return this._sFeedEntriesNextLink=t.__next,this._mapFeedEntriesToTimelineItems(t.results)}.bind(this)).promise()},_getTimelineEntries:function(e){var t=this,i=e.type;i=i!==this._oFilterConstants.FILTER_TYPE.custom?void 0:e.value;var n=this._oServiceDataHandler.readTimelineEntries(this._oBusinessObjectMap.collection,this._sBusinessObjectKey,i,this._iTimelineEntriesSkip,this._iTimelineEntriesPageSize);return this._oTimelineEntriesReadRequest=n.request,n.promise.then(function(e){var i=e.results;return t._iTimelineEntriesPageSize=i.length,t._iTimelineEntriesSkip+=t._iTimelineEntriesPageSize,t._mapTimelineEntriesToTimelineItems(i)}).then(function(e){return!0===t._bSocialFeaturesEnabled?t._fillPicturesForTimelineItems(e):e}).promise()},_fillPicturesForTimelineItems:function(e){var t=this,i=jQuery.Deferred(),n=[];e.forEach(function(e){e.timelineItemData.userPicture||n.push(e.timelineItemData.userEmail)});var r=n.filter(function(e,t){return n.indexOf(e)==t});if(r.length>0){var s=this._oJamDataHandler.getUserInfoBatch(r);s.promise.done(function(n){jQuery.grep(n,function(e){return e.results.length>0}).forEach(function(e){t.addUserInfoToBuffer(e.results[0])}),e.forEach(function(e){e.timelineItemData.userPicture||(e.timelineItemData.userPicture=t.getUserPicture(e.timelineItemData.userEmail))}),i.resolve(e)}),s.promise.fail(function(t){i.resolve(e)})}else i.resolve(e);return i.promise()},_getAtMentions:function(e){var t={},i=this._oJamDataHandler.getAtMentions(e.Id);return i.promise.done(function(e,i){for(var n=e.results,r=0;r<n.length;r++)n[r]&&(t[r]=n[r])}),i.promise.fail(function(){this._oLogger.error(\"Failed to get the @mentions.\")}),t},_mapFeedEntriesToTimelineItems:function(e){var t=this,i=[];return e.forEach(function(e){var n={};n.timelineItemData=t._mapFeedEntryToTimelineItem(e),n._feedEntryData=e,e.ConsolidatedCount>1&&(n._feedEntryData._consolidatedUrl=\"<collaboration_host_url>\"+e.Id),i.push(n)}),i},_mapFeedEntryToTimelineItem:function(e){this.getUserInfoFromBuffer(e.Creator.Email)||this.addUserInfoToBuffer(e.Creator);var t={feedId:e.Id,dateTime:e.CreatedAt,userName:e.Creator.FullName,userEmail:e.Creator.Email,title:e.Action,text:e.Text,textWithPlaceholders:e.TextWithPlaceholders,replyCount:e.RepliesCount,icon:\"sap-icon://post\"};return t.userPicture=this.getUserPicture(t.userEmail),t},_mapTimelineEntriesToTimelineItems:function(e){var t=this,i=[];return e.forEach(function(e){var n={};n.timelineItemData=t._mapTimelineEntryToTimelineItem(e);var r=void 0;if(t._fCustomActionCallBack&&(r=t._fCustomActionCallBack(e))){var s=!0;if(jQuery.isArray(r))for(var a=0;a<r.length;a++){if(\"object\"!=typeof r[a]){t._oLogger.error(\"The function 'customActionCallback' returned the item \"+JSON.stringify(r[a])+\" of type \"+typeof r[a]+\", expected type is object. Custom actions have been removed.\"),s=!1;break}if(!r[a].key||!r[a].value){t._oLogger.error(\"The function 'customActionCallback' returned the item \"+JSON.stringify(r[a])+\" with the property 'key' or 'value' as undefined. Custom actions have been removed.\"),s=!1;break}if(\"string\"!=typeof r[a].value){t._oLogger.error(\"The function 'customActionCallback' returned the item \"+JSON.stringify(r[a])+\" with the property 'value' as type \"+typeof r[a].value+\", expected type is string. Custom actions have been removed.\"),s=!1;break}}else t._oLogger.error(\"The type defined for the return statement of the function 'customActionCallback' is \"+typeof r+\", expected type is array. Custom actions have been removed.\"),s=!1;s&&(r.oDataEntry=e,n.timelineItemData.customActionData=r)}i.push(n)}),i},_mapTimelineEntryToTimelineItem:function(e){var t=this._oTimelineTermsUtility.getTimelineEntryFields(this._oBusinessObjectMap.collection),i={dateTime:e[t.TimeStamp],userName:e[t.ActorName],userEmail:e[t.ActorExtID].toLowerCase(),title:e[t.ActionText],text:e[t.SummaryText],icon:e[t.Icon],timelineEntryDetails:this._processTimelineEntryDetails(e[t.TimelineDetailNavigationPath].results,this._oBusinessObjectMap.collection)};return i.userPicture=this.getUserPicture(i.userEmail),i},_processTimelineEntryDetails:function(e,t){var i=[],n=this._oTimelineTermsUtility.getTimelineEntryDetailFields(t);return e.forEach(function(e){var t={};t.afterValue=e[n.AfterValue],t.beforeValue=e[n.BeforeValue],t.changeType=e[n.ChangeType],t.propertyLabel=e[n.PropertyLabel],i.push(t)}),i},getUserPicture:function(e){var t=this.getUserInfoFromBuffer(e);return t?t.picture:\"\"},buildImageUrl:function(e){return this._oJamDataHandler._oCollabModel.sServiceUrl+\"/\"+e.__metadata.uri+\"/ThumbnailImage/$value\"},addUserInfoToBuffer:function(e){var t=this.buildImageUrl(e),i=e.Email.toLowerCase();this._oMemberDataBuffer[i]={email:i,fullname:e.FullName,id:e.Id,address:e.MemberProfile.Address,title:e.Title,role:e.Role,picture:t}},getUserInfoFromBuffer:function(e){var t=e.toLowerCase();return this._oMemberDataBuffer[t]},getCurrentExternalBO:function(){return this._oExternalBO}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/datahandlers/TimelineDataHandler.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP AG. All rights reserved\n */\njQuery.sap.declare(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\",{constructor:function(e,t,i,n,r,s,a,o){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.datahandlers.TimelineDataHandler\"),this._oFilterConstants=new sap.collaboration.components.socialtimeline.filter.FilterType,this._oBusinessObjectMap=e,this._oJamDataHandler=t,this._oServiceDataHandler=n,this._oTimelineTermsUtility=r,this._oSMIntegrationDataHandler=i,this._bSocialFeaturesEnabled=a,this._bBackendFeaturesEnabled=o,this._iPageSize=s,this._iPageSize=s,this._iTimelineEntriesPageSize=s,this._iTimelineEntriesSkip=0,this._iFeedEntriesPageSize=2*s,this._sBusinessObjectKey=\"\",this._sFeedEntriesNextLink=\"\",this._fCustomActionCallBack=e.customActionCallback,this._aTimelineEntries=[],this._aFeedEntries=[],this._oExternalBO={},this._oMemberDataBuffer={},this._oExternalBOMapping={}},setBusinessObject:function(e){this._setBusinessObjectValues(e),this._resetBusinessObjectData(),this.getExternalBOMapping()},reset:function(){this._iTimelineEntriesSkip=0,this._iTimelineEntriesPageSize=this._iPageSize,this._sFeedEntriesNextLink=\"\",this._aTimelineEntries=[],this._aFeedEntries=[]},getTimelineData:function(e,t){var i=jQuery.Deferred(),n=this;return e.type===this._oFilterConstants.FILTER_TYPE.feedUpdates?t?(this._setBusinessObjectValues(t),this._resetBusinessObjectData(),i=this.getExternalBOMapping().then(function(){return n._getExternalObjectJamOnlyFeedEntries()})):i=this._getExternalObjectFeedEntries():e.type===this._oFilterConstants.FILTER_TYPE.systemUpdates||e.type===this._oFilterConstants.FILTER_TYPE.custom?i=this._getTimelineEntries(e):(this._oLogger.error(\"The filter type is invalid.\"),i.resolve([])),i.promise()},getExternalBOMapping:function(){var e={appContext:this._oBusinessObjectMap.applicationContext,collection:this._oBusinessObjectMap.collection,name:this._sBusinessObjectName,key:this._sBusinessObjectKey,odataServicePath:this._oBusinessObjectMap.servicePath};return this._oSMIntegrationDataHandler.mapInternalBOToExternalBO(e).then(function(e){this._oExternalBOMapping=e,this._oExternalBOMapping.Name=this._sBusinessObjectName}.bind(this)).promise()},_setBusinessObjectValues:function(e){this._sBusinessObjectKey=e.key,this._sBusinessObjectName=e.name},_resetBusinessObjectData:function(){this.reset(),this._oTimelineEntriesReadRequest&&this._oTimelineEntriesReadRequest.abort(),this._oFeedEntriesReadRequest&&this._oFeedEntriesReadRequest.abort()},_getExternalObjectFeedEntries:function(){var e=this;return this._oJamDataHandler.getExternalObject(this._oExternalBOMapping).then(function(t){if(e._oExternalBO=t,void 0==e._sFeedEntriesNextLink){var i=jQuery.Deferred();return i.resolve({results:[]},null),{request:null,promise:i}}return\"\"==e._sFeedEntriesNextLink?e._oJamDataHandler.getFeedEntries(t.Id):e._oJamDataHandler.getFeedEntries(null,e._sFeedEntriesNextLink)}).then(function(t){return e._oFeedEntriesReadRequest=t.request,t.promise}).then(function(t){return e._sFeedEntriesNextLink=t.__next,t.results}).then(function(t){return e._mapFeedEntriesToTimelineItems(t)}).promise()},_getExternalObjectJamOnlyFeedEntries:function(){return function(){var e=jQuery.Deferred();if(void 0===this._sFeedEntriesNextLink){var t=jQuery.Deferred();t.resolve({results:[]},null),e={request:null,promise:t}}else e=\"\"===this._sFeedEntriesNextLink?this._oJamDataHandler.getExternalObjectByExidAndObjectType(this._oExternalBOMapping):this._oJamDataHandler.getExternalObjectByExidAndObjectType(null,this._sFeedEntriesNextLink);return e.promise}.bind(this)().then(function(e){this._oExternalBO=e.results;var t=e.results.FeedEntries;return this._sFeedEntriesNextLink=t.__next,this._mapFeedEntriesToTimelineItems(t.results)}.bind(this)).promise()},_getTimelineEntries:function(e){var t=this,i=e.type;i=i!==this._oFilterConstants.FILTER_TYPE.custom?void 0:e.value;var n=this._oServiceDataHandler.readTimelineEntries(this._oBusinessObjectMap.collection,this._sBusinessObjectKey,i,this._iTimelineEntriesSkip,this._iTimelineEntriesPageSize);return this._oTimelineEntriesReadRequest=n.request,n.promise.then(function(e){var i=e.results;return t._iTimelineEntriesPageSize=i.length,t._iTimelineEntriesSkip+=t._iTimelineEntriesPageSize,t._mapTimelineEntriesToTimelineItems(i)}).then(function(e){return!0===t._bSocialFeaturesEnabled?t._fillPicturesForTimelineItems(e):e}).promise()},_fillPicturesForTimelineItems:function(e){var t=this,i=jQuery.Deferred(),n=[];e.forEach(function(e){e.timelineItemData.userPicture||n.push(e.timelineItemData.userEmail)});var r=n.filter(function(e,t){return n.indexOf(e)==t});if(r.length>0){var s=this._oJamDataHandler.getUserInfoBatch(r);s.promise.done(function(n){jQuery.grep(n,function(e){return e.results.length>0}).forEach(function(e){t.addUserInfoToBuffer(e.results[0])}),e.forEach(function(e){e.timelineItemData.userPicture||(e.timelineItemData.userPicture=t.getUserPicture(e.timelineItemData.userEmail))}),i.resolve(e)}),s.promise.fail(function(t){i.resolve(e)})}else i.resolve(e);return i.promise()},_getAtMentions:function(e){var t={},i=this._oJamDataHandler.getAtMentions(e.Id);return i.promise.done(function(e,i){for(var n=e.results,r=0;r<n.length;r++)n[r]&&(t[r]=n[r])}),i.promise.fail(function(){this._oLogger.error(\"Failed to get the @mentions.\")}),t},_mapFeedEntriesToTimelineItems:function(e){var t=this,i=[];return e.forEach(function(e){var n={};n.timelineItemData=t._mapFeedEntryToTimelineItem(e),n._feedEntryData=e,e.ConsolidatedCount>1&&(n._feedEntryData._consolidatedUrl=\"<collaboration_host_url>\"+e.Id),i.push(n)}),i},_mapFeedEntryToTimelineItem:function(e){this.getUserInfoFromBuffer(e.Creator.Email)||this.addUserInfoToBuffer(e.Creator);var t={feedId:e.Id,dateTime:e.CreatedAt,userName:e.Creator.FullName,userEmail:e.Creator.Email,title:e.Action,text:e.Text,textWithPlaceholders:e.TextWithPlaceholders,replyCount:e.RepliesCount,icon:\"sap-icon://post\"};return t.userPicture=this.getUserPicture(t.userEmail),t},_mapTimelineEntriesToTimelineItems:function(e){var t=this,i=[];return e.forEach(function(e){var n={};n.timelineItemData=t._mapTimelineEntryToTimelineItem(e);var r=void 0;if(t._fCustomActionCallBack&&(r=t._fCustomActionCallBack(e))){var s=!0;if(jQuery.isArray(r))for(var a=0;a<r.length;a++){if(\"object\"!=typeof r[a]){t._oLogger.error(\"The function 'customActionCallback' returned the item \"+JSON.stringify(r[a])+\" of type \"+typeof r[a]+\", expected type is object. Custom actions have been removed.\"),s=!1;break}if(!r[a].key||!r[a].value){t._oLogger.error(\"The function 'customActionCallback' returned the item \"+JSON.stringify(r[a])+\" with the property 'key' or 'value' as undefined. Custom actions have been removed.\"),s=!1;break}if(\"string\"!=typeof r[a].value){t._oLogger.error(\"The function 'customActionCallback' returned the item \"+JSON.stringify(r[a])+\" with the property 'value' as type \"+typeof r[a].value+\", expected type is string. Custom actions have been removed.\"),s=!1;break}}else t._oLogger.error(\"The type defined for the return statement of the function 'customActionCallback' is \"+typeof r+\", expected type is array. Custom actions have been removed.\"),s=!1;s&&(r.oDataEntry=e,n.timelineItemData.customActionData=r)}i.push(n)}),i},_mapTimelineEntryToTimelineItem:function(e){var t=this._oTimelineTermsUtility.getTimelineEntryFields(this._oBusinessObjectMap.collection),i={dateTime:e[t.TimeStamp],userName:e[t.ActorName],userEmail:e[t.ActorExtID].toLowerCase(),title:e[t.ActionText],text:e[t.SummaryText],icon:e[t.Icon],timelineEntryDetails:this._processTimelineEntryDetails(e[t.TimelineDetailNavigationPath].results,this._oBusinessObjectMap.collection)};return i.userPicture=this.getUserPicture(i.userEmail),i},_processTimelineEntryDetails:function(e,t){var i=[],n=this._oTimelineTermsUtility.getTimelineEntryDetailFields(t);return e.forEach(function(e){var t={};t.afterValue=e[n.AfterValue],t.beforeValue=e[n.BeforeValue],t.changeType=e[n.ChangeType],t.propertyLabel=e[n.PropertyLabel],i.push(t)}),i},getUserPicture:function(e){var t=this.getUserInfoFromBuffer(e);return t?t.picture:\"\"},buildImageUrl:function(e){return this._oJamDataHandler._oCollabModel.sServiceUrl+\"/\"+e.__metadata.uri+\"/ThumbnailImage/$value\"},addUserInfoToBuffer:function(e){var t=this.buildImageUrl(e),i=e.Email.toLowerCase();this._oMemberDataBuffer[i]={email:i,fullname:e.FullName,id:e.Id,address:e.MemberProfile.Address,title:e.Title,role:e.Role,picture:t}},getUserInfoFromBuffer:function(e){var t=e.toLowerCase();return this._oMemberDataBuffer[t]},getCurrentExternalBO:function(){return this._oExternalBO}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/filter/FilterType-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2015 SAP AG. All rights reserved\n */\nsap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.filter.FilterType\",{constructor:function(){Object.freeze&&Object.freeze(this)},FILTER_TYPE:{feedUpdates:\"FeedUpdates\",systemUpdates:\"SystemUpdates\",custom:\"Custom\"}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/filter/FilterType.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2015 SAP AG. All rights reserved\n */\nsap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.filter.FilterType\",{constructor:function(){Object.freeze&&Object.freeze(this)},FILTER_TYPE:{feedUpdates:\"FeedUpdates\",systemUpdates:\"SystemUpdates\",custom:\"Custom\"}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/validation/InputValidator-dbg.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2015 SAP AG. All rights reserved\n */\njQuery.sap.require(\"sap.collaboration.library\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.validation.InputValidator\",{constructor:function(e){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.validation.InputValidator\"),this._bCustomFilterValid=!0,this._bSocialFeaturesEnabled=!0,this._bBackendFeaturesEnabled=!0,this._oSocialTimeline=e},areCustomFiltersValid:function(){return this._bCustomFilterValid},areSocialFeaturesEnabled:function(){return this._bSocialFeaturesEnabled},areBackendFeaturesEnabled:function(){return this._bBackendFeaturesEnabled},isBusinessObjectMapValid:function(e){var t=!0;return\"object\"!=typeof e?(this._oLogger.error(\"The argument passed to the function 'setBusinessObjectMap' is of type \"+typeof e+\", expected type is object.\"),t=!1):e.collection&&e.applicationContext&&e.servicePath?\"string\"!=typeof e.collection||\"string\"!=typeof e.applicationContext||\"string\"!=typeof e.servicePath?(this._oLogger.error(\"The property 'collection', 'applicationContext', or 'servicePath' in the object passed to the method setBusinessObjectMap is not a string.\"),t=!1):e.customActionCallback&&\"function\"!=typeof e.customActionCallback&&(this._oLogger.error(\"The type defined for the property 'customActionCallback' is \"+typeof e.customActionCallback+\", expected type is function.\"),t=!1):(this._oLogger.error(\"The object passed to the method setBusinessObjectMap has property 'collection', 'applicationContext', or 'servicePath' as undefined.\"),t=!1),t},isBusinessObjectValid:function(e){var t=!0;return e.key?\"string\"!=typeof e.key&&(this._oLogger.error(\"The key in the object passed to the function 'setBusinessObject' is not of type string.\"),t=!1):(this._oLogger.error(\"The key in the object passed to the function 'setBusinessObject' is undefined.\"),t=!1),e.name?\"string\"!=typeof e.name&&(this._oLogger.error(\"The name in the object passed to the function 'setBusinessObject' is not of type string.\"),t=!1):(this._oLogger.error(\"The name in the object passed to the function 'setBusinessObject' is undefined.\"),t=!1),t},createTermsUtilityForBackend:function(e){var t;try{t=new sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility(e.getServiceMetadata(),e.getServiceAnnotations()),this._bBackendFeaturesEnabled=!0}catch(e){t=void 0,this._bBackendFeaturesEnabled=!1,this._oLogger.error(\"The Business Object Service is not configured properly.\"),this._oSocialTimeline._oCommonUtil.displayError()}return t},validateEnableSocial:function(){return!0===this._oSocialTimeline.getEnableSocial()?this._bSocialFeaturesEnabled=this._checkJamConfiguration():this._bSocialFeaturesEnabled=!1},validateCustomFilter:function(){var e=this._oSocialTimeline.getCustomFilter();if(this._bCustomFilterValid=!0,!jQuery.isEmptyObject(e))if(jQuery.isArray(e))for(var t=0;t<e.length;t++)e[t].value&&e[t].text&&\"string\"==typeof e[t].value&&\"string\"==typeof e[t].text||(this._oLogger.error(\"The type defined for the property 'text' or 'value' for the filter \"+JSON.stringify(e[t])+\" is undefined or not of type 'string'.\"),this._bCustomFilterValid=!1);else this._oLogger.error(\"The type defined for the property 'customFilter' is \"+typeof e+\", expected type is array.\"),this._bCustomFilterValid=!1;return this._bCustomFilterValid},_checkJamConfiguration:function(){var e=!0,t=this;return this._oSocialTimeline._oSMIntegrationDataHandler.getJamConfigurationStatus(function(t){!1===t&&(e=!1)},function(e){t._oSocialTimeline._oCommonUtil.displayError()}),e}});",
	"web/ui5/resources/sap/collaboration/components/socialtimeline/validation/InputValidator.js": "/*!\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2015 SAP AG. All rights reserved\n */\njQuery.sap.require(\"sap.collaboration.library\"),sap.ui.base.Object.extend(\"sap.collaboration.components.socialtimeline.validation.InputValidator\",{constructor:function(e){this._oLogger=jQuery.sap.log.getLogger(\"sap.collaboration.components.socialtimeline.validation.InputValidator\"),this._bCustomFilterValid=!0,this._bSocialFeaturesEnabled=!0,this._bBackendFeaturesEnabled=!0,this._oSocialTimeline=e},areCustomFiltersValid:function(){return this._bCustomFilterValid},areSocialFeaturesEnabled:function(){return this._bSocialFeaturesEnabled},areBackendFeaturesEnabled:function(){return this._bBackendFeaturesEnabled},isBusinessObjectMapValid:function(e){var t=!0;return\"object\"!=typeof e?(this._oLogger.error(\"The argument passed to the function 'setBusinessObjectMap' is of type \"+typeof e+\", expected type is object.\"),t=!1):e.collection&&e.applicationContext&&e.servicePath?\"string\"!=typeof e.collection||\"string\"!=typeof e.applicationContext||\"string\"!=typeof e.servicePath?(this._oLogger.error(\"The property 'collection', 'applicationContext', or 'servicePath' in the object passed to the method setBusinessObjectMap is not a string.\"),t=!1):e.customActionCallback&&\"function\"!=typeof e.customActionCallback&&(this._oLogger.error(\"The type defined for the property 'customActionCallback' is \"+typeof e.customActionCallback+\", expected type is function.\"),t=!1):(this._oLogger.error(\"The object passed to the method setBusinessObjectMap has property 'collection', 'applicationContext', or 'servicePath' as undefined.\"),t=!1),t},isBusinessObjectValid:function(e){var t=!0;return e.key?\"string\"!=typeof e.key&&(this._oLogger.error(\"The key in the object passed to the function 'setBusinessObject' is not of type string.\"),t=!1):(this._oLogger.error(\"The key in the object passed to the function 'setBusinessObject' is undefined.\"),t=!1),e.name?\"string\"!=typeof e.name&&(this._oLogger.error(\"The name in the object passed to the function 'setBusinessObject' is not of type string.\"),t=!1):(this._oLogger.error(\"The name in the object passed to the function 'setBusinessObject' is undefined.\"),t=!1),t},createTermsUtilityForBackend:function(e){var t;try{t=new sap.collaboration.components.socialtimeline.annotations.TimelineTermsUtility(e.getServiceMetadata(),e.getServiceAnnotations()),this._bBackendFeaturesEnabled=!0}catch(e){t=void 0,this._bBackendFeaturesEnabled=!1,this._oLogger.error(\"The Business Object Service is not configured properly.\"),this._oSocialTimeline._oCommonUtil.displayError()}return t},validateEnableSocial:function(){return!0===this._oSocialTimeline.getEnableSocial()?this._bSocialFeaturesEnabled=this._checkJamConfiguration():this._bSocialFeaturesEnabled=!1},validateCustomFilter:function(){var e=this._oSocialTimeline.getCustomFilter();if(this._bCustomFilterValid=!0,!jQuery.isEmptyObject(e))if(jQuery.isArray(e))for(var t=0;t<e.length;t++)e[t].value&&e[t].text&&\"string\"==typeof e[t].value&&\"string\"==typeof e[t].text||(this._oLogger.error(\"The type defined for the property 'text' or 'value' for the filter \"+JSON.stringify(e[t])+\" is undefined or not of type 'string'.\"),this._bCustomFilterValid=!1);else this._oLogger.error(\"The type defined for the property 'customFilter' is \"+typeof e+\", expected type is array.\"),this._bCustomFilterValid=!1;return this._bCustomFilterValid},_checkJamConfiguration:function(){var e=!0,t=this;return this._oSocialTimeline._oSMIntegrationDataHandler.getJamConfigurationStatus(function(t){!1===t&&(e=!1)},function(e){t._oSocialTimeline._oCommonUtil.displayError()}),e}});"
}, "web/ui5/resources/sap/collaboration/components/socialtimeline/Component-preload");