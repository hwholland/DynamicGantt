sap.ui.require.preload({
	"web/ui5/resources/sap/collaboration/components/feed/BOMode-dbg.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./Mode\",\"sap/m/CustomListItem\",\"sap/m/Label\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/collaboration/components/utils/PendingRequestsUtil\"],function(e,t,o,i,n,s){var r=e.extend(\"sap.collaboration.components.feed.BOMode\",{constructor:function(t){e.apply(this,[t]),this._sJamBOId=void 0,this._oPendingRequestsUtil=new s,this._oSMIModel=this._oFeedController.getModel(\"smi\"),this._oLanguageBundle=this._oFeedController.getLanguageBundle(),this._oList.setModel(this._oJamModel),this.FILTER_CONSTANTS={GROUP_WALL:\"Group Wall\",GROUP_OBJECT_WALL:\"Group Object Wall\"},t.byId(\"filter_popover\").attachSelectionChange(this.onFilterSelection,this)}});return r._sSMIv2ServiceUrl=\"/sap/opu/odata/sap/SM_INTEGRATION_V2_SRV\",r.prototype.start=function(e){if(!(this._oCommonUtil.isObject(e)&&this._oCommonUtil.isString(e.appContext)&&this._oCommonUtil.isString(e.odataServicePath)&&this._oCommonUtil.isString(e.collection)&&this._oCommonUtil.isString(e.key)&&this._oCommonUtil.isString(e.name))){var t=\"The feedSources' data object is invalid.\";throw this._oFeedController.logError(t),new Error(t)}this._sendRequestMapInternalBOToExternalBO(e.appContext,e.collection,e.key,e.odataServicePath).then(function(e,t){return this._sendRequestExternalObjects_FindByExidAndObjectType(e.MapInternalBOToExternalBO.Exid,e.MapInternalBOToExternalBO.ObjectType)}.bind(this),function(e){return this._oFeedController.logError(\"The internal to external mapping for the business object could not be performed.\"),this._oFeedController.displayErrorMessage(this._oLanguageBundle.getText(\"SMIV2_INTERNAL_TO_EXTERNAL_BO_MAPPING_COULD_NOT_BE_PERFORMED\")),null}.bind(this)).then(function(e,t){this._sJamBOId=this._oCommonUtil.getODataResult(e).Id,this._oList.attachUpdateFinished(this.onGroupSelectorUpdateFinished,this),this._oList.bindItems({path:\"/ExternalObjects('\"+this._oCommonUtil.getODataResult(e).Id+\"')/Groups\",template:this._oListItemTemplate})}.bind(this),function(e){null!==e&&(this._oFeedController.logError(\"An external object associated with the given Exid and ObjectType could not be found.\"),this._oFeedController.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_EXTERNAL_OBJECT_COULD_NOT_BE_FOUND\")))}.bind(this)),this._oFeedController.enableGroupFeed(),this._oViewDataModel.setProperty(\"/filterEnabled\",!0),this._setFilterOptions(e.name),this._oList.attachUpdateFinished(this.onUpdateFinished,this)},r.prototype.stop=function(){this._oPendingRequestsUtil.abortAll(),this._oViewDataModel.setProperty(\"/filterEnabled\",!1),this._oList.detachUpdateFinished(this.onUpdateFinished,this)},r.prototype._sendFunctionImportODataRequest=function(e,t,o){var i=jQuery.Deferred(),n=e.callFunction(t,{urlParameters:o,success:function(e,t){i.resolve(e,t)},error:function(e){i.reject(e)}}),s=i.promise(n);return this._oPendingRequestsUtil.add(s),i.always(function(){this._oPendingRequestsUtil.remove(s)}.bind(this)),s},r.prototype._sendRequestMapInternalBOToExternalBO=function(e,t,o,i){return this._sendFunctionImportODataRequest(this._oSMIModel,\"/MapInternalBOToExternalBO\",{ApplicationContext:e,ODataCollection:t,ODataKeyPredicate:o,ODataServicePath:i})},r.prototype._sendRequestExternalObjects_FindByExidAndObjectType=function(e,t){return this._sendFunctionImportODataRequest(this._oJamModel,\"/ExternalObjects_FindByExidAndObjectType\",{Exid:e,ObjectType:t})},r.prototype._setFilterOptions=function(e){var t;t=e?this._oLanguageBundle.getText(\"GF_FILTER_OBJECT\",e):this._oLanguageBundle.getText(\"GF_FILTER_OBJECT_DEFAULT\");var o=[{Name:this._oLanguageBundle.getText(\"GF_FILTER_GROUP\"),key:this.FILTER_CONSTANTS.GROUP_WALL},{Name:t,key:this.FILTER_CONSTANTS.GROUP_OBJECT_WALL}];this._oViewDataModel.setProperty(\"/filter\",o);var i=this._oFeedController.byId(\"filter_popover\");i.setSelectedItem(i.getItems()[0])},r.prototype.getAddPostPath=function(){return\"/GroupExternalObjects(GroupId='\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"',ExternalObjectId='\"+this._sJamBOId+\"')/FeedEntries\"},r.prototype.displayFeedSourceSelectorPopover=function(e){this._oList.setBusy(!0),this._oJamModel.refresh(!0),this._oGroupSelectPopover.openBy(e)},r.prototype.onGroupSelected=function(e){var t=e.getSource().getSelectedItem().getBindingContext().getObject();this._oViewDataModel.setProperty(\"/groupSelected\",{Id:t.Id,Name:t.Name,WebURL:t.WebURL}),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+t.Id+\"')/FeedEntries\"),this._oViewDataModel.setProperty(\"/filterMessage\",\"\");var o=this._oFeedController.byId(\"filter_popover\");o.setSelectedItem(o.getItems()[0]),this._oGroupSelectPopover.close()},r.prototype.onBatchCompleted=function(e){},r.prototype.onGroupSelectorUpdateFinished=function(){var e,t,o=this._oList.getItems();o.length>0&&(e=o[0],this._oList.setSelectedItem(e),t=e.getBindingContext().getObject(),this._oViewDataModel.setProperty(\"/groupSelected\",t),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+t.Id+\"')/FeedEntries\")),this._oList.detachUpdateFinished(this.onGroupSelectorUpdateFinished,this)},r.prototype.onUpdateFinished=function(){this._oList.setBusy(!1)},r.prototype.onFilterSelection=function(e){var t=e.getParameter(\"listItem\").getBindingContext().getObject(),o=this._oViewDataModel.getProperty(\"/groupSelected/Id\");switch(t.key){case this.FILTER_CONSTANTS.GROUP_WALL:this._oViewDataModel.setProperty(\"/filterMessage\",\"\"),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+o+\"')/FeedEntries\");break;case this.FILTER_CONSTANTS.GROUP_OBJECT_WALL:this._oViewDataModel.setProperty(\"/filterMessage\",this._oLanguageBundle.getText(\"ST_FILTER_TEXT\")+\" \"+t.Name),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/GroupExternalObjects(GroupId='\"+o+\"',ExternalObjectId='\"+this._sJamBOId+\"')/FeedEntries\")}},r.prototype.getFeedUpdatesLatestCount=function(){var e=this._oFeedController.byId(\"timeline\").getContent()[0],t=e?e.getModel().getProperty(\"/TopLevelId\"):\"\",o=this._oViewDataModel.getProperty(\"/groupSelected/Id\");if(\"\"===this._oViewDataModel.getProperty(\"/filterMessage\"))return this._sendRequestGroup_SinceLatestCount(t,o);var i=this._sJamBOId;return this._sendRequestGroupExternalObject_SinceLatestCount(t,o,i)},r.prototype._sendRequestGroup_SinceLatestCount=function(e,t){return this._sendFunctionImportODataRequest(this._oJamModel,\"/Group_FeedLatestCount\",{LatestTopLevelId:e,Id:t})},r.prototype._sendRequestGroupExternalObject_SinceLatestCount=function(e,t,o){return this._sendFunctionImportODataRequest(this._oJamModel,\"/GroupExternalObject_FeedLatestCount\",{LatestTopLevelId:e,GroupId:t,ExternalObjectId:o})},r.prototype._initializeModels=function(){e.prototype._initializeModels.apply(this);var t=new sap.ui.model.odata.ODataModel(r._sSMIv2ServiceUrl,!0);this._oFeedController.setSmiModel(t)},r.prototype.getSMIv2ServiceUrl=function(){return r._sSMIv2ServiceUrl},r},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/BOMode.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./Mode\",\"sap/m/CustomListItem\",\"sap/m/Label\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/collaboration/components/utils/PendingRequestsUtil\"],function(e,t,o,i,n,s){var r=e.extend(\"sap.collaboration.components.feed.BOMode\",{constructor:function(t){e.apply(this,[t]),this._sJamBOId=void 0,this._oPendingRequestsUtil=new s,this._oSMIModel=this._oFeedController.getModel(\"smi\"),this._oLanguageBundle=this._oFeedController.getLanguageBundle(),this._oList.setModel(this._oJamModel),this.FILTER_CONSTANTS={GROUP_WALL:\"Group Wall\",GROUP_OBJECT_WALL:\"Group Object Wall\"},t.byId(\"filter_popover\").attachSelectionChange(this.onFilterSelection,this)}});return r._sSMIv2ServiceUrl=\"/sap/opu/odata/sap/SM_INTEGRATION_V2_SRV\",r.prototype.start=function(e){if(!(this._oCommonUtil.isObject(e)&&this._oCommonUtil.isString(e.appContext)&&this._oCommonUtil.isString(e.odataServicePath)&&this._oCommonUtil.isString(e.collection)&&this._oCommonUtil.isString(e.key)&&this._oCommonUtil.isString(e.name))){var t=\"The feedSources' data object is invalid.\";throw this._oFeedController.logError(t),new Error(t)}this._sendRequestMapInternalBOToExternalBO(e.appContext,e.collection,e.key,e.odataServicePath).then(function(e,t){return this._sendRequestExternalObjects_FindByExidAndObjectType(e.MapInternalBOToExternalBO.Exid,e.MapInternalBOToExternalBO.ObjectType)}.bind(this),function(e){return this._oFeedController.logError(\"The internal to external mapping for the business object could not be performed.\"),this._oFeedController.displayErrorMessage(this._oLanguageBundle.getText(\"SMIV2_INTERNAL_TO_EXTERNAL_BO_MAPPING_COULD_NOT_BE_PERFORMED\")),null}.bind(this)).then(function(e,t){this._sJamBOId=this._oCommonUtil.getODataResult(e).Id,this._oList.attachUpdateFinished(this.onGroupSelectorUpdateFinished,this),this._oList.bindItems({path:\"/ExternalObjects('\"+this._oCommonUtil.getODataResult(e).Id+\"')/Groups\",template:this._oListItemTemplate})}.bind(this),function(e){null!==e&&(this._oFeedController.logError(\"An external object associated with the given Exid and ObjectType could not be found.\"),this._oFeedController.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_EXTERNAL_OBJECT_COULD_NOT_BE_FOUND\")))}.bind(this)),this._oFeedController.enableGroupFeed(),this._oViewDataModel.setProperty(\"/filterEnabled\",!0),this._setFilterOptions(e.name),this._oList.attachUpdateFinished(this.onUpdateFinished,this)},r.prototype.stop=function(){this._oPendingRequestsUtil.abortAll(),this._oViewDataModel.setProperty(\"/filterEnabled\",!1),this._oList.detachUpdateFinished(this.onUpdateFinished,this)},r.prototype._sendFunctionImportODataRequest=function(e,t,o){var i=jQuery.Deferred(),n=e.callFunction(t,{urlParameters:o,success:function(e,t){i.resolve(e,t)},error:function(e){i.reject(e)}}),s=i.promise(n);return this._oPendingRequestsUtil.add(s),i.always(function(){this._oPendingRequestsUtil.remove(s)}.bind(this)),s},r.prototype._sendRequestMapInternalBOToExternalBO=function(e,t,o,i){return this._sendFunctionImportODataRequest(this._oSMIModel,\"/MapInternalBOToExternalBO\",{ApplicationContext:e,ODataCollection:t,ODataKeyPredicate:o,ODataServicePath:i})},r.prototype._sendRequestExternalObjects_FindByExidAndObjectType=function(e,t){return this._sendFunctionImportODataRequest(this._oJamModel,\"/ExternalObjects_FindByExidAndObjectType\",{Exid:e,ObjectType:t})},r.prototype._setFilterOptions=function(e){var t;t=e?this._oLanguageBundle.getText(\"GF_FILTER_OBJECT\",e):this._oLanguageBundle.getText(\"GF_FILTER_OBJECT_DEFAULT\");var o=[{Name:this._oLanguageBundle.getText(\"GF_FILTER_GROUP\"),key:this.FILTER_CONSTANTS.GROUP_WALL},{Name:t,key:this.FILTER_CONSTANTS.GROUP_OBJECT_WALL}];this._oViewDataModel.setProperty(\"/filter\",o);var i=this._oFeedController.byId(\"filter_popover\");i.setSelectedItem(i.getItems()[0])},r.prototype.getAddPostPath=function(){return\"/GroupExternalObjects(GroupId='\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"',ExternalObjectId='\"+this._sJamBOId+\"')/FeedEntries\"},r.prototype.displayFeedSourceSelectorPopover=function(e){this._oList.setBusy(!0),this._oJamModel.refresh(!0),this._oGroupSelectPopover.openBy(e)},r.prototype.onGroupSelected=function(e){var t=e.getSource().getSelectedItem().getBindingContext().getObject();this._oViewDataModel.setProperty(\"/groupSelected\",{Id:t.Id,Name:t.Name,WebURL:t.WebURL}),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+t.Id+\"')/FeedEntries\"),this._oViewDataModel.setProperty(\"/filterMessage\",\"\");var o=this._oFeedController.byId(\"filter_popover\");o.setSelectedItem(o.getItems()[0]),this._oGroupSelectPopover.close()},r.prototype.onBatchCompleted=function(e){},r.prototype.onGroupSelectorUpdateFinished=function(){var e,t,o=this._oList.getItems();o.length>0&&(e=o[0],this._oList.setSelectedItem(e),t=e.getBindingContext().getObject(),this._oViewDataModel.setProperty(\"/groupSelected\",t),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+t.Id+\"')/FeedEntries\")),this._oList.detachUpdateFinished(this.onGroupSelectorUpdateFinished,this)},r.prototype.onUpdateFinished=function(){this._oList.setBusy(!1)},r.prototype.onFilterSelection=function(e){var t=e.getParameter(\"listItem\").getBindingContext().getObject(),o=this._oViewDataModel.getProperty(\"/groupSelected/Id\");switch(t.key){case this.FILTER_CONSTANTS.GROUP_WALL:this._oViewDataModel.setProperty(\"/filterMessage\",\"\"),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+o+\"')/FeedEntries\");break;case this.FILTER_CONSTANTS.GROUP_OBJECT_WALL:this._oViewDataModel.setProperty(\"/filterMessage\",this._oLanguageBundle.getText(\"ST_FILTER_TEXT\")+\" \"+t.Name),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/GroupExternalObjects(GroupId='\"+o+\"',ExternalObjectId='\"+this._sJamBOId+\"')/FeedEntries\")}},r.prototype.getFeedUpdatesLatestCount=function(){var e=this._oFeedController.byId(\"timeline\").getContent()[0],t=e?e.getModel().getProperty(\"/TopLevelId\"):\"\",o=this._oViewDataModel.getProperty(\"/groupSelected/Id\");if(\"\"===this._oViewDataModel.getProperty(\"/filterMessage\"))return this._sendRequestGroup_SinceLatestCount(t,o);var i=this._sJamBOId;return this._sendRequestGroupExternalObject_SinceLatestCount(t,o,i)},r.prototype._sendRequestGroup_SinceLatestCount=function(e,t){return this._sendFunctionImportODataRequest(this._oJamModel,\"/Group_FeedLatestCount\",{LatestTopLevelId:e,Id:t})},r.prototype._sendRequestGroupExternalObject_SinceLatestCount=function(e,t,o){return this._sendFunctionImportODataRequest(this._oJamModel,\"/GroupExternalObject_FeedLatestCount\",{LatestTopLevelId:e,GroupId:t,ExternalObjectId:o})},r.prototype._initializeModels=function(){e.prototype._initializeModels.apply(this);var t=new sap.ui.model.odata.ODataModel(r._sSMIv2ServiceUrl,!0);this._oFeedController.setSmiModel(t)},r.prototype.getSMIv2ServiceUrl=function(){return r._sSMIv2ServiceUrl},r},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/Component-dbg.js": "/* @copyright */\n!function(){var e=\"sap.collaboration.components.feed.Component\";jQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.require(\"sap.suite.ui.commons.library\"),jQuery.sap.declare(e),sap.ui.core.UIComponent.extend(e,{metadata:{stereotype:\"component\",version:\"1.0\",includes:[\"../resources/css/MorePopover.css\"],dependencies:{libs:[],components:[],ui5version:\"\"},library:\"sap.collaboration\",properties:{axisOrientation:{type:\"sap.suite.ui.commons.TimelineAxisOrientation\",group:\"Misc\",defaultValue:sap.suite.ui.commons.TimelineAxisOrientation.Vertical},feedSources:{type:\"object|string[]\"},enableScroll:{type:\"boolean\",defaultValue:!0}},rootView:null,publicMethods:[\"setSettings\",\"getSelectedGroup\"],aggregations:{},routing:{},config:{},customizing:{}},init:function(){this._logger=new jQuery.sap.log.getLogger(e),sap.ui.core.UIComponent.prototype.init.apply(this)},exit:function(){},onBeforeRendering:function(){},onAfterRendering:function(){},createContent:function(){return this._view=sap.ui.view({id:this.createId(\"group_feed_view\"),height:\"100%\",type:sap.ui.core.mvc.ViewType.XML,viewName:\"sap.collaboration.components.feed.views.GroupFeed\"}),this.setAxisOrientation(this.getAxisOrientation()),this._view},setSettings:function(e){for(var t in e)e.hasOwnProperty(t)&&this._setProperty(t,e[t])},getSelectedGroup:function(){return this._view.getModel().getProperty(\"/groupSelected\")},_setProperty:function(e,t){this._logger.info(e+\": \"+t),this._view.getModel().setProperty(\"/\"+e,t),this.setProperty(e,t)},setAxisOrientation:function(e){return this._setProperty(\"axisOrientation\",e),this},setFeedSources:function(e){this._setProperty(\"feedSources\",e)},setEnableScroll:function(e){return this._setProperty(\"enableScroll\",e),this}})}();",
	"web/ui5/resources/sap/collaboration/components/feed/Component.js": "/* @copyright */\n!function(){var e=\"sap.collaboration.components.feed.Component\";jQuery.sap.require(\"sap.ui.core.UIComponent\"),jQuery.sap.require(\"sap.suite.ui.commons.library\"),jQuery.sap.declare(e),sap.ui.core.UIComponent.extend(e,{metadata:{stereotype:\"component\",version:\"1.0\",includes:[\"../resources/css/MorePopover.css\"],dependencies:{libs:[],components:[],ui5version:\"\"},library:\"sap.collaboration\",properties:{axisOrientation:{type:\"sap.suite.ui.commons.TimelineAxisOrientation\",group:\"Misc\",defaultValue:sap.suite.ui.commons.TimelineAxisOrientation.Vertical},feedSources:{type:\"object|string[]\"},enableScroll:{type:\"boolean\",defaultValue:!0}},rootView:null,publicMethods:[\"setSettings\",\"getSelectedGroup\"],aggregations:{},routing:{},config:{},customizing:{}},init:function(){this._logger=new jQuery.sap.log.getLogger(e),sap.ui.core.UIComponent.prototype.init.apply(this)},exit:function(){},onBeforeRendering:function(){},onAfterRendering:function(){},createContent:function(){return this._view=sap.ui.view({id:this.createId(\"group_feed_view\"),height:\"100%\",type:sap.ui.core.mvc.ViewType.XML,viewName:\"sap.collaboration.components.feed.views.GroupFeed\"}),this.setAxisOrientation(this.getAxisOrientation()),this._view},setSettings:function(e){for(var t in e)e.hasOwnProperty(t)&&this._setProperty(t,e[t])},getSelectedGroup:function(){return this._view.getModel().getProperty(\"/groupSelected\")},_setProperty:function(e,t){this._logger.info(e+\": \"+t),this._view.getModel().setProperty(\"/\"+e,t),this.setProperty(e,t)},setAxisOrientation:function(e){return this._setProperty(\"axisOrientation\",e),this},setFeedSources:function(e){this._setProperty(\"feedSources\",e)},setEnableScroll:function(e){return this._setProperty(\"enableScroll\",e),this}})}();",
	"web/ui5/resources/sap/collaboration/components/feed/GroupIDsMode-dbg.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./Mode\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/collaboration/components/utils/PendingRequestsUtil\"],function(e,o,t,r){var i=e.extend(\"sap.collaboration.components.feed.GroupIDsMode\",{constructor:function(o){e.apply(this,[o]),this._oPendingRequestsUtil=new r,this._iOpenGroupRequests,this._aGroupsToLoad,this.oResult,this._oList.setModel(this._oViewDataModel)}});return i.prototype.start=function(e){if(!this._oCommonUtil.isArrayOfStrings(e)){var o=\"The feedSources' data object is invalid.\";throw this._oFeedController.logError(o),new Error(o)}0!==e.length?(e=e.filter(function(o,t){return e.indexOf(o)===t&&\"\"!==o.trim()}),this._oViewDataModel.setProperty(\"/groups\",[]),this._oViewDataModel.setProperty(\"/groupSelected/Id\",void 0),this._iOpenGroupRequests=0,this._aGroupsToLoad=jQuery.merge([],e),this._oList.bindItems({path:\"/groups\",template:this._oListItemTemplate}),this._oGroupSelectPopover.setBusyIndicatorDelay(0).setBusy(!0),this._fillGroupInfo()):this._oFeedController.disableGroupFeed()},i.prototype.onBatchCompleted=function(e){this._oJamModel.setUseBatch(!1),0===this._iOpenGroupRequests&&void 0!==this._oGroupSelectPopover&&this._oGroupSelectPopover.setBusy(!1)},i.prototype.stop=function(){this._oPendingRequestsUtil.abortAll()},i.prototype.getAddPostPath=function(){return\"/Groups('\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"')/FeedEntries\"},i.prototype.displayFeedSourceSelectorPopover=function(e){this._oGroupSelectPopover.openBy(e)},i.prototype.onGroupSelected=function(e){var o=e.getSource().getSelectedItem().getBindingContext().getObject();this._oViewDataModel.setProperty(\"/groupSelected\",o),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+o.Id+\"')/FeedEntries\"),this._oGroupSelectPopover.close()},i.prototype._fillGroupInfo=function(){var e=0,o=0,t=0;this._oJamModel.setUseBatch(!0);for(var r=\"$filter=Id eq '\",i=0,s=this._aGroupsToLoad.length;i<s;i++){if(r=i%20!=0?r.concat(\" or Id eq '\"+this._aGroupsToLoad[i].replace(/'/g,\"''\")+\"'\"):r.concat(this._aGroupsToLoad[i].replace(/'/g,\"''\")+\"'\"),20===++t||i+1===s){this._iOpenGroupRequests++;var n=void 0;this._loadGroups(r,e).done(function(e,o){if(n=this._oCommonUtil.getODataResult(e),!jQuery.isEmptyObject(n))if(void 0!=n.length)for(var t=this._aGroupsToLoad.indexOf(n[0].Id),r=0,i=n.length;r<i;r++)this._oViewDataModel.setProperty(\"/groups/\"+t,n[r]),t++;else this._oViewDataModel.setProperty(\"/groups/\"+this._aGroupsToLoad.indexOf(n.Id),n);if(this._iOpenGroupRequests--,0===this._iOpenGroupRequests)if(0===this._oViewDataModel.getProperty(\"/groups/\").length)this._oFeedController.disableGroupFeed(),jQuery.sap.log.warning(\"No group information was retrieved for the current user.\");else{this._oFeedController.enableGroupFeed();var s=this._oViewDataModel.getProperty(\"/groups/\");s=s.filter(function(e){return void 0!==e&&null!==e}),this._oViewDataModel.setProperty(\"/groups/\",s),this._oViewDataModel.setProperty(\"/groupSelected\",s[0]),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+s[0].Id+\"')/FeedEntries\")}}.bind(this)),o++,t=0,r=\"$filter=Id eq '\"}10==o&&(e++,o=0)}},i.prototype._loadGroups=function(e,o){if(this.isJamServiceAvailable()){var t=this,r=jQuery.Deferred(),i={urlParameters:e+\"&$select=Id,Name,WebURL\",success:function(e,o){r.resolveWith(t,[e,o])},error:function(e){r.rejectWith(t,[e]),t._oFeedController.logError(\"The group information was not retrieved.\")},batchGroupId:o},s=this._oJamModel.read(\"/Groups/\",i);this._oPendingRequestsUtil.add(s);var n=r.promise(s);return n.always(function(){this._oPendingRequestsUtil.remove(s)}),n}},i},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/GroupIDsMode.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./Mode\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/collaboration/components/utils/PendingRequestsUtil\"],function(e,o,t,r){var i=e.extend(\"sap.collaboration.components.feed.GroupIDsMode\",{constructor:function(o){e.apply(this,[o]),this._oPendingRequestsUtil=new r,this._iOpenGroupRequests,this._aGroupsToLoad,this.oResult,this._oList.setModel(this._oViewDataModel)}});return i.prototype.start=function(e){if(!this._oCommonUtil.isArrayOfStrings(e)){var o=\"The feedSources' data object is invalid.\";throw this._oFeedController.logError(o),new Error(o)}0!==e.length?(e=e.filter(function(o,t){return e.indexOf(o)===t&&\"\"!==o.trim()}),this._oViewDataModel.setProperty(\"/groups\",[]),this._oViewDataModel.setProperty(\"/groupSelected/Id\",void 0),this._iOpenGroupRequests=0,this._aGroupsToLoad=jQuery.merge([],e),this._oList.bindItems({path:\"/groups\",template:this._oListItemTemplate}),this._oGroupSelectPopover.setBusyIndicatorDelay(0).setBusy(!0),this._fillGroupInfo()):this._oFeedController.disableGroupFeed()},i.prototype.onBatchCompleted=function(e){this._oJamModel.setUseBatch(!1),0===this._iOpenGroupRequests&&void 0!==this._oGroupSelectPopover&&this._oGroupSelectPopover.setBusy(!1)},i.prototype.stop=function(){this._oPendingRequestsUtil.abortAll()},i.prototype.getAddPostPath=function(){return\"/Groups('\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"')/FeedEntries\"},i.prototype.displayFeedSourceSelectorPopover=function(e){this._oGroupSelectPopover.openBy(e)},i.prototype.onGroupSelected=function(e){var o=e.getSource().getSelectedItem().getBindingContext().getObject();this._oViewDataModel.setProperty(\"/groupSelected\",o),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+o.Id+\"')/FeedEntries\"),this._oGroupSelectPopover.close()},i.prototype._fillGroupInfo=function(){var e=0,o=0,t=0;this._oJamModel.setUseBatch(!0);for(var r=\"$filter=Id eq '\",i=0,s=this._aGroupsToLoad.length;i<s;i++){if(r=i%20!=0?r.concat(\" or Id eq '\"+this._aGroupsToLoad[i].replace(/'/g,\"''\")+\"'\"):r.concat(this._aGroupsToLoad[i].replace(/'/g,\"''\")+\"'\"),20===++t||i+1===s){this._iOpenGroupRequests++;var n=void 0;this._loadGroups(r,e).done(function(e,o){if(n=this._oCommonUtil.getODataResult(e),!jQuery.isEmptyObject(n))if(void 0!=n.length)for(var t=this._aGroupsToLoad.indexOf(n[0].Id),r=0,i=n.length;r<i;r++)this._oViewDataModel.setProperty(\"/groups/\"+t,n[r]),t++;else this._oViewDataModel.setProperty(\"/groups/\"+this._aGroupsToLoad.indexOf(n.Id),n);if(this._iOpenGroupRequests--,0===this._iOpenGroupRequests)if(0===this._oViewDataModel.getProperty(\"/groups/\").length)this._oFeedController.disableGroupFeed(),jQuery.sap.log.warning(\"No group information was retrieved for the current user.\");else{this._oFeedController.enableGroupFeed();var s=this._oViewDataModel.getProperty(\"/groups/\");s=s.filter(function(e){return void 0!==e&&null!==e}),this._oViewDataModel.setProperty(\"/groups/\",s),this._oViewDataModel.setProperty(\"/groupSelected\",s[0]),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+s[0].Id+\"')/FeedEntries\")}}.bind(this)),o++,t=0,r=\"$filter=Id eq '\"}10==o&&(e++,o=0)}},i.prototype._loadGroups=function(e,o){if(this.isJamServiceAvailable()){var t=this,r=jQuery.Deferred(),i={urlParameters:e+\"&$select=Id,Name,WebURL\",success:function(e,o){r.resolveWith(t,[e,o])},error:function(e){r.rejectWith(t,[e]),t._oFeedController.logError(\"The group information was not retrieved.\")},batchGroupId:o},s=this._oJamModel.read(\"/Groups/\",i);this._oPendingRequestsUtil.add(s);var n=r.promise(s);return n.always(function(){this._oPendingRequestsUtil.remove(s)}),n}},i},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/Mode-dbg.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"sap/ui/base/Object\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/ui/core/Fragment\",\"sap/collaboration/components/utils/CommonUtil\"],function(e,t,o,r,a){var i=e.extend(\"sap.collaboration.components.feed.Mode\",{constructor:function(e){this._oCommonUtil=new a,this._oFeedController=e,this._initializeModels(),this._oViewDataModel=this._oFeedController.getModel(),this._oJamModel=this._oFeedController.getModel(\"jam\");var t=this._getGroupSelectorFragmentId();sap.ui.xmlfragment(t,\"sap.collaboration.components.feed.fragments.GroupSelector\",this),this._oGroupSelectPopover=r.byId(t,\"responsivePopover\"),this._oGroupSelectPopover.setModel(this._oFeedController.getModel(\"i18n\"),\"i18n\"),this._oList=r.byId(t,\"list\"),this._oList.addStyleClass(\"RightToLeftParenthesisStyling\"),this._oList.setBusyIndicatorDelay(0),this._oListItemTemplate=sap.ui.xmlfragment(\"sap.collaboration.components.feed.fragments.CustomListItem\",this)}});return i._bJamServiceAvailable=!0,i._sJamServiceUrl=\"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData\",i._nextGroupSelectorFragmentIdIndex=0,i.prototype._getGroupSelectorFragmentId=function(){return this._oFeedController.createId(\"groupSelectorFragment\")+i._nextGroupSelectorFragmentIdIndex++},i.prototype.getFeedEntries=function(e,t){var o=jQuery.Deferred(),r={urlParameters:{$expand:\"Creator,TargetObjectReference\"},success:function(e,t){o.resolve(e,t)},error:function(e){o.reject(e)}};return t&&(r.urlParameters.$skiptoken=t),o.promise(this._oJamModel.read(e,r))},i.prototype.onGroupSearch=function(e){var r=new t(\"Name\",o.Contains,e.getParameter(\"newValue\"));this._oList.getBinding(\"items\").filter([r])},i.prototype.addPost=function(e){var t=jQuery.Deferred(),o=this.getAddPostPath(),r={Text:e},a={success:function(e,o){t.resolve(e,o)},error:function(e){t.reject(e)}};return{path:o,payload:r,promise:t.promise(this._oJamModel.create(o,r,a))}},i.prototype.getFeedUpdatesLatestCount=function(){var e=jQuery.Deferred(),t=this._oFeedController.byId(\"timeline\").getContent()[0],o={urlParameters:{LatestTopLevelId:t?t.getModel().getProperty(\"/TopLevelId\"):\"\",Id:this._oViewDataModel.getProperty(\"/groupSelected/Id\")},success:function(t,o){e.resolve(t,o)},error:function(t){e.reject(t)}};return e.promise(this._oJamModel.callFunction(\"/Group_FeedLatestCount\",o))},i.prototype._initializeModels=function(){var e=new sap.ui.model.odata.v2.ODataModel(i._sJamServiceUrl);e.attachMetadataFailed(this._oFeedController._onMetadataFailed,this._oFeedController),e.attachRequestCompleted(this._oFeedController._onJamRequestCompleted,this._oFeedController),e.attachRequestFailed(this._oFeedController._onJamRequestFailed,this._oFeedController),e.attachRequestSent(this._oFeedController._onJamRequestSent,this._oFeedController),e.attachBatchRequestCompleted(this._oFeedController._onBatchCompleted,this._oFeedController),e.attachBatchRequestFailed(this._oFeedController._onBatchFailed,this._oFeedController),e.attachBatchRequestSent(this._oFeedController._onBatchSent,this._oFeedController),this._oFeedController.setJamModel(e)},i.prototype.getJamServiceUrl=function(){return i._sJamServiceUrl},i.prototype.isJamServiceAvailable=function(){return i._bJamServiceAvailable},i.prototype.setJamServiceAvailable=function(e){i._bJamServiceAvailable=e},i},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/Mode.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"sap/ui/base/Object\",\"sap/ui/model/Filter\",\"sap/ui/model/FilterOperator\",\"sap/ui/core/Fragment\",\"sap/collaboration/components/utils/CommonUtil\"],function(e,t,o,r,a){var i=e.extend(\"sap.collaboration.components.feed.Mode\",{constructor:function(e){this._oCommonUtil=new a,this._oFeedController=e,this._initializeModels(),this._oViewDataModel=this._oFeedController.getModel(),this._oJamModel=this._oFeedController.getModel(\"jam\");var t=this._getGroupSelectorFragmentId();sap.ui.xmlfragment(t,\"sap.collaboration.components.feed.fragments.GroupSelector\",this),this._oGroupSelectPopover=r.byId(t,\"responsivePopover\"),this._oGroupSelectPopover.setModel(this._oFeedController.getModel(\"i18n\"),\"i18n\"),this._oList=r.byId(t,\"list\"),this._oList.addStyleClass(\"RightToLeftParenthesisStyling\"),this._oList.setBusyIndicatorDelay(0),this._oListItemTemplate=sap.ui.xmlfragment(\"sap.collaboration.components.feed.fragments.CustomListItem\",this)}});return i._bJamServiceAvailable=!0,i._sJamServiceUrl=\"/sap/bc/ui2/smi/rest_tunnel/Jam/api/v1/OData\",i._nextGroupSelectorFragmentIdIndex=0,i.prototype._getGroupSelectorFragmentId=function(){return this._oFeedController.createId(\"groupSelectorFragment\")+i._nextGroupSelectorFragmentIdIndex++},i.prototype.getFeedEntries=function(e,t){var o=jQuery.Deferred(),r={urlParameters:{$expand:\"Creator,TargetObjectReference\"},success:function(e,t){o.resolve(e,t)},error:function(e){o.reject(e)}};return t&&(r.urlParameters.$skiptoken=t),o.promise(this._oJamModel.read(e,r))},i.prototype.onGroupSearch=function(e){var r=new t(\"Name\",o.Contains,e.getParameter(\"newValue\"));this._oList.getBinding(\"items\").filter([r])},i.prototype.addPost=function(e){var t=jQuery.Deferred(),o=this.getAddPostPath(),r={Text:e},a={success:function(e,o){t.resolve(e,o)},error:function(e){t.reject(e)}};return{path:o,payload:r,promise:t.promise(this._oJamModel.create(o,r,a))}},i.prototype.getFeedUpdatesLatestCount=function(){var e=jQuery.Deferred(),t=this._oFeedController.byId(\"timeline\").getContent()[0],o={urlParameters:{LatestTopLevelId:t?t.getModel().getProperty(\"/TopLevelId\"):\"\",Id:this._oViewDataModel.getProperty(\"/groupSelected/Id\")},success:function(t,o){e.resolve(t,o)},error:function(t){e.reject(t)}};return e.promise(this._oJamModel.callFunction(\"/Group_FeedLatestCount\",o))},i.prototype._initializeModels=function(){var e=new sap.ui.model.odata.v2.ODataModel(i._sJamServiceUrl);e.attachMetadataFailed(this._oFeedController._onMetadataFailed,this._oFeedController),e.attachRequestCompleted(this._oFeedController._onJamRequestCompleted,this._oFeedController),e.attachRequestFailed(this._oFeedController._onJamRequestFailed,this._oFeedController),e.attachRequestSent(this._oFeedController._onJamRequestSent,this._oFeedController),e.attachBatchRequestCompleted(this._oFeedController._onBatchCompleted,this._oFeedController),e.attachBatchRequestFailed(this._oFeedController._onBatchFailed,this._oFeedController),e.attachBatchRequestSent(this._oFeedController._onBatchSent,this._oFeedController),this._oFeedController.setJamModel(e)},i.prototype.getJamServiceUrl=function(){return i._sJamServiceUrl},i.prototype.isJamServiceAvailable=function(){return i._bJamServiceAvailable},i.prototype.setJamServiceAvailable=function(e){i._bJamServiceAvailable=e},i},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/ModeFactory-dbg.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./GroupIDsMode\",\"./BOMode\",\"./UserMode\"],function(e,o,s){var n=function(){this._oFeedTypeToModeClass={},this._oFeedTypeToModeClass[sap.collaboration.FeedType.GroupIds]=e,this._oFeedTypeToModeClass[sap.collaboration.FeedType.BusinessObjectGroups]=o,this._oFeedTypeToModeClass[sap.collaboration.FeedType.UserGroups]=s};return n._instance=null,n.getInstance=function(){return null===n._instance&&(n._instance=new n),n._instance},n.prototype.createMode=function(e,o){var s=this._oFeedTypeToModeClass[e];if(void 0===s){var n=e+\" is not a valid value for the feedSources mode property.\\n\";throw n+=\"It must be equal to the value of either one of the following:\\n\",n+=\"sap.collaboration.FeedType.GroupIds\\n\",n+=\"sap.collaboration.FeedType.BusinessObjectGroups\\n\",n+=\"sap.collaboration.FeedType.UserGroups\",o.logError(n),o.byId(\"timeline\").destroy(),new Error(n)}return new s(o)},n},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/ModeFactory.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./GroupIDsMode\",\"./BOMode\",\"./UserMode\"],function(e,o,s){var n=function(){this._oFeedTypeToModeClass={},this._oFeedTypeToModeClass[sap.collaboration.FeedType.GroupIds]=e,this._oFeedTypeToModeClass[sap.collaboration.FeedType.BusinessObjectGroups]=o,this._oFeedTypeToModeClass[sap.collaboration.FeedType.UserGroups]=s};return n._instance=null,n.getInstance=function(){return null===n._instance&&(n._instance=new n),n._instance},n.prototype.createMode=function(e,o){var s=this._oFeedTypeToModeClass[e];if(void 0===s){var n=e+\" is not a valid value for the feedSources mode property.\\n\";throw n+=\"It must be equal to the value of either one of the following:\\n\",n+=\"sap.collaboration.FeedType.GroupIds\\n\",n+=\"sap.collaboration.FeedType.BusinessObjectGroups\\n\",n+=\"sap.collaboration.FeedType.UserGroups\",o.logError(n),o.byId(\"timeline\").destroy(),new Error(n)}return new s(o)},n},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/UserMode-dbg.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./Mode\"],function(e){var t=e.extend(\"sap.collaboration.components.feed.UserMode\",{constructor:function(t){e.apply(this,[t]),this._oList.setModel(this._oJamModel)}});return t.prototype.start=function(){this._oList.attachUpdateFinished(this.onGroupSelectorUpdateFinished,this),this._oList.attachUpdateFinished(this.onUpdateFinished,this),this._oList.bindItems({path:\"/Groups\",template:this._oListItemTemplate}),this._oFeedController.enableGroupFeed()},t.prototype.stop=function(){this._oList.detachUpdateFinished(this.onUpdateFinished,this)},t.prototype._updateSelectedGroupInViewDataModel=function(e){this._oViewDataModel.setProperty(\"/groupSelected\",{Id:e.Id,Name:e.Name,WebURL:e.WebURL}),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+e.Id+\"')/FeedEntries\")},t.prototype.getAddPostPath=function(){return\"/Groups('\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"')/FeedEntries\"},t.prototype.displayFeedSourceSelectorPopover=function(e){this._oList.setBusy(!0),this._oJamModel.refresh(!0),this._oGroupSelectPopover.openBy(e)},t.prototype.onGroupSelected=function(e){var t=e.getSource().getSelectedItem().getBindingContext().getObject();this._updateSelectedGroupInViewDataModel(t),this._oGroupSelectPopover.close()},t.prototype.onBatchCompleted=function(){},t.prototype.onGroupSelectorUpdateFinished=function(){var e,t,o=this._oList.getItems();o.length>0&&(e=o[0],this._oList.setSelectedItem(e),t=e.getBindingContext().getObject(),this._updateSelectedGroupInViewDataModel(t)),this._oList.detachUpdateFinished(this.onGroupSelectorUpdateFinished,this)},t.prototype.onUpdateFinished=function(){this._oList.setBusy(!1)},t},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/UserMode.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"./Mode\"],function(e){var t=e.extend(\"sap.collaboration.components.feed.UserMode\",{constructor:function(t){e.apply(this,[t]),this._oList.setModel(this._oJamModel)}});return t.prototype.start=function(){this._oList.attachUpdateFinished(this.onGroupSelectorUpdateFinished,this),this._oList.attachUpdateFinished(this.onUpdateFinished,this),this._oList.bindItems({path:\"/Groups\",template:this._oListItemTemplate}),this._oFeedController.enableGroupFeed()},t.prototype.stop=function(){this._oList.detachUpdateFinished(this.onUpdateFinished,this)},t.prototype._updateSelectedGroupInViewDataModel=function(e){this._oViewDataModel.setProperty(\"/groupSelected\",{Id:e.Id,Name:e.Name,WebURL:e.WebURL}),this._oViewDataModel.setProperty(\"/feedEndpoint\",\"/Groups('\"+e.Id+\"')/FeedEntries\")},t.prototype.getAddPostPath=function(){return\"/Groups('\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"')/FeedEntries\"},t.prototype.displayFeedSourceSelectorPopover=function(e){this._oList.setBusy(!0),this._oJamModel.refresh(!0),this._oGroupSelectPopover.openBy(e)},t.prototype.onGroupSelected=function(e){var t=e.getSource().getSelectedItem().getBindingContext().getObject();this._updateSelectedGroupInViewDataModel(t),this._oGroupSelectPopover.close()},t.prototype.onBatchCompleted=function(){},t.prototype.onGroupSelectorUpdateFinished=function(){var e,t,o=this._oList.getItems();o.length>0&&(e=o[0],this._oList.setSelectedItem(e),t=e.getBindingContext().getObject(),this._updateSelectedGroupInViewDataModel(t)),this._oList.detachUpdateFinished(this.onGroupSelectorUpdateFinished,this)},t.prototype.onUpdateFinished=function(){this._oList.setBusy(!1)},t},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/views/GroupFeed-dbg.controller.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/mvc/Controller\",\"sap/suite/ui/commons/TimelineItem\",\"sap/m/MessageBox\",\"sap/collaboration/components/utils/LanguageBundle\",\"sap/collaboration/components/utils/DateUtil\",\"sap/collaboration/components/controls/FeedEntryEmbedded\",\"sap/collaboration/components/controls/ReplyPopover\",\"sap/collaboration/components/controls/SocialTextArea\",\"sap/collaboration/components/controls/FilterPopover\",\"sap/collaboration/components/utils/CommonUtil\",\"sap/collaboration/components/feed/ModeFactory\"],function(e,t,o,i,s,n,a,r,d,l,u,h){\"use strict\";var c=\"sap.collaboration.components.feed.views.GroupFeed\";return t.extend(c,{onInit:function(){this._initializeUtilities(),this._initializeRequestStateData(),this._initializeSystemData(),this._initializeModels(),this._initializeTimeline()},onBeforeRendering:function(){this._oMode.isJamServiceAvailable()||this.displayErrorMessage()},onAfterRendering:function(){},onExit:function(){this._abortAllPendingRequests(),this.byId(\"filter_popover\").destroy(),this.byId(\"addPost_popover\").destroy(),this._stopAutoCheckingForNewUpdates()},_initializeUtilities:function(){this._oCommonUtil=new u,this._oLogger=new e.sap.log.getLogger(c),this._oLanguageBundle=new s,this._oDateUtil=new n},_initializeSystemData:function(){this._oModes={},this._mCurrentUser},_initializeRequestStateData:function(){this._oNextLinks={feedEntriesNextLink:\"\",repliesNextLink:\"\"},this._oPendingRequests={loadingFeedEntriesRequest:void 0,loadingRepliesRequest:void 0,loadingSuggestionsRequest:void 0,loadingFeedAtMentions:void 0,refreshingSecurityToken:void 0},this._oPostRequestData={path:void 0,payload:void 0,parameters:void 0}},_initializeModels:function(){var e=this._oLanguageBundle.createResourceModel();this.getView().setModel(e,\"i18n\"),this._i18nModel=e;var t=new sap.ui.model.json.JSONModel;t.setData({feedSources:void 0,axisOrientation:void 0,enableSocial:!0,enableScroll:void 0,forceGrowing:!1,growingThreshold:20,groupSelectorEnabled:!1,groupSelected:{},groups:[],filterEnabled:!1,filter:[],filterMessage:\"\",feedEndpoint:void 0,addPostButtonEnabled:!1}),t.bindProperty(\"/feedSources\").attachChange(this._onFeedSourcesChange,this),t.bindProperty(\"/feedEndpoint\").attachChange(this._onFeedEndpointChange,this),t.bindProperty(\"/filterMessage\").attachChange(this._onFilterMessageChange,this),this.getView().setModel(t),this._oViewDataModel=t},_initializeTimeline:function(){this.byId(\"timeline\").setContent([]),this._modifyHeaderBar(),this._createSocialProfile()},_modifyHeaderBar:function(){var e=this.byId(\"timeline\").getHeaderBar();e.removeAllContent();var t=this._createGroupSelector();e.insertContent(t,0);var o=new sap.m.ToolbarSpacer(this.createId(\"header_spacer\"));e.insertContent(o,1);var i=this._createFilterButton();e.insertContent(i,2);var s=this._createAddPostButton();e.insertContent(s,3)},_createGroupSelector:function(){var e=new sap.m.Button(this.createId(\"groupSelect_button\"),{icon:\"sap-icon://slim-arrow-down\",iconFirst:!1,text:\"{/groupSelected/Name}\",width:\"20em\",enabled:\"{/groupSelectorEnabled}\",type:sap.m.ButtonType.Transparent,press:[this.onGroupSelectorButtonPress,this]});return e.setModel(this._oViewDataModel),e},_createFilterButton:function(){if(!this.byId(\"filter_popover\")){var e=sap.ui.xmlfragment(\"sap.collaboration.components.feed.fragments.CustomListItem\",this);new l(this.createId(\"filter_popover\"),{title:this._oLanguageBundle.getText(\"ST_FILTER_HEADER\")}).setModel(this._oViewDataModel).bindItems(\"/filter\",e)}return new sap.m.Button(this.createId(\"filter_button\"),{enabled:\"{/filterEnabled}\",visible:\"{/filterEnabled}\",icon:\"sap-icon://filter\",type:sap.m.ButtonType.Transparent,press:[function(){this.byId(\"filter_popover\").openBy(this.byId(\"filter_button\"))},this]}).setModel(this._oViewDataModel)},_createAddPostButton:function(){void 0===this.byId(\"addPost_popover\")&&(new sap.m.ResponsivePopover(this.createId(\"addPost_popover\"),{placement:sap.m.PlacementType.Auto,title:this._oLanguageBundle.getText(\"ST_ADD_POST_TITLE\"),contentWidth:\"25rem\",contentHeight:\"10rem\",content:new d(this.createId(\"social_TextArea\"),{height:\"10rem\",width:\"100%\",liveChange:[function(e){\"\"!==e.getParameter(\"value\").trim()?this.byId(\"addPost_postButton\").setEnabled(!0):this.byId(\"addPost_postButton\").setEnabled(!1)},this],suggest:[this.onSuggest,this],afterSuggestionClose:[function(){this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort()},this]}),endButton:new sap.m.Button(this.createId(\"addPost_postButton\"),{text:this._oLanguageBundle.getText(\"ST_ADD_POST_BUTTON\"),enabled:!1,press:[this.onAddPost,this]})}).setInitialFocus(this.byId(\"social_TextArea\")),sap.ui.Device.system.phone||this.byId(\"addPost_popover\").setBeginButton(new sap.m.Button(this.createId(\"addPost_atMentionButton\"),{text:\"@\",press:[function(){this.byId(\"social_TextArea\").atMentionsButtonPressed()},this]})));var e=new sap.m.Button(this.createId(\"addPost_button\"),{enabled:\"{/addPostButtonEnabled}\",icon:\"sap-icon://add\",type:sap.m.ButtonType.Transparent,press:[function(){this.byId(\"addPost_popover\").openBy(this.byId(\"addPost_button\"))},this]});return e.setModel(this._oViewDataModel),e},_clearTimeline:function(){this.byId(\"timeline\").destroyContent()},_createTimelineItem:function(e){var t=new sap.ui.model.json.JSONModel(e),i=new a(this.createId(e.Id+\"_embedded\"),{feedEntry:\"{/}\",serviceUrl:this._oMode.getJamServiceUrl(),expandCollapseClick:[function(){this.byId(\"timeline\").adjustUI()},this],atMentionClick:[this.onAtMentionClicked,this],previewLoad:[function(e){this.byId(\"timeline\").adjustUI()},this]}),s=new r(this.createId(\"replyPostPopover_\"+e.Id),{socialTextArea:new d({height:\"80px\",width:\"100%\",suggestionPlacement:sap.m.PlacementType.Top,suggest:[this.onSuggest,this],afterSuggestionClose:[function(){this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort()},this]}),postReplyPress:[this.onPostReplyPress,this],moreRepliesPress:[function(e){var t=e.getSource().getParent();this._getReplies(void 0,t.getModel().getData().Replies.__next,t)},this],afterClose:[function(){this._oPendingRequests.loadingRepliesRequest&&this._oPendingRequests.loadingRepliesRequest.abort(),this._bReplyPopoverIsOpen=!1},this]});s.getSocialTextArea().attachLiveChange(function(e){\"\"!==e.getParameter(\"value\").trim()?this.enableButton(!0):this.enableButton(!1)}.bind(s));var n=new sap.ui.core.CustomData({key:\"1\",value:this._oLanguageBundle.getText(\"ST_MORE_CUSTOM_ACTION\")}),l=new o(this.createId(e.Id),{dateTime:\"{/CreatedAt}\",userName:\"{/Creator/FullName}\",title:\"{/Action}\",text:\"{/Text}\",icon:\"sap-icon://post\",userNameClickable:this._oViewDataModel.getProperty(\"/enableSocial\"),userNameClicked:[this.onUserNameClicked,this],userPicture:{path:\"/Creator/Id\",formatter:this._buildThumbnailImageURL.bind(this)},replyCount:\"{/RepliesCount}\",embeddedControl:i,customReply:s,replyListOpen:[this.onReplyListOpen,this],customAction:n,customActionClicked:[this.onMoreClicked,this]});return l.setModel(t),l.setTitle(\"‎\"+l.getTitle()+\"‎\"),l},_addFeedEntriesToTimeline:function(e){var t=this.byId(\"timeline\");e.forEach(function(e){var o=this._createTimelineItem(e);t.addContent(o)},this)},_processFeedEntries:function(e){e.length>0?this._addFeedEntriesToTimeline(e):this._oViewDataModel.setProperty(\"/forceGrowing\",!1),this._setTimelineToNotBusy()},_processAtMentions:function(){this._oPendingRequests.loadingFeedAtMentions&&this._oPendingRequests.loadingFeedAtMentions.state(\"pending\")&&this._oPendingRequests.loadingFeedAtMentions.abort();var t,o=this,i={async:!0,success:function(e,t){s.resolveWith(o,[e,t])},error:function(e){o._oLogger.error(\"Failed to retrieve the @mentions.\"),s.rejectWith(o,[e])}};this._oAtMention.atMentionsNextLink?(t=\"/\"+this._oAtMention.atMentionsNextLink,i.urlParameters=this._extractUrlParams(decodeURIComponent(this._oAtMention.atMentionsNextLink))):t=\"/FeedEntries(\"+e.sap.encodeURL(\"'\"+this._oAtMention.feedId+\"'\")+\")/AtMentions\";var s=e.Deferred();s.done(function(e,t){if(o._oAtMention.atMentionsNextLink=e.__next,o._oAtMention.aAtMentions=o._oCommonUtil.getODataResult(e).concat(o._oAtMention.aAtMentions),o._oAtMention.atMentionsNextLink)o._processAtMentions();else{var i={openingControl:o._oAtMention.oUserNameLink,memberId:o._oAtMention.aAtMentions[o._oAtMention.placeholderIndex].Email};o._oSocialProfile.setSettings(i),o._oSocialProfile.open()}}),this._oPendingRequests.loadingFeedAtMentions=s.promise(this._oJamModel.read(t,i))},_createSocialProfile:function(){return this._oSocialProfile=(new sap.ui.getCore).createComponent(\"sap.collaboration.components.socialprofile\"),this._oSocialProfile},_setTimelineToBusy:function(){this.byId(\"timeline\").setBusyIndicatorDelay(0).setBusy(!0)},_setTimelineToNotBusy:function(){this.byId(\"timeline\").setBusyIndicatorDelay(0).setBusy(!1)},_showFeedUpdatesInTimeline:function(e){var t=this.byId(\"timeline\"),o=t.getMessageStrip();if(e>0){if(!this.byId(\"refreshLink\")){var i=new sap.m.Link(this.createId(\"refreshLink\"),{text:this._oLanguageBundle.getText(\"GF_REFRESH_FEED\"),press:[function(){var e=this._oViewDataModel.getProperty(\"/feedEndpoint\");this._initialLoadFeedEntries(e)},this]});o.setLink(i),o.setType(sap.ui.core.MessageType.Information),o.setShowIcon(!0)}1==e?t.setCustomMessage(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATE\")):t.setCustomMessage(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATES\",e)),o.setVisible(!0),t.rerender()}},_hideFeedUpdatesInTimeline:function(){this.byId(\"timeline\").getMessageStrip().close()},onGrow:function(e){if(!this._oPendingRequests.loadingFeedEntriesRequest||\"pending\"!=!this._oPendingRequests.loadingFeedEntriesRequest.state()){var t=this._oViewDataModel.getProperty(\"/feedEndpoint\");this._loadFeedEntries(t).done(this._loadFeedEntriesSuccess.bind(this))}},onGroupSelectorButtonPress:function(e){this._oMode.displayFeedSourceSelectorPopover(e.getSource())},onAddPost:function(e){this.byId(\"addPost_popover\").close();var t=this.byId(\"social_TextArea\").convertTextWithFullNamesToEmailAliases();t&&\"\"!==t.trim()?this._getLoggedInUser().done(function(){this._setTimelineToBusy();var e=function(e,t){this.byId(\"social_TextArea\").clearText(),this.byId(\"addPost_postButton\").setEnabled(!1),this._setTimelineToNotBusy();var o=this._oCommonUtil.getODataResult(e);o.Creator=this._mCurrentUser;var i=this._createTimelineItem(o);this.byId(\"timeline\").insertContent(i,0)},o=function(e){this._oLogger.error(\"Error occured when adding a post.\",e.stack)},i=this._oMode.addPost(t);this._oPostRequestData={path:i.path,payload:i.payload},this._oPostRequestData.parameters={success:e,error:o},i.promise.then(e.bind(this),o.bind(this))}.bind(this)):this._oLogger.info(\"Posting an empty comment is not allowed, no feed entry will be created.\")},onReplyListOpen:function(e){if(e.getSource().getCustomReply().getTextArea().focus(),!this._bReplyPopoverIsOpen){this._bReplyPopoverIsOpen=!0;var t=e.getSource(),o=t.getModel().getProperty(\"/Id\");this._getReplies(o,void 0,t)}},onPostReplyPress:function(t){var o=this,i=t.getParameter(\"value\"),s=t.getSource().getParent(),n=s.getCustomReply(),a=s.getModel().getData().Id,r=\"/FeedEntries('\"+e.sap.encodeURL(a)+\"')/Replies\",d={Text:i};this._getLoggedInUser(),this._getLoggedInUser().done(function(){var e={async:!0,success:function(e,t){n.getTextArea().clearText(),n.enableButton(!1),n.setBusy(!1);var i=o._oCommonUtil.getODataResult(e),a={CreatedAt:o._oDateUtil.formatDateToString(i.CreatedAt),Text:i.Text,Creator:o._mCurrentUser};a.Creator.ThumbnailImage=o._buildThumbnailImageURL(o._mCurrentUser.Id),n.addReply(a),s.getModel().setProperty(\"/RepliesCount\",s.getModel().getProperty(\"/RepliesCount\")+1)},error:function(e){o._oLogger.error(\"Failed to post reply: \"+e.statusText,e.stack)}};n.getTextArea().focus(),n.setBusyIndicatorDelay(0).setBusy(!0),this._oPostRequestData={path:r,payload:d,parameters:e},this._oJamModel.create(r,d,e)}.bind(this))},onSuggest:function(t){var o=this;this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort();var i=t.getSource(),s=t.getParameter(\"value\");if(\"\"===s.trim())i.showSuggestions([]);else{var n={async:!0,urlParameters:{Query:\"'\"+s+\"'\",GroupId:\"'\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"'\",$top:\"4\"},success:function(e,t){a.resolveWith(o,[e,t])},error:function(e){o._oLogger.error(\"Failed to get suggestions: \"+e.statusText),a.rejectWith(o,[e])}},a=e.Deferred();a.done(function(e,t){var s=o._oCommonUtil.getODataResult(e);if(0===s.length)i.closeSuggestionPopover();else{for(var n=[],a=s.length,r=0;r<a;r++)n.push({fullName:s[r].FullName,email:s[r].Email,userImage:o._buildThumbnailImageURL(s[r].Id)});i.showSuggestions(n)}}),this._oPendingRequests.loadingSuggestionsRequest=a.promise(this._oJamModel.read(\"/Members_Autocomplete\",n))}},onUserNameClicked:function(e){var t=e.getSource(),o=t.getModel(),i={openingControl:t._userNameLink,memberId:o.getProperty(\"/Creator/Email\")};this._oSocialProfile.setSettings(i),this._oSocialProfile.open()},onMoreClicked:function(e){var t=e.getSource().getModel().getProperty(\"/WebURL\"),o=e.getSource().getModel().getProperty(\"/Id\"),i=e.getSource().getParent().getModel().getProperty(\"/groupSelected/Name\"),s=e.getSource().getParent().getModel().getProperty(\"/groupSelected/WebURL\"),n=this.byId(this.createId(\"moreListPopover_\"+o));if(void 0===n){var a=new sap.m.List(this.createId(\"moreList_\"+o),{}),r=new sap.m.Link(this.createId(\"groupNameLink_\"+o),{text:this._oLanguageBundle.getText(\"ST_GROUP_NAME_LINK\",i),target:\"_blank\",href:s,width:\"15em\"}).addStyleClass(\"sapCollaborationCustomLinkPadding\"),d=new sap.m.CustomListItem(this.createId(o+\"_groupNameLinkListItem\"),{content:r});a.addItem(d);var l=new sap.m.Link(this.createId(\"feedEntryLink_\"+o),{text:this._oLanguageBundle.getText(\"ST_FEED_ENTRY_LINK\"),target:\"_blank\",href:t,width:\"15em\"}).addStyleClass(\"sapCollaborationCustomLinkPadding\"),u=new sap.m.CustomListItem(this.createId(\"feedEntryLinkListItem_\"+o),{content:l});a.addItem(u);var h=!1;sap.ui.Device.system.phone&&(h=!0),n=new sap.m.ResponsivePopover(this.createId(\"moreListPopover_\"+o),{content:a,showHeader:h,title:this._oLanguageBundle.getText(\"ST_MORE_CUSTOM_ACTION\"),showCloseButton:!0,placement:sap.m.PlacementType.VerticalPreferedBottom,contentWidth:\"15em\"});var c=function(){this.close()};r.attachPress(c.bind(n)),l.attachPress(c.bind(n))}n.openBy(e.getParameter(\"linkObj\"))},onAtMentionClicked:function(e){var t=e.getSource().getModel().getProperty(\"/Id\"),o=e.getParameter(\"link\"),i=o.getModel().getProperty(\"/placeholderIndex\");this._oAtMention={feedId:t,oUserNameLink:o,placeholderIndex:i,aAtMentions:[],atMentionsNextLink:void 0},this._processAtMentions()},_onFeedEndpointChange:function(e){var t=e.getSource().getValue();this._initialLoadFeedEntries(t)},_onFeedSourcesChange:function(e){var t,o=e.getSource().getValue();if(Array.isArray(o)&&(o={mode:sap.collaboration.FeedType.GroupIds,data:o}),this._oMode&&this._oMode.stop(),!this._oCommonUtil.isString(o.mode))throw t=\"The mode must be a string.\",this.logError(t),this.byId(\"timeline\").destroy(),new Error(t);void 0===this._oModes[o.mode]&&(this._oModes[o.mode]=h.getInstance().createMode(o.mode,this)),this._oMode=this._oModes[o.mode],this._oMode.start(o.data)},_onFilterMessageChange:function(e){var t=e.getSource().getValue();this.byId(\"timeline\").setCustomMessage(t),this.byId(\"timeline\").rerender()},_onMetadataFailed:function(e){switch(e.oSource.sServiceUrl){case this._oMode.getJamServiceUrl():this._oLogger.error(\"Failed to load Jam metadata. Service unavailable or possible missing JAM configuration.\"),this._displayJamConnectionErrorMessage(),this._oMode.setJamServiceAvailable(!1);break;case this._oMode.getSMIv2ServiceUrl():this._oLogger.error(\"Failed to load SMIv2 metadata.\"),this.displayErrorMessage()}this.disableGroupFeed()},_onJamRequestCompleted:function(e){var t=e.getParameter(\"method\");e.success&&\"POST\"===t&&(this._oPendingRequests.refreshingSecurityToken=void 0)},_onJamRequestFailed:function(e){this._setTimelineToNotBusy();var t=e.getParameter(\"method\"),o=parseInt(e.getParameter(\"response\").statusCode,10),i=e.getParameter(\"feedEndpoint\");if(i||(i=e.getParameter(\"url\")),/ExternalObjects_FindByExidAndObjectType/.test(i))this.disableGroupFeed();else switch(o){case 403:\"POST\"===t?void 0===this._oPendingRequests.refreshingSecurityToken?this._refreshSecurityToken().done(function(e,t){this._oJamModel.create(this._oPostRequestData.path,this._oPostRequestData.payload,this._oPostRequestData.parameters)}):(this._oPendingRequests.refreshingSecurityToken=void 0,this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_NO_ACCESS_TO_POST_TO_GROUP\"))):this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_FORBIDDEN_ACCESS\"));break;case 404:/Groups\\(.*\\)\\/FeedEntries/.test(i)?(this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_NO_ACCESS_TO_GROUP\")),this.disableGroupFeed()):/Groups\\(.*\\)/.test(i)?(this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_NO_ACCESS_TO_GROUP\")),this.disableGroupFeed()):/GroupExternalObject_FeedLatestCount|Group_FeedLatestCount/.test(i)?this._stopAutoCheckingForNewUpdates():this.displayErrorMessage();break;case 500:case 503:this._displayJamConnectionErrorMessage();break;default:this.displayErrorMessage()}},_onJamRequestSent:function(e){},_onBatchCompleted:function(e){this._oJamModel.setUseBatch(!1),this._oMode.onBatchCompleted(e)},_onBatchFailed:function(e){},_onBatchSent:function(e){},_abortAllPendingRequests:function(){this._oPendingRequests.loadingFeedEntriesRequest&&this._oPendingRequests.loadingFeedEntriesRequest.abort(),this._oPendingRequests.loadingRepliesRequest&&this._oPendingRequests.loadingRepliesRequest.abort(),this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort()},_refreshSecurityToken:function(){var t=this,o=e.Deferred();return this._oPendingRequests.refreshingSecurityToken=o.promise(this._oJamModel.refreshSecurityToken(function(e,i){t._oLogger.info(\"Security token refreshed\"),o.resolveWith(t,[e,i])},function(e){t._oLogger.error(\"Security token error: \"+e.statusText),o.rejectWith([e],t)}))},_getLoggedInUser:function(){var t=e.Deferred();if(!this._mCurrentUser){var o={success:function(e,o){this._mCurrentUser=this._oCommonUtil.getODataResult(e),t.resolve(e,o)}.bind(this),error:function(e){this._oLogger.error(\"Failed to get the logged in user\",e.stack),t.reject(e)}.bind(this)};return t.promise(this._oJamModel.read(\"/Self\",o))}return t.resolve()},_loadFeedEntries:function(e){var t=void 0;if(this._oMode.isJamServiceAvailable()){this._setTimelineToBusy();var o=this._oNextLinks.feedEntriesNextLink;return\"\"!==o&&(o=decodeURIComponent(o),t=this._extractUrlParams(o).$skiptoken),this._oPendingRequests.loadingFeedEntriesRequest=this._oMode.getFeedEntries(e,t)}},_loadFeedEntriesSuccess:function(e,t){this._oNextLinks.feedEntriesNextLink=e.__next;var o=this._oCommonUtil.getODataResult(e);this._processFeedEntries(o)},_initialLoadFeedEntries:function(e){this._oPendingRequests.loadingFeedEntriesRequest&&this._oPendingRequests.loadingFeedEntriesRequest.abort(),this._initializeRequestStateData(),this._oViewDataModel.setProperty(\"/forceGrowing\",!0),this._hideFeedUpdatesInTimeline(),this._stopAutoCheckingForNewUpdates(),this._loadFeedEntries(e).done([this._clearTimeline.bind(this),this._loadFeedEntriesSuccess.bind(this),this._startAutoCheckingForNewUpdates.bind(this)])},_getReplies:function(t,o,i){var s,n=this,a={async:!0,urlParameters:{$orderby:\"CreatedAt desc\",$expand:\"Creator\"},success:function(e,t){n._oLogger.info(\"Replies were successfully retrieved.\"),d.resolveWith(n,[e,t])},error:function(e){n._oLogger.error(\"Failed to retrieve replies: \"+e.statusText),d.rejectWith(n,[e])}},r=i.getCustomReply();o?(s=\"/\"+o,a.urlParameters=this._extractUrlParams(decodeURIComponent(o)),a.urlParameters.$orderby=a.urlParameters.$orderby.replace(\"+\",\" \")):s=\"/FeedEntries('\"+e.sap.encodeURL(t)+\"')/Replies\";var d=e.Deferred();d.done(function(e,t){var o=n._oCommonUtil.getODataResult(e).reverse();o.forEach(function(e){e.Creator.ThumbnailImage=n._buildThumbnailImageURL(e.Creator.Id),e.CreatedAt=n._oDateUtil.formatDateToString(e.CreatedAt)}),r.addReplies({data:o,more:!!e.__next}),i.getModel().getData().Replies.__next=e.__next}).always(function(){r.setBusy(!1)}).fail(function(){r._oReplyPopover.close()}),r.setBusyIndicatorDelay(0).setBusy(!0),this._oPendingRequests.loadingRepliesRequest=d.promise(this._oJamModel.read(s,a))},logError:function(e){this._oLogger.error(e)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){this.getView().setModel(e,t)},getLanguageBundle:function(){return this._oLanguageBundle},setJamModel:function(e){this._oJamModel=e,this.setModel(e,\"jam\")},setSmiModel:function(e){this._oSMIModel=e,this.setModel(e,\"smi\")},displayErrorMessage:function(e){var t=e||this._oLanguageBundle.getText(\"SYSTEM_ERROR_MESSAGEBOX_GENERAL_TEXT\");i.error(t)},_displayJamConnectionErrorMessage:function(){var e=this._oLanguageBundle.getText(\"JAM_CONNECTION_ERROR_MESSAGEBOX_TEXT\");i.error(e)},disableGroupFeed:function(){this._abortAllPendingRequests();var t=this.byId(\"timeline\");e.isEmptyObject(t)||(t.setBusyIndicatorDelay(0).setBusy(!1),this._clearTimeline(),this._oViewDataModel.setProperty(\"/groupSelectorEnabled\",!1),this._oViewDataModel.setProperty(\"/addPostButtonEnabled\",!1),this._oViewDataModel.setProperty(\"/forceGrowing\",!1))},enableGroupFeed:function(){var t=this.byId(\"timeline\");e.isEmptyObject(t)||(t.setBusyIndicatorDelay(0).setBusy(!1),this._oViewDataModel.setProperty(\"/groupSelectorEnabled\",!0),this._oViewDataModel.setProperty(\"/addPostButtonEnabled\",!0),this._oViewDataModel.setProperty(\"/forceGrowing\",!0))},_startAutoCheckingForNewUpdates:function(){this._iNewFeedUpdatesCheckerTimeDelay=12e4,this._sNewFeedUpdatesCheckerTimeoutId=e.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)},_stopAutoCheckingForNewUpdates:function(){e.sap.clearDelayedCall(this._sNewFeedUpdatesCheckerTimeoutId)},_checkForNewFeedUpdates:function(){this._oMode.getFeedUpdatesLatestCount().done(function(t,o){this._showFeedUpdatesInTimeline(t),this._sNewFeedUpdatesCheckerTimeoutId=e.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this)).fail(function(t){this._oLogger.error(\"Failed to check for new feed updates.\"),this._sNewFeedUpdatesCheckerTimeoutId=e.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this))},_extractUrlParams:function(e){var t={};return e.slice(e.indexOf(\"?\")+1).split(\"&\").forEach(function(e){var o=e.indexOf(\"=\");t[e.slice(0,o)]=e.slice(o+1)}),t},_buildThumbnailImageURL:function(t){return this._oJamModel.sServiceUrl+\"/Members('\"+e.sap.encodeURL(t)+\"')/ThumbnailImage/$value\"}})},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/views/GroupFeed.controller.js": "/*\n* ! @copyright@\n*/\nsap.ui.define([\"jquery.sap.global\",\"sap/ui/core/mvc/Controller\",\"sap/suite/ui/commons/TimelineItem\",\"sap/m/MessageBox\",\"sap/collaboration/components/utils/LanguageBundle\",\"sap/collaboration/components/utils/DateUtil\",\"sap/collaboration/components/controls/FeedEntryEmbedded\",\"sap/collaboration/components/controls/ReplyPopover\",\"sap/collaboration/components/controls/SocialTextArea\",\"sap/collaboration/components/controls/FilterPopover\",\"sap/collaboration/components/utils/CommonUtil\",\"sap/collaboration/components/feed/ModeFactory\"],function(e,t,o,i,s,n,a,r,d,l,u,h){\"use strict\";var c=\"sap.collaboration.components.feed.views.GroupFeed\";return t.extend(c,{onInit:function(){this._initializeUtilities(),this._initializeRequestStateData(),this._initializeSystemData(),this._initializeModels(),this._initializeTimeline()},onBeforeRendering:function(){this._oMode.isJamServiceAvailable()||this.displayErrorMessage()},onAfterRendering:function(){},onExit:function(){this._abortAllPendingRequests(),this.byId(\"filter_popover\").destroy(),this.byId(\"addPost_popover\").destroy(),this._stopAutoCheckingForNewUpdates()},_initializeUtilities:function(){this._oCommonUtil=new u,this._oLogger=new e.sap.log.getLogger(c),this._oLanguageBundle=new s,this._oDateUtil=new n},_initializeSystemData:function(){this._oModes={},this._mCurrentUser},_initializeRequestStateData:function(){this._oNextLinks={feedEntriesNextLink:\"\",repliesNextLink:\"\"},this._oPendingRequests={loadingFeedEntriesRequest:void 0,loadingRepliesRequest:void 0,loadingSuggestionsRequest:void 0,loadingFeedAtMentions:void 0,refreshingSecurityToken:void 0},this._oPostRequestData={path:void 0,payload:void 0,parameters:void 0}},_initializeModels:function(){var e=this._oLanguageBundle.createResourceModel();this.getView().setModel(e,\"i18n\"),this._i18nModel=e;var t=new sap.ui.model.json.JSONModel;t.setData({feedSources:void 0,axisOrientation:void 0,enableSocial:!0,enableScroll:void 0,forceGrowing:!1,growingThreshold:20,groupSelectorEnabled:!1,groupSelected:{},groups:[],filterEnabled:!1,filter:[],filterMessage:\"\",feedEndpoint:void 0,addPostButtonEnabled:!1}),t.bindProperty(\"/feedSources\").attachChange(this._onFeedSourcesChange,this),t.bindProperty(\"/feedEndpoint\").attachChange(this._onFeedEndpointChange,this),t.bindProperty(\"/filterMessage\").attachChange(this._onFilterMessageChange,this),this.getView().setModel(t),this._oViewDataModel=t},_initializeTimeline:function(){this.byId(\"timeline\").setContent([]),this._modifyHeaderBar(),this._createSocialProfile()},_modifyHeaderBar:function(){var e=this.byId(\"timeline\").getHeaderBar();e.removeAllContent();var t=this._createGroupSelector();e.insertContent(t,0);var o=new sap.m.ToolbarSpacer(this.createId(\"header_spacer\"));e.insertContent(o,1);var i=this._createFilterButton();e.insertContent(i,2);var s=this._createAddPostButton();e.insertContent(s,3)},_createGroupSelector:function(){var e=new sap.m.Button(this.createId(\"groupSelect_button\"),{icon:\"sap-icon://slim-arrow-down\",iconFirst:!1,text:\"{/groupSelected/Name}\",width:\"20em\",enabled:\"{/groupSelectorEnabled}\",type:sap.m.ButtonType.Transparent,press:[this.onGroupSelectorButtonPress,this]});return e.setModel(this._oViewDataModel),e},_createFilterButton:function(){if(!this.byId(\"filter_popover\")){var e=sap.ui.xmlfragment(\"sap.collaboration.components.feed.fragments.CustomListItem\",this);new l(this.createId(\"filter_popover\"),{title:this._oLanguageBundle.getText(\"ST_FILTER_HEADER\")}).setModel(this._oViewDataModel).bindItems(\"/filter\",e)}return new sap.m.Button(this.createId(\"filter_button\"),{enabled:\"{/filterEnabled}\",visible:\"{/filterEnabled}\",icon:\"sap-icon://filter\",type:sap.m.ButtonType.Transparent,press:[function(){this.byId(\"filter_popover\").openBy(this.byId(\"filter_button\"))},this]}).setModel(this._oViewDataModel)},_createAddPostButton:function(){void 0===this.byId(\"addPost_popover\")&&(new sap.m.ResponsivePopover(this.createId(\"addPost_popover\"),{placement:sap.m.PlacementType.Auto,title:this._oLanguageBundle.getText(\"ST_ADD_POST_TITLE\"),contentWidth:\"25rem\",contentHeight:\"10rem\",content:new d(this.createId(\"social_TextArea\"),{height:\"10rem\",width:\"100%\",liveChange:[function(e){\"\"!==e.getParameter(\"value\").trim()?this.byId(\"addPost_postButton\").setEnabled(!0):this.byId(\"addPost_postButton\").setEnabled(!1)},this],suggest:[this.onSuggest,this],afterSuggestionClose:[function(){this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort()},this]}),endButton:new sap.m.Button(this.createId(\"addPost_postButton\"),{text:this._oLanguageBundle.getText(\"ST_ADD_POST_BUTTON\"),enabled:!1,press:[this.onAddPost,this]})}).setInitialFocus(this.byId(\"social_TextArea\")),sap.ui.Device.system.phone||this.byId(\"addPost_popover\").setBeginButton(new sap.m.Button(this.createId(\"addPost_atMentionButton\"),{text:\"@\",press:[function(){this.byId(\"social_TextArea\").atMentionsButtonPressed()},this]})));var e=new sap.m.Button(this.createId(\"addPost_button\"),{enabled:\"{/addPostButtonEnabled}\",icon:\"sap-icon://add\",type:sap.m.ButtonType.Transparent,press:[function(){this.byId(\"addPost_popover\").openBy(this.byId(\"addPost_button\"))},this]});return e.setModel(this._oViewDataModel),e},_clearTimeline:function(){this.byId(\"timeline\").destroyContent()},_createTimelineItem:function(e){var t=new sap.ui.model.json.JSONModel(e),i=new a(this.createId(e.Id+\"_embedded\"),{feedEntry:\"{/}\",serviceUrl:this._oMode.getJamServiceUrl(),expandCollapseClick:[function(){this.byId(\"timeline\").adjustUI()},this],atMentionClick:[this.onAtMentionClicked,this],previewLoad:[function(e){this.byId(\"timeline\").adjustUI()},this]}),s=new r(this.createId(\"replyPostPopover_\"+e.Id),{socialTextArea:new d({height:\"80px\",width:\"100%\",suggestionPlacement:sap.m.PlacementType.Top,suggest:[this.onSuggest,this],afterSuggestionClose:[function(){this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort()},this]}),postReplyPress:[this.onPostReplyPress,this],moreRepliesPress:[function(e){var t=e.getSource().getParent();this._getReplies(void 0,t.getModel().getData().Replies.__next,t)},this],afterClose:[function(){this._oPendingRequests.loadingRepliesRequest&&this._oPendingRequests.loadingRepliesRequest.abort(),this._bReplyPopoverIsOpen=!1},this]});s.getSocialTextArea().attachLiveChange(function(e){\"\"!==e.getParameter(\"value\").trim()?this.enableButton(!0):this.enableButton(!1)}.bind(s));var n=new sap.ui.core.CustomData({key:\"1\",value:this._oLanguageBundle.getText(\"ST_MORE_CUSTOM_ACTION\")}),l=new o(this.createId(e.Id),{dateTime:\"{/CreatedAt}\",userName:\"{/Creator/FullName}\",title:\"{/Action}\",text:\"{/Text}\",icon:\"sap-icon://post\",userNameClickable:this._oViewDataModel.getProperty(\"/enableSocial\"),userNameClicked:[this.onUserNameClicked,this],userPicture:{path:\"/Creator/Id\",formatter:this._buildThumbnailImageURL.bind(this)},replyCount:\"{/RepliesCount}\",embeddedControl:i,customReply:s,replyListOpen:[this.onReplyListOpen,this],customAction:n,customActionClicked:[this.onMoreClicked,this]});return l.setModel(t),l.setTitle(\"‎\"+l.getTitle()+\"‎\"),l},_addFeedEntriesToTimeline:function(e){var t=this.byId(\"timeline\");e.forEach(function(e){var o=this._createTimelineItem(e);t.addContent(o)},this)},_processFeedEntries:function(e){e.length>0?this._addFeedEntriesToTimeline(e):this._oViewDataModel.setProperty(\"/forceGrowing\",!1),this._setTimelineToNotBusy()},_processAtMentions:function(){this._oPendingRequests.loadingFeedAtMentions&&this._oPendingRequests.loadingFeedAtMentions.state(\"pending\")&&this._oPendingRequests.loadingFeedAtMentions.abort();var t,o=this,i={async:!0,success:function(e,t){s.resolveWith(o,[e,t])},error:function(e){o._oLogger.error(\"Failed to retrieve the @mentions.\"),s.rejectWith(o,[e])}};this._oAtMention.atMentionsNextLink?(t=\"/\"+this._oAtMention.atMentionsNextLink,i.urlParameters=this._extractUrlParams(decodeURIComponent(this._oAtMention.atMentionsNextLink))):t=\"/FeedEntries(\"+e.sap.encodeURL(\"'\"+this._oAtMention.feedId+\"'\")+\")/AtMentions\";var s=e.Deferred();s.done(function(e,t){if(o._oAtMention.atMentionsNextLink=e.__next,o._oAtMention.aAtMentions=o._oCommonUtil.getODataResult(e).concat(o._oAtMention.aAtMentions),o._oAtMention.atMentionsNextLink)o._processAtMentions();else{var i={openingControl:o._oAtMention.oUserNameLink,memberId:o._oAtMention.aAtMentions[o._oAtMention.placeholderIndex].Email};o._oSocialProfile.setSettings(i),o._oSocialProfile.open()}}),this._oPendingRequests.loadingFeedAtMentions=s.promise(this._oJamModel.read(t,i))},_createSocialProfile:function(){return this._oSocialProfile=(new sap.ui.getCore).createComponent(\"sap.collaboration.components.socialprofile\"),this._oSocialProfile},_setTimelineToBusy:function(){this.byId(\"timeline\").setBusyIndicatorDelay(0).setBusy(!0)},_setTimelineToNotBusy:function(){this.byId(\"timeline\").setBusyIndicatorDelay(0).setBusy(!1)},_showFeedUpdatesInTimeline:function(e){var t=this.byId(\"timeline\"),o=t.getMessageStrip();if(e>0){if(!this.byId(\"refreshLink\")){var i=new sap.m.Link(this.createId(\"refreshLink\"),{text:this._oLanguageBundle.getText(\"GF_REFRESH_FEED\"),press:[function(){var e=this._oViewDataModel.getProperty(\"/feedEndpoint\");this._initialLoadFeedEntries(e)},this]});o.setLink(i),o.setType(sap.ui.core.MessageType.Information),o.setShowIcon(!0)}1==e?t.setCustomMessage(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATE\")):t.setCustomMessage(this._oLanguageBundle.getText(\"GF_NEW_FEED_UPDATES\",e)),o.setVisible(!0),t.rerender()}},_hideFeedUpdatesInTimeline:function(){this.byId(\"timeline\").getMessageStrip().close()},onGrow:function(e){if(!this._oPendingRequests.loadingFeedEntriesRequest||\"pending\"!=!this._oPendingRequests.loadingFeedEntriesRequest.state()){var t=this._oViewDataModel.getProperty(\"/feedEndpoint\");this._loadFeedEntries(t).done(this._loadFeedEntriesSuccess.bind(this))}},onGroupSelectorButtonPress:function(e){this._oMode.displayFeedSourceSelectorPopover(e.getSource())},onAddPost:function(e){this.byId(\"addPost_popover\").close();var t=this.byId(\"social_TextArea\").convertTextWithFullNamesToEmailAliases();t&&\"\"!==t.trim()?this._getLoggedInUser().done(function(){this._setTimelineToBusy();var e=function(e,t){this.byId(\"social_TextArea\").clearText(),this.byId(\"addPost_postButton\").setEnabled(!1),this._setTimelineToNotBusy();var o=this._oCommonUtil.getODataResult(e);o.Creator=this._mCurrentUser;var i=this._createTimelineItem(o);this.byId(\"timeline\").insertContent(i,0)},o=function(e){this._oLogger.error(\"Error occured when adding a post.\",e.stack)},i=this._oMode.addPost(t);this._oPostRequestData={path:i.path,payload:i.payload},this._oPostRequestData.parameters={success:e,error:o},i.promise.then(e.bind(this),o.bind(this))}.bind(this)):this._oLogger.info(\"Posting an empty comment is not allowed, no feed entry will be created.\")},onReplyListOpen:function(e){if(e.getSource().getCustomReply().getTextArea().focus(),!this._bReplyPopoverIsOpen){this._bReplyPopoverIsOpen=!0;var t=e.getSource(),o=t.getModel().getProperty(\"/Id\");this._getReplies(o,void 0,t)}},onPostReplyPress:function(t){var o=this,i=t.getParameter(\"value\"),s=t.getSource().getParent(),n=s.getCustomReply(),a=s.getModel().getData().Id,r=\"/FeedEntries('\"+e.sap.encodeURL(a)+\"')/Replies\",d={Text:i};this._getLoggedInUser(),this._getLoggedInUser().done(function(){var e={async:!0,success:function(e,t){n.getTextArea().clearText(),n.enableButton(!1),n.setBusy(!1);var i=o._oCommonUtil.getODataResult(e),a={CreatedAt:o._oDateUtil.formatDateToString(i.CreatedAt),Text:i.Text,Creator:o._mCurrentUser};a.Creator.ThumbnailImage=o._buildThumbnailImageURL(o._mCurrentUser.Id),n.addReply(a),s.getModel().setProperty(\"/RepliesCount\",s.getModel().getProperty(\"/RepliesCount\")+1)},error:function(e){o._oLogger.error(\"Failed to post reply: \"+e.statusText,e.stack)}};n.getTextArea().focus(),n.setBusyIndicatorDelay(0).setBusy(!0),this._oPostRequestData={path:r,payload:d,parameters:e},this._oJamModel.create(r,d,e)}.bind(this))},onSuggest:function(t){var o=this;this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort();var i=t.getSource(),s=t.getParameter(\"value\");if(\"\"===s.trim())i.showSuggestions([]);else{var n={async:!0,urlParameters:{Query:\"'\"+s+\"'\",GroupId:\"'\"+this._oViewDataModel.getProperty(\"/groupSelected/Id\")+\"'\",$top:\"4\"},success:function(e,t){a.resolveWith(o,[e,t])},error:function(e){o._oLogger.error(\"Failed to get suggestions: \"+e.statusText),a.rejectWith(o,[e])}},a=e.Deferred();a.done(function(e,t){var s=o._oCommonUtil.getODataResult(e);if(0===s.length)i.closeSuggestionPopover();else{for(var n=[],a=s.length,r=0;r<a;r++)n.push({fullName:s[r].FullName,email:s[r].Email,userImage:o._buildThumbnailImageURL(s[r].Id)});i.showSuggestions(n)}}),this._oPendingRequests.loadingSuggestionsRequest=a.promise(this._oJamModel.read(\"/Members_Autocomplete\",n))}},onUserNameClicked:function(e){var t=e.getSource(),o=t.getModel(),i={openingControl:t._userNameLink,memberId:o.getProperty(\"/Creator/Email\")};this._oSocialProfile.setSettings(i),this._oSocialProfile.open()},onMoreClicked:function(e){var t=e.getSource().getModel().getProperty(\"/WebURL\"),o=e.getSource().getModel().getProperty(\"/Id\"),i=e.getSource().getParent().getModel().getProperty(\"/groupSelected/Name\"),s=e.getSource().getParent().getModel().getProperty(\"/groupSelected/WebURL\"),n=this.byId(this.createId(\"moreListPopover_\"+o));if(void 0===n){var a=new sap.m.List(this.createId(\"moreList_\"+o),{}),r=new sap.m.Link(this.createId(\"groupNameLink_\"+o),{text:this._oLanguageBundle.getText(\"ST_GROUP_NAME_LINK\",i),target:\"_blank\",href:s,width:\"15em\"}).addStyleClass(\"sapCollaborationCustomLinkPadding\"),d=new sap.m.CustomListItem(this.createId(o+\"_groupNameLinkListItem\"),{content:r});a.addItem(d);var l=new sap.m.Link(this.createId(\"feedEntryLink_\"+o),{text:this._oLanguageBundle.getText(\"ST_FEED_ENTRY_LINK\"),target:\"_blank\",href:t,width:\"15em\"}).addStyleClass(\"sapCollaborationCustomLinkPadding\"),u=new sap.m.CustomListItem(this.createId(\"feedEntryLinkListItem_\"+o),{content:l});a.addItem(u);var h=!1;sap.ui.Device.system.phone&&(h=!0),n=new sap.m.ResponsivePopover(this.createId(\"moreListPopover_\"+o),{content:a,showHeader:h,title:this._oLanguageBundle.getText(\"ST_MORE_CUSTOM_ACTION\"),showCloseButton:!0,placement:sap.m.PlacementType.VerticalPreferedBottom,contentWidth:\"15em\"});var c=function(){this.close()};r.attachPress(c.bind(n)),l.attachPress(c.bind(n))}n.openBy(e.getParameter(\"linkObj\"))},onAtMentionClicked:function(e){var t=e.getSource().getModel().getProperty(\"/Id\"),o=e.getParameter(\"link\"),i=o.getModel().getProperty(\"/placeholderIndex\");this._oAtMention={feedId:t,oUserNameLink:o,placeholderIndex:i,aAtMentions:[],atMentionsNextLink:void 0},this._processAtMentions()},_onFeedEndpointChange:function(e){var t=e.getSource().getValue();this._initialLoadFeedEntries(t)},_onFeedSourcesChange:function(e){var t,o=e.getSource().getValue();if(Array.isArray(o)&&(o={mode:sap.collaboration.FeedType.GroupIds,data:o}),this._oMode&&this._oMode.stop(),!this._oCommonUtil.isString(o.mode))throw t=\"The mode must be a string.\",this.logError(t),this.byId(\"timeline\").destroy(),new Error(t);void 0===this._oModes[o.mode]&&(this._oModes[o.mode]=h.getInstance().createMode(o.mode,this)),this._oMode=this._oModes[o.mode],this._oMode.start(o.data)},_onFilterMessageChange:function(e){var t=e.getSource().getValue();this.byId(\"timeline\").setCustomMessage(t),this.byId(\"timeline\").rerender()},_onMetadataFailed:function(e){switch(e.oSource.sServiceUrl){case this._oMode.getJamServiceUrl():this._oLogger.error(\"Failed to load Jam metadata. Service unavailable or possible missing JAM configuration.\"),this._displayJamConnectionErrorMessage(),this._oMode.setJamServiceAvailable(!1);break;case this._oMode.getSMIv2ServiceUrl():this._oLogger.error(\"Failed to load SMIv2 metadata.\"),this.displayErrorMessage()}this.disableGroupFeed()},_onJamRequestCompleted:function(e){var t=e.getParameter(\"method\");e.success&&\"POST\"===t&&(this._oPendingRequests.refreshingSecurityToken=void 0)},_onJamRequestFailed:function(e){this._setTimelineToNotBusy();var t=e.getParameter(\"method\"),o=parseInt(e.getParameter(\"response\").statusCode,10),i=e.getParameter(\"feedEndpoint\");if(i||(i=e.getParameter(\"url\")),/ExternalObjects_FindByExidAndObjectType/.test(i))this.disableGroupFeed();else switch(o){case 403:\"POST\"===t?void 0===this._oPendingRequests.refreshingSecurityToken?this._refreshSecurityToken().done(function(e,t){this._oJamModel.create(this._oPostRequestData.path,this._oPostRequestData.payload,this._oPostRequestData.parameters)}):(this._oPendingRequests.refreshingSecurityToken=void 0,this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_NO_ACCESS_TO_POST_TO_GROUP\"))):this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_FORBIDDEN_ACCESS\"));break;case 404:/Groups\\(.*\\)\\/FeedEntries/.test(i)?(this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_NO_ACCESS_TO_GROUP\")),this.disableGroupFeed()):/Groups\\(.*\\)/.test(i)?(this.displayErrorMessage(this._oLanguageBundle.getText(\"JAM_NO_ACCESS_TO_GROUP\")),this.disableGroupFeed()):/GroupExternalObject_FeedLatestCount|Group_FeedLatestCount/.test(i)?this._stopAutoCheckingForNewUpdates():this.displayErrorMessage();break;case 500:case 503:this._displayJamConnectionErrorMessage();break;default:this.displayErrorMessage()}},_onJamRequestSent:function(e){},_onBatchCompleted:function(e){this._oJamModel.setUseBatch(!1),this._oMode.onBatchCompleted(e)},_onBatchFailed:function(e){},_onBatchSent:function(e){},_abortAllPendingRequests:function(){this._oPendingRequests.loadingFeedEntriesRequest&&this._oPendingRequests.loadingFeedEntriesRequest.abort(),this._oPendingRequests.loadingRepliesRequest&&this._oPendingRequests.loadingRepliesRequest.abort(),this._oPendingRequests.loadingSuggestionsRequest&&this._oPendingRequests.loadingSuggestionsRequest.abort()},_refreshSecurityToken:function(){var t=this,o=e.Deferred();return this._oPendingRequests.refreshingSecurityToken=o.promise(this._oJamModel.refreshSecurityToken(function(e,i){t._oLogger.info(\"Security token refreshed\"),o.resolveWith(t,[e,i])},function(e){t._oLogger.error(\"Security token error: \"+e.statusText),o.rejectWith([e],t)}))},_getLoggedInUser:function(){var t=e.Deferred();if(!this._mCurrentUser){var o={success:function(e,o){this._mCurrentUser=this._oCommonUtil.getODataResult(e),t.resolve(e,o)}.bind(this),error:function(e){this._oLogger.error(\"Failed to get the logged in user\",e.stack),t.reject(e)}.bind(this)};return t.promise(this._oJamModel.read(\"/Self\",o))}return t.resolve()},_loadFeedEntries:function(e){var t=void 0;if(this._oMode.isJamServiceAvailable()){this._setTimelineToBusy();var o=this._oNextLinks.feedEntriesNextLink;return\"\"!==o&&(o=decodeURIComponent(o),t=this._extractUrlParams(o).$skiptoken),this._oPendingRequests.loadingFeedEntriesRequest=this._oMode.getFeedEntries(e,t)}},_loadFeedEntriesSuccess:function(e,t){this._oNextLinks.feedEntriesNextLink=e.__next;var o=this._oCommonUtil.getODataResult(e);this._processFeedEntries(o)},_initialLoadFeedEntries:function(e){this._oPendingRequests.loadingFeedEntriesRequest&&this._oPendingRequests.loadingFeedEntriesRequest.abort(),this._initializeRequestStateData(),this._oViewDataModel.setProperty(\"/forceGrowing\",!0),this._hideFeedUpdatesInTimeline(),this._stopAutoCheckingForNewUpdates(),this._loadFeedEntries(e).done([this._clearTimeline.bind(this),this._loadFeedEntriesSuccess.bind(this),this._startAutoCheckingForNewUpdates.bind(this)])},_getReplies:function(t,o,i){var s,n=this,a={async:!0,urlParameters:{$orderby:\"CreatedAt desc\",$expand:\"Creator\"},success:function(e,t){n._oLogger.info(\"Replies were successfully retrieved.\"),d.resolveWith(n,[e,t])},error:function(e){n._oLogger.error(\"Failed to retrieve replies: \"+e.statusText),d.rejectWith(n,[e])}},r=i.getCustomReply();o?(s=\"/\"+o,a.urlParameters=this._extractUrlParams(decodeURIComponent(o)),a.urlParameters.$orderby=a.urlParameters.$orderby.replace(\"+\",\" \")):s=\"/FeedEntries('\"+e.sap.encodeURL(t)+\"')/Replies\";var d=e.Deferred();d.done(function(e,t){var o=n._oCommonUtil.getODataResult(e).reverse();o.forEach(function(e){e.Creator.ThumbnailImage=n._buildThumbnailImageURL(e.Creator.Id),e.CreatedAt=n._oDateUtil.formatDateToString(e.CreatedAt)}),r.addReplies({data:o,more:!!e.__next}),i.getModel().getData().Replies.__next=e.__next}).always(function(){r.setBusy(!1)}).fail(function(){r._oReplyPopover.close()}),r.setBusyIndicatorDelay(0).setBusy(!0),this._oPendingRequests.loadingRepliesRequest=d.promise(this._oJamModel.read(s,a))},logError:function(e){this._oLogger.error(e)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){this.getView().setModel(e,t)},getLanguageBundle:function(){return this._oLanguageBundle},setJamModel:function(e){this._oJamModel=e,this.setModel(e,\"jam\")},setSmiModel:function(e){this._oSMIModel=e,this.setModel(e,\"smi\")},displayErrorMessage:function(e){var t=e||this._oLanguageBundle.getText(\"SYSTEM_ERROR_MESSAGEBOX_GENERAL_TEXT\");i.error(t)},_displayJamConnectionErrorMessage:function(){var e=this._oLanguageBundle.getText(\"JAM_CONNECTION_ERROR_MESSAGEBOX_TEXT\");i.error(e)},disableGroupFeed:function(){this._abortAllPendingRequests();var t=this.byId(\"timeline\");e.isEmptyObject(t)||(t.setBusyIndicatorDelay(0).setBusy(!1),this._clearTimeline(),this._oViewDataModel.setProperty(\"/groupSelectorEnabled\",!1),this._oViewDataModel.setProperty(\"/addPostButtonEnabled\",!1),this._oViewDataModel.setProperty(\"/forceGrowing\",!1))},enableGroupFeed:function(){var t=this.byId(\"timeline\");e.isEmptyObject(t)||(t.setBusyIndicatorDelay(0).setBusy(!1),this._oViewDataModel.setProperty(\"/groupSelectorEnabled\",!0),this._oViewDataModel.setProperty(\"/addPostButtonEnabled\",!0),this._oViewDataModel.setProperty(\"/forceGrowing\",!0))},_startAutoCheckingForNewUpdates:function(){this._iNewFeedUpdatesCheckerTimeDelay=12e4,this._sNewFeedUpdatesCheckerTimeoutId=e.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)},_stopAutoCheckingForNewUpdates:function(){e.sap.clearDelayedCall(this._sNewFeedUpdatesCheckerTimeoutId)},_checkForNewFeedUpdates:function(){this._oMode.getFeedUpdatesLatestCount().done(function(t,o){this._showFeedUpdatesInTimeline(t),this._sNewFeedUpdatesCheckerTimeoutId=e.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this)).fail(function(t){this._oLogger.error(\"Failed to check for new feed updates.\"),this._sNewFeedUpdatesCheckerTimeoutId=e.sap.delayedCall(this._iNewFeedUpdatesCheckerTimeDelay,this,this._checkForNewFeedUpdates)}.bind(this))},_extractUrlParams:function(e){var t={};return e.slice(e.indexOf(\"?\")+1).split(\"&\").forEach(function(e){var o=e.indexOf(\"=\");t[e.slice(0,o)]=e.slice(o+1)}),t},_buildThumbnailImageURL:function(t){return this._oJamModel.sServiceUrl+\"/Members('\"+e.sap.encodeURL(t)+\"')/ThumbnailImage/$value\"}})},!0);",
	"web/ui5/resources/sap/collaboration/components/feed/fragments/CustomListItem.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\"><CustomListItem><content><Label\n\t\t\t\ttext=\"{Name}\"\n\t\t\t\twidth=\"20em\"\n\t\t\t\tclass=\"sapUiTinyMarginBeginEnd sapUiTinyMarginTopBottom\"\n\t\t\t/></content></CustomListItem></core:FragmentDefinition>",
	"web/ui5/resources/sap/collaboration/components/feed/fragments/GroupSelector.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\"><ResponsivePopover\n\t\tid=\"responsivePopover\"\n\t\tplacement=\"Vertical\"\n\t\tcontentWidth=\"20em\"\n\t\ttitle=\"{i18n>ST_GROUP_SELECT_HEADER}\"\n\t\t><content><SearchField\n\t\t\t\tliveChange=\".onGroupSearch\"\n\t\t\t\twidth=\"100%\"/><List\n\t\t\t\tid=\"list\"\n\t\t\t\tmode=\"SingleSelectMaster\"\n\t\t\t\tnoDataText=\"{i18n>GRP_NO_GROUPS_FOUND_TEXT}\"\n\t\t\t\tgrowing=\"true\"\n\t\t\t\tgrowingThreshold=\"5\"\n\t\t\t\tgrowingScrollToLoad=\"false\"\n\t\t\t\tselectionChange=\".onGroupSelected\"></List></content></ResponsivePopover></core:FragmentDefinition>",
	"web/ui5/resources/sap/collaboration/components/feed/views/GroupFeed.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:m=\"sap.m\" xmlns:commons=\"sap.suite.ui.commons\" xmlns:collaboration=\"sap.collaboration\" \n\t\tcontrollerName=\"sap.collaboration.components.feed.views.GroupFeed\" xmlns:html=\"http://www.w3.org/1999/xhtml\"><commons:Timeline\n\t   id=\"timeline\"\n\t   enableSocial=\"{/enableSocial}\"\n\t   axisOrientation=\"{/axisOrientation}\"\n\t   enableScroll=\"{/enableScroll}\"\n\t   forceGrowing=\"{/forceGrowing}\"\n\t   growingThreshold=\"{/growingThreshold}\"\n\t   sort=\"false\"\n\t   grow=\".onGrow\"\n\t   ></commons:Timeline></mvc:View>"
}, "web/ui5/resources/sap/collaboration/components/feed/Component-preload");